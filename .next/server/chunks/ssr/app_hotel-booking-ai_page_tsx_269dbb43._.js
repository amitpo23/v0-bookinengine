module.exports=[73791,a=>{"use strict";var b=a.i(82746),c=a.i(80940),d=a.i(40076),e=a.i(61237);let f=(0,e.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var g=a.i(13088),h=a.i(75407),i=a.i(28980),j=a.i(6665),k=a.i(47878),l=a.i(84980),m=a.i(96826),n=a.i(82634),o=a.i(75686),p=a.i(76929),q=a.i(51071),r=a.i(12582),s=a.i(60090),t=a.i(11292);let u={"building-2":d.Building2,"trending-down":f,headphones:g.Headphones,phone:h.Phone,sparkles:i.Sparkles,users:j.Users,star:k.Star};function v({language:a="en",onSelectEngine:e}){let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(null),[v,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!1),E="he"===a;(0,c.useEffect)(()=>{F()},[]);let F=async()=>{try{x(!0),z(null);let[a,b,c]=await Promise.all([fetch("/api/hotel-booking-ai?action=templates"),fetch("/api/hotel-booking-ai?action=engines"),fetch("/api/hotel-booking-ai?action=stats")]),d=await a.json(),e=await b.json(),f=await c.json();d.success&&g(d.data),e.success&&i(e.data),f.success&&k(f.data)}catch(a){z(a.message||"Failed to load data")}finally{x(!1)}},G=async a=>{try{D(!0);let b=await fetch("/api/hotel-booking-ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"create",templateId:a})}),c=await b.json();c.success&&(await F(),e&&e(c.data.id))}catch(a){z(a.message)}finally{D(!1)}},H=async a=>{try{let b=await fetch(`/api/hotel-booking-ai?id=${a}`,{method:"DELETE"});(await b.json()).success&&await F()}catch(a){z(a.message)}};return v?(0,b.jsxs)("div",{className:"flex items-center justify-center h-96",children:[(0,b.jsx)(s.RefreshCw,{className:"w-8 h-8 animate-spin text-blue-500"}),(0,b.jsx)("span",{className:"ml-2 text-gray-600",children:"he"===a?"注...":"Loading..."})]}):y?(0,b.jsxs)("div",{className:"flex items-center justify-center h-96 text-red-500",children:[(0,b.jsx)(r.AlertCircle,{className:"w-8 h-8 mr-2"}),(0,b.jsx)("span",{children:y}),(0,b.jsx)("button",{onClick:F,className:"ml-4 px-4 py-2 bg-red-100 rounded-lg hover:bg-red-200",children:"he"===a?"住 砖":"Retry"})]}):(0,b.jsxs)("div",{className:`p-6 space-y-8 ${E?"rtl":"ltr"}`,dir:E?"rtl":"ltr",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"he"===a?"注 转 AI":"Hotel Booking AI"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"he"===a?" 专 注 转 住住 AI":"Manage and monitor AI-powered booking engines"})]}),(0,b.jsxs)("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,b.jsx)(s.RefreshCw,{className:"w-4 h-4"}),"he"===a?"专注":"Refresh"]})]}),j&&(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,b.jsx)(w,{icon:(0,b.jsx)(q.Zap,{className:"w-5 h-5 text-green-500"}),label:"he"===a?"注 驻注":"Active Engines",value:j.activeEngines,color:"green"}),(0,b.jsx)(w,{icon:(0,b.jsx)(n.MessageSquare,{className:"w-5 h-5 text-blue-500"}),label:"he"===a?"砖转":"Conversations",value:j.totalConversations,color:"blue"}),(0,b.jsx)(w,{icon:(0,b.jsx)(o.BarChart3,{className:"w-5 h-5 text-purple-500"}),label:"he"===a?"注转":"Messages",value:j.totalMessages,color:"purple"}),(0,b.jsx)(w,{icon:(0,b.jsx)(t.Settings,{className:"w-5 h-5 text-orange-500"}),label:"he"===a?"":"Tool Calls",value:j.totalToolCalls,color:"orange"}),(0,b.jsx)(w,{icon:(0,b.jsx)(p.Clock,{className:"w-5 h-5 text-cyan-500"}),label:"he"===a?" 转 爪注":"Avg Response",value:`${Math.round(j.avgResponseTime)}ms`,color:"cyan"}),(0,b.jsx)(w,{icon:(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5 text-red-500"}),label:"he"===a?"砖转":"Error Rate",value:`${j.errorRate.toFixed(1)}%`,color:"red"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"he"===a?"转转 注":"Engine Templates"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f.map(c=>{let e=u[c.icon]||d.Building2;return(0,b.jsxs)("div",{className:`bg-white rounded-xl border-2 p-5 hover:shadow-lg transition-all cursor-pointer ${A===c.id?"border-blue-500 shadow-md":"border-gray-200 hover:border-gray-300"}`,onClick:()=>B(c.id),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg bg-${c.color}-100`,children:(0,b.jsx)(e,{className:`w-6 h-6 text-${c.color}-600`})}),(0,b.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[c.skillCount," ","he"===a?"转":"skills"]})]}),(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"he"===a?c.nameHe:c.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"he"===a?c.descriptionHe:c.description}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.capabilities.slice(0,3).map(a=>(0,b.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:a},a)),c.capabilities.length>3&&(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:["+",c.capabilities.length-3]})]}),(0,b.jsxs)("button",{onClick:a=>{a.stopPropagation(),G(c.id)},disabled:C,className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:[(0,b.jsx)(l.Plus,{className:"w-4 h-4"}),"he"===a?"爪专 注":"Create Engine"]})]},c.id)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["he"===a?"注 驻注":"Active Engines",(0,b.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",h.length,")"]})]}),0===h.length?(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[(0,b.jsx)(d.Building2,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-600",children:"he"===a?" 注 驻注. 爪专  转转 注.":"No active engines. Create one from the templates above."})]}):(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"he"===a?"注":"Engine"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"he"===a?"住住":"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"he"===a?"注转":"Messages"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"he"===a?" 转":"Avg Response"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"he"===a?"驻注转 专":"Last Active"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-600",children:"he"===a?"驻注转":"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:h.map(c=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"px-4 py-3",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:c.templateName}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 font-mono",children:[c.id.slice(0,20),"..."]})]}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${"active"===c.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===c.status?"bg-green-500":"bg-gray-400"}`}),c.status]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-gray-600",children:c.metrics.messagesProcessed}),(0,b.jsxs)("td",{className:"px-4 py-3 text-gray-600",children:[Math.round(c.metrics.avgResponseTime),"ms"]}),(0,b.jsx)("td",{className:"px-4 py-3 text-gray-600 text-sm",children:new Date(c.lastActiveAt).toLocaleString("he"===a?"he-IL":"en-US")}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>e?.(c.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"he"===a?"驻转 爪'":"Open Chat",children:(0,b.jsx)(n.MessageSquare,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>H(c.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"he"===a?"拽":"Delete",children:(0,b.jsx)(m.Trash2,{className:"w-4 h-4"})})]})})]},c.id))})]})})]})]})}function w({icon:a,label:c,value:d,color:e}){return(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-lg bg-${e}-50`,children:a}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:d}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:c})]})]})})}var x=a.i(65604);let y=(0,e.default)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),z=(0,e.default)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),A=(0,e.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),B=(0,e.default)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var C=a.i(60493),D=a.i(6681),E=a.i(94480),F=a.i(78346),G=a.i(3803);function H({isActive:a,currentStep:c,toolsExecuted:d,className:e=""}){return a||c||0!==d.length?(0,b.jsxs)("div",{className:`bg-gray-50 dark:bg-gray-800 rounded-lg p-3 ${e}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,b.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),!a&&"Complete"===c&&(0,b.jsx)("div",{className:"h-4 w-4 bg-green-500 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:c||"Ready"})]}),d.length>0&&(0,b.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:d.map((a,c)=>(0,b.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[" ",a]},c))})]}):null}function I({text:a,isStreaming:c,className:d=""}){return(0,b.jsxs)("div",{className:`prose dark:prose-invert max-w-none ${d}`,children:[a,c&&(0,b.jsx)("span",{className:"inline-block w-2 h-4 bg-blue-500 animate-pulse ml-1"})]})}function J({instanceId:a,language:d="en",onBack:e,className:f=""}){let[g,h]=(0,c.useState)([]),[j,k]=(0,c.useState)(""),[l,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),[q,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),L=(0,c.useRef)(null),M=(0,c.useRef)(null),N="he"===d,{sendMessage:O,isStreaming:P,currentProgress:Q,streamedText:R,toolsExecuted:S,error:T,reset:U}=function(a){let{engineId:b,engineType:d,config:e,onProgress:f,onChunk:g,onComplete:h,onError:i}=a,[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(null),t=(0,c.useCallback)(()=>{k(!1),m(""),o(""),q([]),s(null)},[]);return{sendMessage:(0,c.useCallback)(async a=>{t(),k(!0);try{let c=await fetch("/api/hotel-booking-ai/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({engineId:b,engineType:d,config:e,message:a,stream:!0,createNew:!b&&!!d})});if(!c.ok)throw Error("Stream request failed");let j=c.body?.getReader();if(!j)throw Error("No response body");let k=new TextDecoder,l="";for(;;){let{done:a,value:b}=await j.read();if(a)break;let c=(l+=k.decode(b,{stream:!0})).split("\n\n");for(let a of(l=c.pop()||"",c))if(a.startsWith("event:")){let b=a.match(/event: (\w+)\ndata: ([\s\S]+)/);if(b){let[,a,c]=b;try{let b=JSON.parse(c),d={type:a,...b};switch(a){case"connected":m("Connected");break;case"progress":m(b.message||b.step||"");break;case"tools":b.tools&&q(b.tools),m(`Executed ${b.tools?.length||0} tools`);break;case"chunk":o(a=>a+(a?" ":"")+b.text),g?.(b.text);break;case"complete":m("Complete"),b.toolsUsed&&q(b.toolsUsed),h?.({response:b.response,toolsUsed:b.toolsUsed});break;case"error":s(b.error),i?.(b.error)}f?.(d)}catch(a){console.error("Failed to parse SSE data:",a)}}}}}catch(a){s(a.message),i?.(a.message)}finally{k(!1)}},[b,d,e,f,g,h,i,t]),isStreaming:j,currentProgress:l,streamedText:n,toolsExecuted:p,error:r,reset:t}}({engineId:a,onComplete:a=>{let b={role:"assistant",content:a.response,timestamp:new Date().toISOString(),toolCalls:a.toolsUsed?.map(a=>({name:a,parameters:{}}))};h(a=>[...a,b]),n(!1)},onError:a=>{s(a),n(!1)}}),V=q||T;(0,c.useEffect)(()=>{W(),X()},[a]),(0,c.useEffect)(()=>{L.current?.scrollIntoView({behavior:"smooth"})},[g]);let W=async()=>{try{let b=await fetch(`/api/hotel-booking-ai?action=engine&id=${a}`),c=await b.json();if(c.success){p({id:c.data.id,templateName:c.data.template.name,persona:c.data.template.persona,status:c.data.status});let b=await fetch(`/api/hotel-booking-ai/chat?instanceId=${a}&action=greeting&language=${d}`),e=await b.json();e.success&&e.data.greeting&&h([{role:"assistant",content:e.data.greeting,timestamp:new Date().toISOString()}])}}catch(a){s(a.message)}},X=async()=>{try{let b=await fetch("/api/hotel-booking-ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"history",instanceId:a})}),c=await b.json();c.success&&c.data.history.length>0&&h(c.data.history)}catch(a){console.error("Failed to fetch history:",a)}},Y=async()=>{if(!j.trim()||l||P)return;let a={role:"user",content:j.trim(),timestamp:new Date().toISOString()};h(b=>[...b,a]);let b=j.trim();k(""),n(!0),s(null),U();try{await O(b)}catch(a){s(a.message||"Network error"),n(!1)}finally{M.current?.focus()}},Z=async()=>{try{let b=await fetch("/api/hotel-booking-ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"clear",instanceId:a})});(await b.json()).success&&(h([]),await W())}catch(a){s(a.message)}},$=async(a,b)=>{try{await navigator.clipboard.writeText(b),K(a),setTimeout(()=>K(null),2e3)}catch(a){console.error("Failed to copy:",a)}};return(0,b.jsxs)("div",{className:`flex flex-col h-full bg-gray-50 ${f}`,dir:N?"rtl":"ltr",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-b border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[e&&(0,b.jsx)("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(C.ChevronLeft,{className:`w-5 h-5 ${N?"rotate-180":""}`})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,b.jsx)(F.Bot,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:o?.persona?"he"===d?o.persona.nameHe:o.persona.name:"he"===d?"注专 转":"Booking Assistant"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:o?.persona?"he"===d?o.persona.roleHe:o.persona.role:o?.templateName})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>u(!t),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:t?"Unmute":"Mute",children:t?(0,b.jsx)(B,{className:"w-5 h-5 text-gray-500"}):(0,b.jsx)(A,{className:"w-5 h-5 text-gray-500"})}),(0,b.jsx)("button",{onClick:Z,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"he"===d?"拽 砖":"Clear chat",children:(0,b.jsx)(m.Trash2,{className:"w-5 h-5 text-gray-500"})})]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-4",children:[g.map((a,c)=>(0,b.jsxs)("div",{className:`flex gap-3 ${"user"===a.role?"flex-row-reverse":""}`,children:["assistant"===a.role&&(0,b.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,b.jsx)(F.Bot,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{className:`group relative max-w-[80%] rounded-2xl px-4 py-3 ${"user"===a.role?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[(0,b.jsx)("p",{className:"whitespace-pre-wrap",children:a.content}),a.toolCalls&&a.toolCalls.length>0&&(0,b.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-100",children:(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,b.jsx)(i.Sparkles,{className:"w-3 h-3"}),a.toolCalls.length," ","he"===d?" 驻注":"tools used"]})}),(0,b.jsx)("button",{onClick:()=>$(c,a.content),className:`absolute -top-2 ${N?"left-2":"right-2"} opacity-0 group-hover:opacity-100 p-1.5 bg-white border border-gray-200 rounded-lg shadow-sm transition-opacity`,children:J===c?(0,b.jsx)(E.Check,{className:"w-3 h-3 text-green-500"}):(0,b.jsx)(D.Copy,{className:"w-3 h-3 text-gray-400"})}),(0,b.jsx)("div",{className:`text-xs mt-1 ${"user"===a.role?"text-blue-200":"text-gray-400"}`,children:new Date(a.timestamp).toLocaleTimeString("he"===d?"he-IL":"en-US",{hour:"2-digit",minute:"2-digit"})})]}),"user"===a.role&&(0,b.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,b.jsx)(G.User,{className:"w-4 h-4 text-gray-600"})})]},c)),P&&R&&(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,b.jsx)(F.Bot,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3 max-w-[80%]",children:(0,b.jsx)(I,{text:R,isStreaming:P})})]}),(l||P)&&(0,b.jsx)(H,{isActive:l||P,currentStep:Q,toolsExecuted:S,className:"mx-4"}),V&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-red-500 bg-red-50 rounded-lg px-4 py-3",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:V})]}),(0,b.jsx)("div",{ref:L})]}),(0,b.jsxs)("div",{className:"px-4 py-3 bg-white border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{w(!v)},className:`p-3 rounded-full transition-colors ${v?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:v?(0,b.jsx)(z,{className:"w-5 h-5"}):(0,b.jsx)(y,{className:"w-5 h-5"})}),(0,b.jsx)("input",{ref:M,type:"text",value:j,onChange:a=>k(a.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),Y())},placeholder:"he"===d?"拽 注...":"Type a message...",disabled:l,className:"flex-1 px-4 py-3 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-colors"}),(0,b.jsx)("button",{onClick:Y,disabled:!j.trim()||l,className:"p-3 bg-blue-500 text-white rounded-full hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,b.jsx)(x.Send,{className:`w-5 h-5 ${N?"rotate-180":""}`})})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:"he"===d?"驻注 注  Hotel Booking AI":"Powered by Hotel Booking AI"})]})]})}function K(){let[a,d]=(0,c.useState)(null),[e,f]=(0,c.useState)("en");return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,b.jsx)("button",{onClick:()=>f(a=>"en"===a?"he":"en"),className:"px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors shadow-sm",children:"en"===e?"注专转":"English"})}),a?(0,b.jsx)("div",{className:"h-screen",children:(0,b.jsx)(J,{instanceId:a,language:e,onBack:()=>{d(null)},className:"h-full"})}):(0,b.jsx)(v,{language:e,onSelectEngine:a=>{d(a)}})]})}a.s(["default",()=>K],73791)}];

//# sourceMappingURL=app_hotel-booking-ai_page_tsx_269dbb43._.js.map