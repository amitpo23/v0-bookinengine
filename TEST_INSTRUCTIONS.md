# בדיקת תקינות API

## הרצת הבדיקה

הסקריפט בודק את כל תהליך ההזמנה עם תאריכים של 14 ימים קדימה (כפי שביקשת).

### הרצה:
```bash
npm run test:api
# או
bash scripts/run-test.sh
# או ישירות
npx tsx scripts/test-api-flow.ts
```

## מה הבדיקה בודקת:

1. **SEARCH** - חיפוש מלון "Dizengoff Inn" ב-2 שבועות קדימה
   - בודק שיש תוצאות
   - בודק שיש חדרים זמינים
   - בודק ש-room.code תקין (לפחות 10 תווים)

2. **PREBOOK** - שמירת חדר
   - בודק שהחדר נשמר בהצלחה
   - בודק שיש token
   - בודק ש-status = "done"

3. **BOOK** - הזמנה סופית
   - בודק שההזמנה עברה
   - בודק שיש bookingId
   - בודק ש-success = true

## תוצאות צפויות:

✅ **הצלחה**: כל השלבים עוברים בהצלחה
❌ **כשלון**: אם שלב נכשל, הסקריפט מציג בדיוק מה השגיאה

## שגיאות נפוצות:

- **401 Unauthorized** - בדוק ש-MEDICI_TOKEN נכון ב-environment variables
- **room.code חסר** - בדוק שה-API מחזיר קוד חדר תקין
- **hotelId = 0** - בדוק שה-hotel ID נמצא בתוצאות החיפוש
- **PreBook נכשל** - החדר כבר לא זמין או הקוד לא תקין
- **Book נכשל** - Token לא תקין או פרטי לקוח חסרים
```

```json file="" isHidden
