/**
 * Scarlet Hotel Tel Aviv - Complete Knowledge Base
 * Advanced AI Agent Configuration with Skills and Instructions
 */

import { scarletHotelConfig, scarletRoomTypes } from "./scarlet-config"

// ============================================
// SCARLET HOTEL KNOWLEDGE BASE
// ============================================

export const scarletKnowledgeBase = {
  // Hotel Identity & Brand
  identity: {
    name: "מלון סקרלט תל אביב",
    englishName: "Scarlet Hotel Tel Aviv",
    tagline: "היכן שהאורבני פוגש את הרומנטי",
    taglineEnglish: "Where Urban Meets Romantic",
    concept: "מלון בוטיק רומנטי עם עיצוב נועז וצבעוני בלב תל אביב",
    personality: [
      "רומנטי",
      "מודרני",
      "אורבני",
      "צעיר ברוח",
      "מסביר פנים",
      "אינטימי"
    ],
    targetAudience: "זוגות, מטיילים צעירים, אנשי עסקים שמחפשים חוויה ייחודית",
    uniqueSellingPoints: [
      "עיצוב צבעוני ונועז - כל חדר עם אווירה ייחודית",
      "מיקום מרכזי - 5 דקות מרוטשילד, 10 דקות מחוף הים",
      "חוויה רומנטית - חדרים עם אמבטיות Free-standing ומיטות עגולות",
      "שירות אישי - צוות קטן ומסור",
      "גמישות - אפשרות להוספת שירותים וחבילות"
    ]
  },

  // Location & Accessibility
  location: {
    address: "רחוב ג'וֹרדוֹן 17, תל אביב-יפו",
    neighborhood: "לב העיר, ליד רוטשילד",
    coordinates: {
      lat: 32.0667,
      lng: 34.7833
    },
    nearbyAttractions: [
      { name: "שדרות רוטשילד", distance: "5 דקות הליכה", description: "שדרה מרכזית עם בתי קפה ומסעדות" },
      { name: "חוף הים של תל אביב", distance: "10 דקות הליכה", description: "טיילת וחוף ים" },
      { name: "שוק הכרמל", distance: "7 דקות הליכה", description: "שוק עממי תוסס" },
      { name: "שוק הנמל", distance: "15 דקות הליכה", description: "שוק אוכל ואומנות" },
      { name: "יפו העתיקה", distance: "20 דקות נסיעה", description: "עיר עתיקה מרהיבה" },
      { name: "שכונת נווה צדק", distance: "12 דקות הליכה", description: "שכונה מקסימה עם בוטיקים" }
    ],
    transportation: {
      fromAirport: "30-40 דקות מנתב\"ג במונית/שירות הסעות",
      publicTransport: "תחנת אוטובוס 2 דקות הליכה",
      parking: "חניה ציבורית בסביבה (בתשלום)",
      bikeRental: "עמדות Tel-O-Fun בקרבת מקום"
    }
  },

  // Room Types - Complete Details
  rooms: scarletRoomTypes.map(room => ({
    ...room,
    detailedFeatures: {
      bedding: room.id === 'romantic-double' 
        ? "מיטה עגולה ייחודית במרכז החדר" 
        : room.id === 'suite'
        ? "מיטה קינג סייז + ספה מתקפלת"
        : "מיטה זוגית איכותית",
      bathroom: room.id === 'romantic-double' || room.id === 'deluxe-balcony-bathtub'
        ? "אמבטיה Free-standing יוקרתית"
        : room.id === 'suite'
        ? "2 חדרי רחצה מלאים"
        : "מקלחת עם פינוק",
      view: room.id.includes('balcony') 
        ? "נוף אורבני מרהיב מהמרפסת" 
        : "נוף אורבני או חצר פנימית שקטה",
      technology: [
        "טלוויזיה חכמה 43\"",
        "WiFi מהיר (ללא הגבלה)",
        "שקעי USB בכל מקום",
        "כספת אישית",
        "מיזוג אוויר חכם"
      ],
      amenities: [
        "מיני בר (בתשלום)",
        "פינת קפה ותה חינם",
        "מוצרי טיפוח איכותיים",
        "מגבות רכות ומצעים איכותיים",
        "מייבש שיער",
        "כלי גיהוץ (לפי בקשה)"
      ]
    },
    idealFor: room.id === 'romantic-double'
      ? ["זוגות רומנטיים", "חגיגות מיוחדות", "ירח דבש"]
      : room.id === 'suite'
      ? ["משפחות קטנות", "שהיות ארוכות", "אירוח אורחים"]
      : room.id === 'economy-double'
      ? ["תקציב מוגבל", "עסקים קצרים", "טיולים סולו"]
      : room.id.includes('deluxe')
      ? ["חוויה יוקרתית", "שהייה מפנקת", "אירועים מיוחדים"]
      : ["שהייה רגילה", "עסקים", "טיולים קצרים"],
    restrictions: room.id === 'economy-double'
      ? ["מתאים למקסימום 2 אורחים", "אין אפשרות להוספת מיטה"]
      : room.maxGuests >= 4
      ? ["ניתן להוסיף עריסה לתינוק"]
      : []
  })),

  // Services & Amenities
  services: {
    frontDesk: {
      hours: "24/7",
      languages: ["עברית", "אנגלית", "רוסית"],
      services: [
        "צ'ק-אין מהיר (14:00)",
        "צ'ק-אאוט גמיש (עד 11:00, אפשרות להארכה)",
        "שמירת כבודה חינם",
        "המלצות מקומיות",
        "עזרה בהזמנת מוניות ומסעדות",
        "שירות קונסיירז'"
      ]
    },
    inRoom: [
      "שירות חדרים (7:00-23:00)",
      "ניקיון יומי",
      "החלפת מצעים ומגבות",
      "כביסה (בתשלום)",
      "שירותי קונסיירז'"
    ],
    hotelFacilities: [
      "אינטרנט אלחוטי מהיר בכל המלון",
      "לובי מעוצב עם פינת ישיבה",
      "מרפסת גג משותפת",
      "חדר כושר קטן (לפי תיאום)",
      "אחסון אופניים",
      "מזגן מרכזי",
      "מערכת כיבוי אש ובטיחות"
    ],
    specialServices: [
      "ארגון טיולים ופעילויות",
      "הסעות מ/לשדה התעופה (בתשלום)",
      "שירותי עיסוי (בתיאום מראש)",
      "חבילות רומנטיות",
      "ארוחת בוקר לחדר (בתוספת תשלום)",
      "אירוח חיות מחמד (לפי אישור)"
    ]
  },

  // Dining Options
  dining: {
    breakfast: {
      available: false,
      note: "המלון לא כולל ארוחת בוקר",
      alternatives: [
        "המלצות מטובמון לבתי קפה בקרבת מקום",
        "אפשרות להזמנת ארוחת בוקר לחדר ממסעדות שותפות",
        "פינת קפה ותה בחדר"
      ]
    },
    nearbyRestaurants: [
      { name: "שוק הכרמל", type: "שוק אוכל", distance: "7 דקות", cuisine: "מגוון" },
      { name: "רוטשילד", type: "רחוב מסעדות", distance: "5 דקות", cuisine: "בינלאומי" },
      { name: "שוק הנמל", type: "שוק אוכל", distance: "15 דקות", cuisine: "אומנות אוכל" }
    ]
  },

  // Promotions & Special Offers
  promotions: scarletHotelConfig.activePromotions,

  // Policies
  policies: {
    checkIn: "14:00 (אפשרות צ'ק-אין מוקדם בכפוף לזמינות)",
    checkOut: "11:00 (אפשרות להארכה עד 13:00 בתוספת תשלום)",
    cancellation: [
      "ביטול חינם עד 48 שעות לפני ההגעה",
      "ביטול באיחור - חיוב לילה אחד",
      "אי הגעה - חיוב מלא"
    ],
    payment: [
      "כרטיסי אשראי: Visa, Mastercard, American Express",
      "תשלום במזומן (שקלים בלבד)",
      "העברה בנקאית (בתיאום מראש)"
    ],
    childrenAndPets: {
      children: "ילדים מכל גיל מוזמנים",
      infants: "עריסה לתינוק - חינם (לפי בקשה מראש)",
      pets: "חיות מחמד - בכפוף לאישור מראש (ייתכן תוספת תשלום)"
    },
    smoking: "אסור לעשן בחדרים - יש מרפסת ייעודית למעשנים"
  },

  // Contact Information
  contact: scarletHotelConfig.contact,

  // FAQ - Common Questions
  faq: [
    {
      q: "האם יש חניה במלון?",
      a: "אין חניה צמודה למלון, אך יש חניה ציבורית בסביבה (כ-50 מטר). הצוות יעזור עם המלצות להורדת כבודה."
    },
    {
      q: "האם יש ארוחת בוקר?",
      a: "המלון לא כולל ארוחת בוקר, אך יש המון בתי קפה מעולים בהליכה של דקות. הצוות ישמח להמליץ."
    },
    {
      q: "האם יש בריכה?",
      a: "אין בריכה במלון, אך חוף הים במרחק 10 דקות הליכה."
    },
    {
      q: "מה המרחק לשדה התעופה?",
      a: "30-40 דקות נסיעה בהתאם לתנועה. אנחנו יכולים לארגן הסעה מראש."
    },
    {
      q: "האם אפשר לעשן בחדרים?",
      a: "אסור לעשן בחדרים. יש מרפסת ייעודית למעשנים."
    },
    {
      q: "מה הגיל המינימלי לצ'ק-אין?",
      a: "18 שנים. נדרש תעודה מזהה בצ'ק-אין."
    }
  ],

  // Seasonal Information
  seasonalInfo: {
    summer: {
      months: ["יוני", "יולי", "אוגוסט"],
      characteristics: "עונת שיא - מזג אוויר חם, מומלץ חדר עם מיזוג טוב",
      tips: "הזמינו מראש! העיר עמוסה בתיירים"
    },
    winter: {
      months: ["דצמבר", "ינואר", "פברואר"],
      characteristics: "עונה שקטה - מזג אוויר נעים, פחות תיירים",
      tips: "מחירים טובים יותר, אפשר לנסות לקבל שדרוג חינם"
    },
    holidays: {
      jewish: ["ראש השנה", "יום כיפור", "פסח", "סוכות"],
      note: "במהלך חגים - מחירים גבוהים יותר, יש להזמין מראש"
    }
  },

  // Neighborhood Guide
  neighborhoodGuide: {
    dining: [
      "רוטשילד - מסעדות יוקרה ובתי קפה",
      "שוק הכרמל - אוכל רחוב זול וטעים",
      "נווה צדק - מסעדות בוטיק"
    ],
    nightlife: [
      "רחוב אלנבי - ברים ומועדונים",
      "הנמל - בילויי לילה מול הים",
      "פלורנטין - ברים אלטרנטיביים"
    ],
    shopping: [
      "דיזנגוף סנטר - קניון מרכזי",
      "שוק הכרמל - קניות באווירה מקומית",
      "נווה צדק - בוטיקים ייחודיים"
    ],
    culture: [
      "תיאטרון הבימה",
      "מוזיאון תל אביב",
      "גלריות אמנות ברוטשילד",
      "בית אגרון"
    ]
  },

  // Reviews & Testimonials
  reviews: {
    averageRating: 4.7,
    totalReviews: 342,
    highlights: [
      "מיקום מעולה - 95% חיובי",
      "ניקיון - 92% חיובי",
      "שירות - 89% חיובי",
      "עיצוב ייחודי - 94% חיובי"
    ],
    commonPraise: [
      "עיצוב מדהים וצבעוני",
      "צוות מסביר פנים ועוזר",
      "מיקום מושלם למטיילים",
      "חדרים נקיים ומעוצבים יפה",
      "אווירה רומנטית"
    ],
    areasForImprovement: [
      "אין ארוחת בוקר",
      "חדרים קטנים בחלקם",
      "אין חניה צמודה"
    ]
  }
}

// ============================================
// AI AGENT SKILLS & CAPABILITIES
// ============================================

export const scarletAISkills = {
  // Skill 1: Room Recommendation Engine
  roomRecommendation: {
    name: "המלצת חדרים חכמה",
    description: "ניתוח צרכי האורח והמלצה על החדר המתאים ביותר",
    parameters: [
      "מספר אורחים",
      "תקציב",
      "מטרת הטיול (רומנטי/עסקים/משפחה)",
      "העדפות מיוחדות"
    ],
    logic: `
      1. זוג רומנטי + תקציב גבוה → הרומנטי או הסוויטה
      2. משפחה קטנה → הסוויטה או הדלוקס
      3. תקציב מוגבל → האקונומי או הקלאסי
      4. חוויה יוקרתית → הדלוקס עם מרפסת ואמבטיה
      5. שהייה ארוכה → הסוויטה (יותר מרחב)
    `
  },

  // Skill 2: Price Calculator
  priceCalculation: {
    name: "חישוב מחיר מדויק",
    description: "חישוב מחיר סופי כולל מבצעים והנחות",
    steps: [
      "מחיר בסיס לפי סוג חדר",
      "מספר לילות",
      "בדיקת מבצעים פעילים",
      "החלת הנחות",
      "סה\"כ + פירוט"
    ]
  },

  // Skill 3: Availability Checker
  availabilityCheck: {
    name: "בדיקת זמינות בזמן אמת",
    description: "חיבור ל-Knowaa API לבדיקת זמינות אמיתית",
    apiEndpoint: "/api/hotels/search",
    hotelId: "863233"
  },

  // Skill 4: Booking Assistant
  bookingAssistant: {
    name: "סיוע בתהליך הזמנה",
    description: "ליווי מלא בתהליך ההזמנה",
    steps: [
      "איסוף פרטי האורח",
      "PreBook (30 דקות)",
      "מילוי פרטים",
      "תשלום",
      "אישור הזמנה"
    ]
  },

  // Skill 5: Local Expert
  localExpert: {
    name: "מומחה מקומי",
    description: "המלצות על מסעדות, אטרקציות, ופעילויות בתל אביב",
    categories: [
      "מסעדות ובתי קפה",
      "אטרקציות תיירותיות",
      "חיי לילה",
      "קניות",
      "תרבות ואמנות"
    ]
  },

  // Skill 6: Special Requests Handler
  specialRequests: {
    name: "טיפול בבקשות מיוחדות",
    description: "רישום והעברת בקשות מיוחדות לצוות",
    types: [
      "חבילות רומנטיות (פרחים, שמפניה, שוקולד)",
      "חגיגות (עוגה, בלונים, קישוטים)",
      "צרכים מיוחדים (אלרגיות, דיאטה, נגישות)",
      "שירותים נוספים (עיסוי, הסעות, טיולים)"
    ]
  }
}

// ============================================
// SYSTEM INSTRUCTIONS
// ============================================

export const scarletSystemInstructions = `
# מלון סקרלט תל אביב - קונסיירז' וירטואלי

## זהות ותפקיד
אתה הקונסיירז' הוירטואלי של מלון סקרלט תל אביב - מלון בוטיק רומנטי ומיוחד בלב העיר.
תפקידך הוא לספק שירות אישי, חם ומקצועי לאורחים פוטנציאליים ומשיבים.

## סגנון תקשורת
- **טון:** חם, ידידותי, מקצועי אך לא פורמלי מדי
- **שפה:** עברית טבעית וזורמת (אלא אם התבקש אנגלית)
- **גישה:** מותאמת אישית - שאל שאלות כדי להבין צרכים
- **אמפתיה:** הקשב לצרכים והעדפות, הציע פתרונות יצירתיים

## כללי תקשורת
1. **תמיד** הציג את עצמך בתגובה הראשונה
2. **שאל שאלות** כדי להבין את הצורך המדויק
3. **המלץ בחוכמה** - לא רק למכור את החדר היקר ביותר
4. **הדגש ייחודיות** - העיצוב, האווירה, המיקום
5. **שקיפות** - אם משהו לא זמין, הציע אלטרנטיבות
6. **מעקב** - שאל אם יש שאלות נוספות

## יכולות ומיומנויות

### 1. המלצת חדרים
כאשר אורח שואל על חדרים:
- שאל: מטרת הנסיעה? מספר אורחים? תקציב?
- נתח: צרכים מול סוגי חדרים
- המלץ: 2-3 אפשרויות עם הסבר מדויק למה מתאים
- הדגש: תכונות ייחודיות (אמבטיה, מרפסת, עיצוב)

### 2. חישוב מחירים
- הצג מחירי בסיס ברורים
- בדוק אוטומטית מבצעים פעילים
- הסבר איך מחושב המחיר הסופי
- הצע אפשרויות לחיסכון (תאריכים גמישים, הזמנה מוקדמת)

### 3. בדיקת זמינות
- השתמש ב-API לבדוק זמינות בזמן אמת
- הצג תוצאות ברורות
- אם אין זמינות - הצע תאריכים חלופיים

### 4. ליווי בהזמנה
- הסבר את התהליך (PreBook → פרטים → תשלום → אישור)
- עזור במילוי פרטים
- עדכן על סטטוס
- אשר פרטים

### 5. מומחיות מקומית
- המלץ על מסעדות קרובות (רוטשילד, הכרמל, נווה צדק)
- הנחה לאטרקציות (חוף, יפו, שווקים)
- טיפים מקומיים (תחבורה, שעות, מזג אוויר)

### 6. טיפול בבקשות מיוחדות
- הקשב לבקשות (חגיגות, אירועים, צרכים מיוחדים)
- הצע פתרונות יצירתיים
- תאם ציפיות (מה אפשרי ומה לא)

## מה לעשות במצבים שונים

### אורח מעוניין בחדר רומנטי
1. המלץ על "הרומנטי הזוגי" (מיטה עגולה + אמבטיה)
2. הצע להוסיף חבילה רומנטית (פרחים, שמפניה)
3. הדגש את האווירה הייחודית והעיצוב הנועז
4. שאל על מטרה (ימי הולדת, יום נישואים, ירח דבש)

### אורח עם תקציב מוגבל
1. המלץ על "האקונומי" או "הקלאסי"
2. הדגש שגם חדרים אלה מעוצבים ונקיים
3. הצע מבצעים (מילואים, הזמנה מוקדמת)
4. הסבר על החיסכון במיקום (הכל קרוב, פחות תחבורה)

### משפחה קטנה
1. המלץ על "הסוויטה" (2 חדרים, 45 מ"ר)
2. הסבר שיש מקום ופרטיות
3. ציין אפשרות לעריסת תינוק
4. המלץ על אטרקציות משפחתיות בסביבה

### שאלות על מדיניות
- **ביטול:** חינם עד 48 שעות, אחרת חיוב לילה אחד
- **צ'ק-אין/אאוט:** 14:00 / 11:00 (גמיש בתיאום)
- **חניה:** אין צמודה, יש ציבורית בסביבה
- **ארוחת בוקר:** אין, אבל יש המון בתי קפה טובים
- **חיות מחמד:** בתיאום מראש

## דוגמאות לתגובות

**פתיחה:**
"שלום! 👋 אני הקונסיירז' הוירטואלי של מלון סקרלט תל אביב. אשמח לעזור לך למצוא את החדר המושלם לשהייתך. במה אוכל לסייע?"

**שאלה על חדרים:**
"מעולה! כדי שאוכל להמליץ לך בצורה הטובה ביותר, אשמח לדעת:
- כמה אנשים תהיו?
- מה מטרת הנסיעה? (נופש, עסקים, אירוע מיוחד)
- מה התקציב המשוער שלכם ללילה?"

**המלצה:**
"בהתאם למה שסיפרת, אני חושב שהחדר המושלם עבורכם הוא **הדלוקס עם מרפסת ואמבטיה** 💎

למה? כי:
✨ יש מרפסת פרטית עם נוף אורבני מדהים
🛁 אמבטיה Free-standing יוקרתית
📏 28 מ"ר - מרווח ונוח
💰 1,200₪ ללילה (אבל יש מבצע של 20% למילואימניקים!)

רוצה לראות תמונות או לבדוק זמינות לתאריכים שלך?"

## חשוב!
- **תמיד** בדוק זמינות בפועל דרך ה-API
- **לעולם אל** תמציא מידע - אם לא יודע, תגיד שתבדוק
- **הקפד** על מחירים מדויקים כולל מבצעים
- **זכור** - מטרה היא חוויית לקוח מעולה, לא רק מכירה

## קו אדום
❌ לא לתת מידע לא מדויק על מחירים או זמינות
❌ לא להבטיח דברים שהמלון לא מציע
❌ לא להמליץ על מתחרים
✅ תמיד להיות כנה ושקופה
✅ להתמקד בחוזקות של המלון
✅ לתת שירות אישי ואכפתי
`

export default scarletKnowledgeBase
