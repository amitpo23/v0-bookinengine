(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,396320,e=>{"use strict";var s=e.i(843476),a=e.i(271645),l=e.i(970065),t=e.i(167881),r=e.i(23750),i=e.i(994179),n=e.i(127341),c=e.i(319036),d=e.i(10708),o=e.i(184762),x=e.i(947627),h=e.i(630374),m=e.i(62870),j=e.i(846696),g=e.i(555436),u=e.i(440160),p=e.i(286536),v=e.i(87316),N=e.i(346897),f=e.i(761911),C=e.i(217923),b=e.i(25652),y=e.i(635408),w=e.i(16715),T=e.i(239616),S=e.i(475254);let k=(0,S.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var H=e.i(98919),I=e.i(212426);let M=(0,S.default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var B=e.i(373884),L=e.i(269638),D=e.i(503116),V=e.i(263488),U=e.i(343432),A=e.i(356909),R=e.i(125511);let $=(0,S.default)("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);var E=e.i(561659);let P=(0,S.default)("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);var z=e.i(778917),F=e.i(174886);let O=(0,S.default)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var q=e.i(373375),_=e.i(751975);let W=(0,S.default)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var G=e.i(107233),X=e.i(688511),K=e.i(727612),Z=e.i(791583),J=e.i(706399);let Q=(0,S.default)("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);var Y=e.i(951445),ee=e.i(826707);let es=(0,S.default)("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),ea=(0,S.default)("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var el=e.i(21218),et=e.i(531245),er=e.i(284614),ei=e.i(194983);let en=(0,S.default)("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);var ec=e.i(870273);let ed=(0,S.default)("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);var eo=e.i(686311),ex=e.i(401851),eh=e.i(903569),em=e.i(522016);let ej={hotelId:"scarlet_hotel",hotelName:"×ž×œ×•×Ÿ ×¡×§×¨×œ×˜ ×ª×œ ××‘×™×‘",termsAndConditions:`Terms and Conditions for Scarlet Hotel Booking:

1. Check-in time: 3:00 PM | Check-out time: 11:00 AM
2. Valid ID or passport required at check-in
3. Credit card required for security deposit
4. Cancellation must be made 48 hours before arrival
5. No smoking in rooms
6. Pets are not allowed
7. Additional guests require prior approval
8. Hotel is not responsible for valuables left in rooms`,termsAndConditionsHe:`×ª× ××™ ×©×™×ž×•×© ×œ×”×–×ž× ×” ×‘×ž×œ×•×Ÿ ×¡×§×¨×œ×˜:

1. ×©×¢×ª ×›× ×™×¡×”: 15:00 | ×©×¢×ª ×™×¦×™××”: 11:00
2. × ×“×¨×©×ª ×ª×¢×•×“×” ×ž×–×”×” ××• ×“×¨×›×•×Ÿ ×‘×¢×ª ×”×¦'×§-××™×Ÿ
3. × ×“×¨×© ×›×¨×˜×™×¡ ××©×¨××™ ×œ×¤×™×§×“×•×Ÿ
4. ×‘×™×˜×•×œ ×—×™×™×‘ ×œ×”×ª×‘×¦×¢ 48 ×©×¢×•×ª ×œ×¤× ×™ ×”×”×’×¢×”
5. ××¡×•×¨ ×œ×¢×©×Ÿ ×‘×—×“×¨×™×
6. ×—×™×•×ª ×ž×—×ž×“ ××™× ×Ÿ ×ž×•×¨×©×•×ª
7. ××•×¨×—×™× × ×•×¡×¤×™× ×“×•×¨×©×™× ××™×©×•×¨ ×ž×¨××©
8. ×”×ž×œ×•×Ÿ ××™× ×• ××—×¨××™ ×œ×—×¤×¦×™ ×¢×¨×š ×©× ×©×›×—×• ×‘×—×“×¨×™×`,privacyPolicy:"We respect your privacy and protect your personal data according to GDPR regulations.",cancellationPolicy:"Free cancellation up to 48 hours before check-in. After that, first night will be charged.",cancellationPolicyHe:"×‘×™×˜×•×œ ×—×™× × ×¢×“ 48 ×©×¢×•×ª ×œ×¤× ×™ ×”×¦'×§-××™×Ÿ. ×œ××—×¨ ×ž×›×Ÿ, ×™×—×•×™×‘ ×œ×™×œ×” ×¨××©×•×Ÿ.",minAdvanceBookingDays:0,maxAdvanceBookingDays:365,defaultCurrency:"ILS",allowChildBooking:!0,maxGuests:6,contactEmail:"reservations@scarlethotel.co.il",contactPhone:"03-1234567",whatsappNumber:"972501234567",enableAiChat:!0,aiChatWelcomeMessage:"×©×œ×•×! ðŸ‘‹ ×× ×™ ×¡×§×¨×œ×˜, ×”×¢×•×–×¨×ª ×”×“×™×’×™×˜×œ×™×ª ×©×œ ×”×ž×œ×•×Ÿ. ××™×š ××•×›×œ ×œ×¢×–×•×¨ ×œ×š?",enableEmailNotifications:!0,enableSmsNotifications:!1,primaryColor:"#dc2626",accentColor:"#f97316",logoUrl:"/placeholder-logo.png",backgroundImageUrl:"/scarlet-hero.jpg"};function eg({title:e,value:a,subtitle:t,icon:r,trend:i,trendUp:n}){return(0,s.jsx)(l.Card,{children:(0,s.jsxs)(l.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e}),(0,s.jsx)("p",{className:"text-3xl font-bold mt-1",children:a}),t&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:t})]}),(0,s.jsx)("div",{className:`p-3 rounded-full ${n?"bg-green-500/10":"bg-red-500/10"}`,children:(0,s.jsx)(r,{className:`h-6 w-6 ${void 0!==n?n?"text-green-500":"text-red-500":"text-muted-foreground"}`})})]}),i&&(0,s.jsxs)("div",{className:`flex items-center gap-1 mt-3 text-sm ${n?"text-green-500":"text-red-500"}`,children:[n?(0,s.jsx)(b.TrendingUp,{className:"h-4 w-4"}):(0,s.jsx)(y.TrendingDown,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:i})]})]})})}function eu({logs:e}){let[l,n]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),o=e.filter(e=>{let s=e.sessionId.toLowerCase().includes(l.toLowerCase())||e.selectedRoom?.toLowerCase().includes(l.toLowerCase()),a="all"===c||e.stage===c;return s&&a}),h=e=>({search:"×—×™×¤×•×©",room_selected:"×‘×—×™×¨×ª ×—×“×¨",guest_details:"×¤×¨×˜×™ ××•×¨×—",payment:"×ª×©×œ×•×",confirmed:"×”×•×©×œ×"})[e]||e;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(g.Search,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(r.Input,{placeholder:"×—×¤×© ×œ×¤×™ ×ž×–×”×” ××• ×—×“×¨...",value:l,onChange:e=>n(e.target.value),className:"pr-10"})]}),(0,s.jsxs)(m.Select,{value:c,onValueChange:d,children:[(0,s.jsx)(m.SelectTrigger,{className:"w-[180px]",children:(0,s.jsx)(m.SelectValue,{placeholder:"×¡×™× ×•×Ÿ ×œ×¤×™ ×©×œ×‘"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"all",children:"×›×œ ×”×©×œ×‘×™×"}),(0,s.jsx)(m.SelectItem,{value:"search",children:"×—×™×¤×•×©"}),(0,s.jsx)(m.SelectItem,{value:"room_selected",children:"×‘×—×™×¨×ª ×—×“×¨"}),(0,s.jsx)(m.SelectItem,{value:"guest_details",children:"×¤×¨×˜×™ ××•×¨×—"}),(0,s.jsx)(m.SelectItem,{value:"payment",children:"×ª×©×œ×•×"}),(0,s.jsx)(m.SelectItem,{value:"confirmed",children:"×”×•×©×œ×"})]})]}),(0,s.jsxs)(t.Button,{variant:"outline",onClick:()=>{let e=new Blob(["\uFEFF"+["×ª××¨×™×š,×ž×–×”×” ×¡×©×Ÿ,×›× ×™×¡×”,×™×¦×™××”,××•×¨×—×™×,×—×“×¨ × ×‘×—×¨,×ž×—×™×¨,×©×œ×‘,×”×•×©×œ×,×ž×§×•×¨",...o.map(e=>[(0,ex.format)(new Date(e.createdAt),"dd/MM/yyyy HH:mm"),e.sessionId,e.dateFrom,e.dateTo,e.guests,e.selectedRoom||"-",e.priceShown||"-",h(e.stage),e.completed?"×›×Ÿ":"×œ×",e.source||"-"].join(","))].join("\n")],{type:"text/csv;charset=utf-8"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=`scarlet-searches-${(0,ex.format)(new Date,"yyyy-MM-dd")}.csv`,a.click(),j.toast.success("×”×§×•×‘×¥ ×™×•×¦× ×‘×”×¦×œ×—×”")},children:[(0,s.jsx)(u.Download,{className:"h-4 w-4 mr-2"}),"×™×¦×•× CSV"]})]}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(x.Table,{children:[(0,s.jsx)(x.TableHeader,{children:(0,s.jsxs)(x.TableRow,{children:[(0,s.jsx)(x.TableHead,{children:"×ª××¨×™×š"}),(0,s.jsx)(x.TableHead,{children:"×ª××¨×™×›×™ ×”×–×ž× ×”"}),(0,s.jsx)(x.TableHead,{children:"××•×¨×—×™×"}),(0,s.jsx)(x.TableHead,{children:"×—×“×¨ × ×‘×—×¨"}),(0,s.jsx)(x.TableHead,{children:"×ž×—×™×¨"}),(0,s.jsx)(x.TableHead,{children:"×©×œ×‘"}),(0,s.jsx)(x.TableHead,{children:"×ž×§×•×¨"}),(0,s.jsx)(x.TableHead,{children:"×¡×˜×˜×•×¡"})]})}),(0,s.jsx)(x.TableBody,{children:o.map(e=>(0,s.jsxs)(x.TableRow,{children:[(0,s.jsx)(x.TableCell,{children:(0,ex.format)(new Date(e.createdAt),"dd/MM/yyyy HH:mm",{locale:eh.he})}),(0,s.jsx)(x.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(v.Calendar,{className:"h-4 w-4 text-muted-foreground"}),e.dateFrom," â†’ ",e.dateTo]})}),(0,s.jsx)(x.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(f.Users,{className:"h-4 w-4 text-muted-foreground"}),e.guests]})}),(0,s.jsx)(x.TableCell,{children:e.selectedRoom||"-"}),(0,s.jsx)(x.TableCell,{children:e.priceShown?`â‚ª${e.priceShown.toLocaleString()}`:"-"}),(0,s.jsx)(x.TableCell,{children:(0,s.jsx)(i.Badge,{className:{search:"bg-gray-500/10 text-gray-500",room_selected:"bg-blue-500/10 text-blue-500",guest_details:"bg-yellow-500/10 text-yellow-500",payment:"bg-orange-500/10 text-orange-500",confirmed:"bg-green-500/10 text-green-500"}[e.stage]||"bg-gray-500/10 text-gray-500",children:h(e.stage)})}),(0,s.jsx)(x.TableCell,{children:(0,s.jsx)(i.Badge,{variant:"outline",children:e.source||"direct"})}),(0,s.jsx)(x.TableCell,{children:e.completed?(0,s.jsx)(L.CheckCircle,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(B.XCircle,{className:"h-5 w-5 text-red-500"})})]},e.id))})]})}),0===o.length&&(0,s.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,s.jsx)(g.Search,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"×œ× × ×ž×¦××• ×—×™×¤×•×©×™×"})]})]})}function ep({bookings:e}){let[r,n]=(0,a.useState)(null),[c,o]=(0,a.useState)(!1),x=async e=>{j.toast.success(`× ×©×œ×— ×ž×™×™×œ ×©×—×–×•×¨ ×œ-${e.customerEmail||"×”××•×¨×—"}`),o(!1)};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(eg,{title:"×”×–×ž× ×•×ª × ×˜×•×©×•×ª",value:e.length,icon:M,trend:"×”×™×•×"}),(0,s.jsx)(eg,{title:"×©×•×•×™ × ×˜×•×©",value:`â‚ª${e.reduce((e,s)=>e+s.totalPrice,0).toLocaleString()}`,icon:I.DollarSign,trendUp:!1}),(0,s.jsx)(eg,{title:"×ž×ž×ª×™× ×•×ª ×œ×©×—×–×•×¨",value:e.filter(e=>!e.recovered).length,icon:V.Mail})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(M,{className:"h-5 w-5"}),"×”×–×ž× ×•×ª ×©×œ× ×”×•×©×œ×ž×•"]}),(0,s.jsx)(l.CardDescription,{children:"×ž×¢×§×‘ ××—×¨ ×œ×§×•×—×•×ª ×©×”×ª×—×™×œ×• ×ª×”×œ×™×š ×”×–×ž× ×” ×•×œ× ×¡×™×™×ž×•"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[e.map(e=>{var a;let r=(a=e.stage,({search:g.Search,room_selected:$,guest_details:f.Users,payment:E.CreditCard})[a]||g.Search);return(0,s.jsx)(l.Card,{className:"bg-muted/30",children:(0,s.jsxs)(l.CardContent,{className:"pt-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"p-2 rounded-full bg-red-500/10",children:(0,s.jsx)(r,{className:"h-5 w-5 text-red-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.customerName||"××•×¨×— ×× ×•× ×™×ž×™"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.customerEmail||"×œ× × ×ž×¡×¨ ××™×ž×™×™×œ"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"×¡×•×’ ×—×“×¨"}),(0,s.jsx)("p",{className:"font-medium",children:e.roomType})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"×ª××¨×™×›×™×"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.checkIn," â†’ ",e.checkOut]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"×ž×—×™×¨"}),(0,s.jsxs)("p",{className:"font-medium text-green-600",children:["â‚ª",e.totalPrice.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"× ×˜×•×© ×œ×¤× ×™"}),(0,s.jsx)("p",{className:"font-medium",children:(0,ex.format)(new Date(e.abandonedAt),"HH:mm dd/MM",{locale:eh.he})})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[e.customerEmail&&!e.recovered&&(0,s.jsxs)(t.Button,{size:"sm",onClick:()=>{n(e),o(!0)},children:[(0,s.jsx)(V.Mail,{className:"h-4 w-4 mr-2"}),"×©×œ×— ×ž×™×™×œ ×©×—×–×•×¨"]}),e.phone&&!e.recovered&&(0,s.jsxs)(t.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(U.Phone,{className:"h-4 w-4 mr-2"}),"×”×ª×§×©×¨"]}),e.recovered&&(0,s.jsxs)(i.Badge,{className:"bg-green-500/10 text-green-500",children:[(0,s.jsx)(L.CheckCircle,{className:"h-4 w-4 mr-1"}),"×©×•×—×–×¨"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,s.jsxs)(i.Badge,{variant:"outline",children:["×©×œ×‘: ",e.stage]}),(0,s.jsxs)(i.Badge,{variant:"outline",children:["× ×™×¡×™×•× ×•×ª ×©×—×–×•×¨: ",e.recoveryAttempts]}),e.source&&(0,s.jsxs)(i.Badge,{variant:"outline",children:["×ž×§×•×¨: ",e.source]})]})]})},e.id)}),0===e.length&&(0,s.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,s.jsx)(L.CheckCircle,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),(0,s.jsx)("p",{children:"××™×Ÿ ×”×–×ž× ×•×ª × ×˜×•×©×•×ª ðŸŽ‰"})]})]})})]}),(0,s.jsx)(h.Dialog,{open:c,onOpenChange:o,children:(0,s.jsxs)(h.DialogContent,{children:[(0,s.jsxs)(h.DialogHeader,{children:[(0,s.jsx)(h.DialogTitle,{children:"×©×œ×™×—×ª ×ž×™×™×œ ×©×—×–×•×¨"}),(0,s.jsx)(h.DialogDescription,{children:"×©×œ×— ×ž×™×™×œ ×œ××•×¨×— ×¢× ×§×™×©×•×¨ ×œ×”×©×œ×ž×ª ×”×”×–×ž× ×” ×•×”×¦×¢×” ×ž×™×•×—×“×ª"})]}),r&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-muted",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"××•×¨×—:"})," ",r.customerName]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"××™×ž×™×™×œ:"})," ",r.customerEmail]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"×—×“×¨:"})," ",r.roomType]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"×ž×—×™×¨:"})," â‚ª",r.totalPrice.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×”×¦×¢×ª ×”× ×—×” (××•×¤×¦×™×•× ×œ×™)"}),(0,s.jsxs)(m.Select,{defaultValue:"0",children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"0",children:"×œ×œ× ×”× ×—×”"}),(0,s.jsx)(m.SelectItem,{value:"5",children:"5% ×”× ×—×”"}),(0,s.jsx)(m.SelectItem,{value:"10",children:"10% ×”× ×—×”"}),(0,s.jsx)(m.SelectItem,{value:"15",children:"15% ×”× ×—×”"})]})]})]})]}),(0,s.jsxs)(h.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>o(!1),children:"×‘×™×˜×•×œ"}),(0,s.jsxs)(t.Button,{onClick:()=>r&&x(r),children:[(0,s.jsx)(V.Mail,{className:"h-4 w-4 mr-2"}),"×©×œ×— ×ž×™×™×œ"]})]})]})})]})}function ev({promotions:e}){let[n,x]=(0,a.useState)(e),[g,u]=(0,a.useState)(!1),[p,v]=(0,a.useState)({}),N=n.filter(e=>e.active).reduce((e,s)=>e+("percentage"===s.discountType?250*s.usageCount:s.usageCount*s.discountValue),0);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)(eg,{title:"×ž×‘×¦×¢×™× ×¤×¢×™×œ×™×",value:n.filter(e=>e.active).length,icon:_.Tag,trendUp:!0}),(0,s.jsx)(eg,{title:"×¡×”×´×› ×©×™×ž×•×©×™×",value:n.reduce((e,s)=>e+s.usageCount,0),icon:Q,trend:"+23% ×ž×”×©×‘×•×¢",trendUp:!0}),(0,s.jsx)(eg,{title:"×”× ×—×•×ª ×©× ×™×ª× ×•",value:`â‚ª${N.toLocaleString()}`,icon:W,trend:"×”×—×•×“×©"}),(0,s.jsx)(eg,{title:"×ž×ž×•×¦×¢ ×”×ž×¨×”",value:"18%",icon:b.TrendingUp,trend:"+2%",trendUp:!0})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"×¨×©×™×ž×ª ×ž×‘×¦×¢×™×"}),(0,s.jsxs)(t.Button,{onClick:()=>{v({}),u(!0)},children:[(0,s.jsx)(G.Plus,{className:"h-4 w-4 mr-2"}),"×ž×‘×¦×¢ ×—×“×©"]})]}),(0,s.jsx)(h.Dialog,{open:g,onOpenChange:u,children:(0,s.jsxs)(h.DialogContent,{className:"max-w-2xl",dir:"rtl",children:[(0,s.jsxs)(h.DialogHeader,{children:[(0,s.jsx)(h.DialogTitle,{children:p.id?"×¢×¨×™×›×ª ×ž×‘×¦×¢":"×ž×‘×¦×¢ ×—×“×©"}),(0,s.jsx)(h.DialogDescription,{children:"×”×’×“×¨ ×¤×¨×˜×™ ×”×ž×‘×¦×¢ ×•×”×”× ×—×”"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×§×•×“ ×ž×‘×¦×¢"}),(0,s.jsx)(r.Input,{value:p.code||"",onChange:e=>v({...p,code:e.target.value.toUpperCase()}),placeholder:"SUMMER20"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×›×•×ª×¨×ª"}),(0,s.jsx)(r.Input,{value:p.title||"",onChange:e=>v({...p,title:e.target.value}),placeholder:"×”× ×—×ª ×§×™×¥ 20%"})]}),(0,s.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ª×™××•×¨"}),(0,s.jsx)(o.Textarea,{value:p.description||"",onChange:e=>v({...p,description:e.target.value}),placeholder:"×ª×™××•×¨ ×”×ž×‘×¦×¢..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×¡×•×’ ×”× ×—×”"}),(0,s.jsxs)(m.Select,{value:p.discountType||"percentage",onValueChange:e=>v({...p,discountType:e}),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"percentage",children:"××—×•×–×™× (%)"}),(0,s.jsx)(m.SelectItem,{value:"fixed",children:"×¡×›×•× ×§×‘×•×¢ (â‚ª)"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×¢×¨×š ×”× ×—×”"}),(0,s.jsx)(r.Input,{type:"number",value:p.discountValue||"",onChange:e=>v({...p,discountValue:Number(e.target.value)}),placeholder:"fixed"===p.discountType?"100":"20"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž-×ª××¨×™×š"}),(0,s.jsx)(r.Input,{type:"date",value:p.validFrom||"",onChange:e=>v({...p,validFrom:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×¢×“ ×ª××¨×™×š"}),(0,s.jsx)(r.Input,{type:"date",value:p.validTo||"",onChange:e=>v({...p,validTo:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž×™× ×™×ž×•× ×œ×™×œ×•×ª"}),(0,s.jsx)(r.Input,{type:"number",value:p.minNights||"",onChange:e=>v({...p,minNights:Number(e.target.value)}),placeholder:"×œ×œ× ×”×’×‘×œ×”"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž×§×¡×™×ž×•× ×©×™×ž×•×©×™×"}),(0,s.jsx)(r.Input,{type:"number",value:p.maxUsage||"",onChange:e=>v({...p,maxUsage:Number(e.target.value)}),placeholder:"×œ×œ× ×”×’×‘×œ×”"})]}),(0,s.jsxs)("div",{className:"col-span-2 flex items-center gap-2",children:[(0,s.jsx)(c.Switch,{checked:p.mobileOnly||!1,onCheckedChange:e=>v({...p,mobileOnly:e})}),(0,s.jsx)(d.Label,{children:"×œ×ž×•×‘×™×™×œ ×‘×œ×‘×“"})]})]}),(0,s.jsxs)(h.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>u(!1),children:"×‘×™×˜×•×œ"}),(0,s.jsx)(t.Button,{onClick:()=>{p.id?x(n.map(e=>e.id===p.id?{...e,...p}:e)):x([...n,{id:`promo_${Date.now()}`,code:p.code||"",title:p.title||"",description:p.description||"",discountType:p.discountType||"percentage",discountValue:p.discountValue||0,minNights:p.minNights,validFrom:p.validFrom||new Date().toISOString().split("T")[0],validTo:p.validTo||new Date().toISOString().split("T")[0],usageCount:0,maxUsage:p.maxUsage,active:!0,mobileOnly:p.mobileOnly||!1}]),u(!1),v({}),j.toast.success("×”×ž×‘×¦×¢ × ×©×ž×¨ ×‘×”×¦×œ×—×”")},children:"×©×ž×•×¨ ×ž×‘×¦×¢"})]})]})}),(0,s.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,s.jsx)(l.Card,{className:e.active?"":"opacity-60",children:(0,s.jsx)(l.CardContent,{className:"pt-4",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:`p-3 rounded-full ${e.active?"bg-green-500/10":"bg-gray-500/10"}`,children:"percentage"===e.discountType?(0,s.jsx)(W,{className:`h-6 w-6 ${e.active?"text-green-500":"text-gray-500"}`}):(0,s.jsx)(I.DollarSign,{className:`h-6 w-6 ${e.active?"text-green-500":"text-gray-500"}`})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h4",{className:"font-semibold",children:e.title}),(0,s.jsx)(i.Badge,{variant:"outline",className:"font-mono",children:e.code}),e.mobileOnly&&(0,s.jsx)(i.Badge,{variant:"secondary",children:"ðŸ“± ×ž×•×‘×™×™×œ"}),!e.active&&(0,s.jsx)(i.Badge,{variant:"destructive",children:"×œ× ×¤×¢×™×œ"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[(0,s.jsxs)("span",{className:"font-medium text-green-600",children:["percentage"===e.discountType?`${e.discountValue}%`:`â‚ª${e.discountValue}`," ×”× ×—×”"]}),e.minNights&&(0,s.jsxs)("span",{className:"text-muted-foreground",children:["×ž×™× ×™×ž×•× ",e.minNights," ×œ×™×œ×•×ª"]}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[e.validFrom," â†’ ",e.validTo]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"text-left mr-4",children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:e.usageCount}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.maxUsage?`×ž×ª×•×š ${e.maxUsage}`:"×©×™×ž×•×©×™×"})]}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;return s=e.id,void x(n.map(e=>e.id===s?{...e,active:!e.active}:e))},children:e.active?(0,s.jsx)(J.ToggleRight,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(Z.ToggleLeft,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>{v(e),u(!0)},children:(0,s.jsx)(X.Edit,{className:"h-4 w-4"})}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;return s=e.id,void(confirm("×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ×ž×—×•×§ ××ª ×”×ž×‘×¦×¢?")&&(x(n.filter(e=>e.id!==s)),j.toast.success("×”×ž×‘×¦×¢ × ×ž×—×§")))},children:(0,s.jsx)(K.Trash2,{className:"h-4 w-4 text-red-500"})})]})]})})},e.id))})]})}function eN({visits:e}){let[t,r]=(0,a.useState)("all"),[n,c]=(0,a.useState)("all"),d=e.filter(e=>{let s="all"===t||e.source===t,a="all"===n||e.device===n;return s&&a}),o=[...new Set(e.map(e=>e.source))],h={totalVisits:d.length,uniqueSessions:new Set(d.map(e=>e.sessionId)).size,avgPageViews:Math.round(d.reduce((e,s)=>e+s.pageViews,0)/d.length)||0,avgDuration:Math.round(d.reduce((e,s)=>e+s.duration,0)/d.length)||0,conversionRate:Math.round(d.filter(e=>e.converted).length/d.length*100)||0,totalRevenue:d.filter(e=>e.converted).reduce((e,s)=>e+(s.bookingValue||0),0)},j={mobile:d.filter(e=>"mobile"===e.device).length,desktop:d.filter(e=>"desktop"===e.device).length,tablet:d.filter(e=>"tablet"===e.device).length},g=e=>({mobile:ee.Smartphone,desktop:Y.Monitor,tablet:es})[e]||Y.Monitor,u=e=>{let s=Math.floor(e/60);return`${s}:${(e%60).toString().padStart(2,"0")}`};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,s.jsx)(eg,{title:"×›× ×™×¡×•×ª ×”×™×•×",value:h.totalVisits,icon:el.Activity,trend:"+18%",trendUp:!0}),(0,s.jsx)(eg,{title:"×ž×‘×§×¨×™× ×™×™×—×•×“×™×™×",value:h.uniqueSessions,icon:f.Users}),(0,s.jsx)(eg,{title:"×ž×ž×•×¦×¢ ×“×¤×™×",value:h.avgPageViews,icon:p.Eye}),(0,s.jsx)(eg,{title:"×–×ž×Ÿ ×ž×ž×•×¦×¢",value:u(h.avgDuration),icon:D.Clock}),(0,s.jsx)(eg,{title:"××—×•×– ×”×ž×¨×”",value:`${h.conversionRate}%`,icon:b.TrendingUp,trendUp:h.conversionRate>20}),(0,s.jsx)(eg,{title:"×”×›× ×¡×•×ª",value:`â‚ª${h.totalRevenue.toLocaleString()}`,icon:I.DollarSign,trendUp:!0})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(Y.Monitor,{className:"h-5 w-5"}),"×”×ª×¤×œ×’×•×ª ×ž×›×©×™×¨×™×"]})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(j).map(([e,a])=>{let l=g(e),t=Math.round(a/d.length*100)||0;return(0,s.jsxs)("div",{className:"text-center p-4 rounded-lg bg-muted/30",children:[(0,s.jsx)(l,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[t,"%"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground capitalize",children:e}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a," ×›× ×™×¡×•×ª"]})]},e)})})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(ea,{className:"h-5 w-5"}),"×ž×§×•×¨×•×ª ×ª× ×•×¢×”"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(m.Select,{value:t,onValueChange:r,children:[(0,s.jsx)(m.SelectTrigger,{className:"w-[150px]",children:(0,s.jsx)(m.SelectValue,{placeholder:"×›×œ ×”×ž×§×•×¨×•×ª"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"all",children:"×›×œ ×”×ž×§×•×¨×•×ª"}),o.map(e=>(0,s.jsx)(m.SelectItem,{value:e,children:e},e))]})]}),(0,s.jsxs)(m.Select,{value:n,onValueChange:c,children:[(0,s.jsx)(m.SelectTrigger,{className:"w-[120px]",children:(0,s.jsx)(m.SelectValue,{placeholder:"×›×œ ×”×ž×›×©×™×¨×™×"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"all",children:"×”×›×œ"}),(0,s.jsx)(m.SelectItem,{value:"mobile",children:"×ž×•×‘×™×™×œ"}),(0,s.jsx)(m.SelectItem,{value:"desktop",children:"×“×¡×§×˜×•×¤"}),(0,s.jsx)(m.SelectItem,{value:"tablet",children:"×˜××‘×œ×˜"})]})]})]})]})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)(x.Table,{children:[(0,s.jsx)(x.TableHeader,{children:(0,s.jsxs)(x.TableRow,{children:[(0,s.jsx)(x.TableHead,{children:"×–×ž×Ÿ"}),(0,s.jsx)(x.TableHead,{children:"×ž×§×•×¨"}),(0,s.jsx)(x.TableHead,{children:"×§×ž×¤×™×™×Ÿ"}),(0,s.jsx)(x.TableHead,{children:"×ž×›×©×™×¨"}),(0,s.jsx)(x.TableHead,{children:"×ž×™×§×•×"}),(0,s.jsx)(x.TableHead,{children:"×“×¤×™×"}),(0,s.jsx)(x.TableHead,{children:"×ž×©×š"}),(0,s.jsx)(x.TableHead,{children:"×”×ž×¨×”"})]})}),(0,s.jsx)(x.TableBody,{children:d.map(e=>{let a=g(e.device);return(0,s.jsxs)(x.TableRow,{children:[(0,s.jsx)(x.TableCell,{children:(0,ex.format)(new Date(e.timestamp),"HH:mm",{locale:eh.he})}),(0,s.jsx)(x.TableCell,{children:(0,s.jsx)(i.Badge,{variant:"outline",children:e.source})}),(0,s.jsx)(x.TableCell,{className:"text-muted-foreground",children:e.campaign||e.medium||"-"}),(0,s.jsx)(x.TableCell,{children:(0,s.jsx)(a,{className:"h-4 w-4"})}),(0,s.jsx)(x.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(N.MapPin,{className:"h-3 w-3 text-muted-foreground"}),e.city||e.country]})}),(0,s.jsx)(x.TableCell,{children:e.pageViews}),(0,s.jsx)(x.TableCell,{children:u(e.duration)}),(0,s.jsx)(x.TableCell,{children:e.converted?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(L.CheckCircle,{className:"h-4 w-4 text-green-500"}),(0,s.jsxs)("span",{className:"text-green-600 font-medium",children:["â‚ª",e.bookingValue?.toLocaleString()]})]}):(0,s.jsx)(B.XCircle,{className:"h-4 w-4 text-muted-foreground"})})]},e.id)})})]})})]})]})}function ef({conversations:e}){let[r,n]=(0,a.useState)(null),[c,d]=(0,a.useState)("all"),[o,j]=(0,a.useState)("all"),[g,u]=(0,a.useState)(!1),v=[...new Set(e.flatMap(e=>e.topics))],N=e.filter(e=>{let s="all"===c||e.topics.includes(c),a="all"===o||"booking"===o&&e.leadToBooking||"no-booking"===o&&!e.leadToBooking;return s&&a}),f={totalConversations:e.length,avgMessages:Math.round(e.reduce((e,s)=>e+s.messageCount,0)/e.length)||0,conversionRate:Math.round(e.filter(e=>e.leadToBooking).length/e.length*100)||0,avgRating:(e.filter(e=>e.rating).reduce((e,s)=>e+(s.rating||0),0)/e.filter(e=>e.rating).length).toFixed(1)||"N/A",totalRevenue:e.filter(e=>e.bookingValue).reduce((e,s)=>e+(s.bookingValue||0),0)},C=e=>{n(e),u(!0)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ei.MessageCircle,{className:"h-5 w-5 text-purple-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"×©×™×—×•×ª"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:f.totalConversations})]})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eo.MessageSquare,{className:"h-5 w-5 text-blue-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"×ž×ž×•×¦×¢ ×”×•×“×¢×•×ª"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:f.avgMessages})]})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(b.TrendingUp,{className:"h-5 w-5 text-green-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"×©×™×¢×•×¨ ×”×ž×¨×”"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[f.conversionRate,"%"]})]})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ec.Star,{className:"h-5 w-5 text-yellow-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"×“×™×¨×•×’ ×ž×ž×•×¦×¢"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:f.avgRating})]})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(I.DollarSign,{className:"h-5 w-5 text-emerald-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"×”×›× ×¡×•×ª ×ž×©×™×—×•×ª"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:["â‚ª",f.totalRevenue.toLocaleString()]})]})]})})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(et.Bot,{className:"h-5 w-5"}),"×©×™×—×•×ª AI"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(m.Select,{value:c,onValueChange:d,children:[(0,s.jsx)(m.SelectTrigger,{className:"w-[150px]",children:(0,s.jsx)(m.SelectValue,{placeholder:"×›×œ ×”× ×•×©××™×"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"all",children:"×›×œ ×”× ×•×©××™×"}),v.map(e=>(0,s.jsx)(m.SelectItem,{value:e,children:e},e))]})]}),(0,s.jsxs)(m.Select,{value:o,onValueChange:j,children:[(0,s.jsx)(m.SelectTrigger,{className:"w-[130px]",children:(0,s.jsx)(m.SelectValue,{placeholder:"×›×œ ×”×ª×•×¦××•×ª"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"all",children:"×”×›×œ"}),(0,s.jsx)(m.SelectItem,{value:"booking",children:"×”×–×ž× ×”"}),(0,s.jsx)(m.SelectItem,{value:"no-booking",children:"×œ×œ× ×”×–×ž× ×”"})]})]}),(0,s.jsx)(t.Button,{variant:"outline",size:"icon",children:(0,s.jsx)(en,{className:"h-4 w-4"})})]})]})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)(x.Table,{children:[(0,s.jsx)(x.TableHeader,{children:(0,s.jsxs)(x.TableRow,{children:[(0,s.jsx)(x.TableHead,{children:"×–×ž×Ÿ"}),(0,s.jsx)(x.TableHead,{children:"××•×¨×—"}),(0,s.jsx)(x.TableHead,{children:"×”×•×“×¢×•×ª"}),(0,s.jsx)(x.TableHead,{children:"× ×•×©××™×"}),(0,s.jsx)(x.TableHead,{children:"×¡× ×˜×™×ž× ×˜"}),(0,s.jsx)(x.TableHead,{children:"×ž×›×©×™×¨"}),(0,s.jsx)(x.TableHead,{children:"×ª×•×¦××”"}),(0,s.jsx)(x.TableHead,{children:"×“×™×¨×•×’"}),(0,s.jsx)(x.TableHead,{})]})}),(0,s.jsx)(x.TableBody,{children:N.map(e=>{let a=(e=>{switch(e){case"mobile":return ee.Smartphone;case"tablet":return ed;default:return Y.Monitor}})(e.device);return(0,s.jsxs)(x.TableRow,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>C(e),children:[(0,s.jsx)(x.TableCell,{children:(0,ex.format)(new Date(e.startedAt),"HH:mm dd/MM",{locale:eh.he})}),(0,s.jsx)(x.TableCell,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.guestName||"×× ×•× ×™×ž×™"}),e.guestEmail&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.guestEmail})]})}),(0,s.jsx)(x.TableCell,{children:(0,s.jsx)(i.Badge,{variant:"secondary",children:e.messageCount})}),(0,s.jsx)(x.TableCell,{children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.topics.slice(0,2).map(e=>(0,s.jsx)(i.Badge,{variant:"outline",className:"text-xs",children:e},e)),e.topics.length>2&&(0,s.jsxs)(i.Badge,{variant:"outline",className:"text-xs",children:["+",e.topics.length-2]})]})}),(0,s.jsx)(x.TableCell,{children:(e=>{switch(e){case"positive":return(0,s.jsx)(i.Badge,{className:"bg-green-100 text-green-700",children:"×—×™×•×‘×™"});case"negative":return(0,s.jsx)(i.Badge,{className:"bg-red-100 text-red-700",children:"×©×œ×™×œ×™"});default:return(0,s.jsx)(i.Badge,{className:"bg-gray-100 text-gray-700",children:"× ×™×˜×¨×œ×™"})}})(e.sentiment)}),(0,s.jsx)(x.TableCell,{children:(0,s.jsx)(a,{className:"h-4 w-4"})}),(0,s.jsx)(x.TableCell,{children:e.leadToBooking?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(L.CheckCircle,{className:"h-4 w-4 text-green-500"}),(0,s.jsxs)("span",{className:"text-green-600 font-medium text-sm",children:["â‚ª",e.bookingValue?.toLocaleString()]})]}):(0,s.jsx)(B.XCircle,{className:"h-4 w-4 text-muted-foreground"})}),(0,s.jsx)(x.TableCell,{children:e.rating?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(ec.Star,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),(0,s.jsx)("span",{children:e.rating})]}):"-"}),(0,s.jsx)(x.TableCell,{children:(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),C(e)},children:(0,s.jsx)(p.Eye,{className:"h-4 w-4"})})})]},e.id)})})]})})]}),(0,s.jsx)(h.Dialog,{open:g,onOpenChange:u,children:(0,s.jsx)(h.DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",dir:"rtl",children:r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.DialogHeader,{children:(0,s.jsxs)(h.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(ei.MessageCircle,{className:"h-5 w-5"}),"×©×™×—×” ×¢× ",r.guestName||"××•×¨×— ×× ×•× ×™×ž×™"]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-4 border-b",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"×”×ª×—×œ×”"}),(0,s.jsx)("p",{children:(0,ex.format)(new Date(r.startedAt),"HH:mm dd/MM/yyyy",{locale:eh.he})})]}),r.guestEmail&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"××™×ž×™×™×œ"}),(0,s.jsx)("p",{children:r.guestEmail})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"×ž×§×•×¨"}),(0,s.jsx)(i.Badge,{variant:"outline",children:r.source})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"×ª×•×¦××”"}),r.leadToBooking?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(L.CheckCircle,{className:"h-4 w-4 text-green-500"}),(0,s.jsxs)("span",{className:"text-green-600 font-medium",children:["×”×–×ž× ×” #",r.bookingId," - â‚ª",r.bookingValue?.toLocaleString()]})]}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"×œ×œ× ×”×–×ž× ×”"})]})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("h4",{className:"font-medium",children:["×”×•×“×¢×•×ª (",r.messages.length,")"]}),(0,s.jsx)("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:r.messages.map(e=>(0,s.jsxs)("div",{className:`flex gap-3 ${"user"===e.role?"flex-row-reverse":""}`,children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${"assistant"===e.role?"bg-purple-100":"bg-blue-100"}`,children:"assistant"===e.role?(0,s.jsx)(et.Bot,{className:"h-4 w-4 text-purple-600"}):(0,s.jsx)(er.User,{className:"h-4 w-4 text-blue-600"})}),(0,s.jsxs)("div",{className:`flex-1 max-w-[80%] ${"user"===e.role?"text-right":""}`,children:[(0,s.jsx)("div",{className:`p-3 rounded-lg ${"assistant"===e.role?"bg-muted":"bg-blue-500 text-white"}`,children:(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:e.content})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[(0,s.jsx)("span",{children:(0,ex.format)(new Date(e.timestamp),"HH:mm",{locale:eh.he})}),e.skill&&(0,s.jsx)(i.Badge,{variant:"outline",className:"text-xs",children:e.skill})]})]})]},e.id))})]}),(r.rating||r.feedback)&&(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"×ž×©×•×‘"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[r.rating&&(0,s.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,s.jsx)(ec.Star,{className:`h-5 w-5 ${e<=r.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},e))}),r.feedback&&(0,s.jsxs)("p",{className:"text-muted-foreground",children:['"',r.feedback,'"']})]})]})]})})})]})}function eC({settings:e,onSave:i}){let[x,h]=(0,a.useState)(e),[g,u]=(0,a.useState)("general");return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(n.Tabs,{value:g,onValueChange:u,children:[(0,s.jsxs)(n.TabsList,{className:"grid grid-cols-5 w-full",children:[(0,s.jsx)(n.TabsTrigger,{value:"general",children:"×›×œ×œ×™"}),(0,s.jsx)(n.TabsTrigger,{value:"terms",children:"×ª×§× ×•×Ÿ"}),(0,s.jsx)(n.TabsTrigger,{value:"booking",children:"×”×–×ž× ×•×ª"}),(0,s.jsx)(n.TabsTrigger,{value:"notifications",children:"×”×ª×¨××•×ª"}),(0,s.jsx)(n.TabsTrigger,{value:"design",children:"×¢×™×¦×•×‘"})]}),(0,s.jsx)(n.TabsContent,{value:"general",className:"space-y-4",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(R.Hotel,{className:"h-5 w-5"}),"×¤×¨×˜×™ ×”×ž×œ×•×Ÿ"]})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×©× ×”×ž×œ×•×Ÿ"}),(0,s.jsx)(r.Input,{value:x.hotelName,onChange:e=>h({...x,hotelName:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž×–×”×” ×ž×œ×•×Ÿ"}),(0,s.jsx)(r.Input,{value:x.hotelId,onChange:e=>h({...x,hotelId:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"××™×ž×™×™×œ ×™×¦×™×¨×ª ×§×©×¨"}),(0,s.jsx)(r.Input,{type:"email",value:x.contactEmail,onChange:e=>h({...x,contactEmail:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×˜×œ×¤×•×Ÿ"}),(0,s.jsx)(r.Input,{value:x.contactPhone,onChange:e=>h({...x,contactPhone:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"WhatsApp"}),(0,s.jsx)(r.Input,{value:x.whatsappNumber,onChange:e=>h({...x,whatsappNumber:e.target.value})})]})]})]})]})}),(0,s.jsxs)(n.TabsContent,{value:"terms",className:"space-y-4",children:[(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(k,{className:"h-5 w-5"}),"×ª×§× ×•×Ÿ ×”×ž×œ×•×Ÿ (×¢×‘×¨×™×ª)"]}),(0,s.jsx)(l.CardDescription,{children:"×”×ª×§× ×•×Ÿ ×™×•×¦×’ ×œ×œ×§×•×— ×œ×¤× ×™ ××™×©×•×¨ ×”×”×–×ž× ×”"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)(o.Textarea,{value:x.termsAndConditionsHe,onChange:e=>h({...x,termsAndConditionsHe:e.target.value}),rows:10,className:"font-mono text-sm",dir:"rtl"})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(k,{className:"h-5 w-5"}),"Terms & Conditions (English)"]})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)(o.Textarea,{value:x.termsAndConditions,onChange:e=>h({...x,termsAndConditions:e.target.value}),rows:10,className:"font-mono text-sm",dir:"ltr"})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(H.Shield,{className:"h-5 w-5"}),"×ž×“×™× ×™×•×ª ×‘×™×˜×•×œ×™×"]})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž×“×™× ×™×•×ª ×‘×™×˜×•×œ×™× (×¢×‘×¨×™×ª)"}),(0,s.jsx)(o.Textarea,{value:x.cancellationPolicyHe,onChange:e=>h({...x,cancellationPolicyHe:e.target.value}),rows:3})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"Cancellation Policy (English)"}),(0,s.jsx)(o.Textarea,{value:x.cancellationPolicy,onChange:e=>h({...x,cancellationPolicy:e.target.value}),rows:3,dir:"ltr"})]})]})]})]}),(0,s.jsx)(n.TabsContent,{value:"booking",className:"space-y-4",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Calendar,{className:"h-5 w-5"}),"×”×’×“×¨×•×ª ×”×–×ž× ×”"]})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž×™× ×™×ž×•× ×™×ž×™× ×ž×¨××©"}),(0,s.jsx)(r.Input,{type:"number",value:x.minAdvanceBookingDays,onChange:e=>h({...x,minAdvanceBookingDays:parseInt(e.target.value)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž×§×¡×™×ž×•× ×™×ž×™× ×ž×¨××©"}),(0,s.jsx)(r.Input,{type:"number",value:x.maxAdvanceBookingDays,onChange:e=>h({...x,maxAdvanceBookingDays:parseInt(e.target.value)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž×§×¡×™×ž×•× ××•×¨×—×™×"}),(0,s.jsx)(r.Input,{type:"number",value:x.maxGuests,onChange:e=>h({...x,maxGuests:parseInt(e.target.value)})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×ž×˜×‘×¢ ×‘×¨×™×¨×ª ×ž×—×“×œ"}),(0,s.jsxs)(m.Select,{value:x.defaultCurrency,onValueChange:e=>h({...x,defaultCurrency:e}),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"ILS",children:"â‚ª ×©×§×œ (ILS)"}),(0,s.jsx)(m.SelectItem,{value:"USD",children:"$ ×“×•×œ×¨ (USD)"}),(0,s.jsx)(m.SelectItem,{value:"EUR",children:"â‚¬ ×™×•×¨×• (EUR)"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,s.jsx)(c.Switch,{id:"allowChildren",checked:x.allowChildBooking,onCheckedChange:e=>h({...x,allowChildBooking:e})}),(0,s.jsx)(d.Label,{htmlFor:"allowChildren",children:"××¤×©×¨ ×”×–×ž× ×” ×¢× ×™×œ×“×™×"})]})]})]})]})}),(0,s.jsxs)(n.TabsContent,{value:"notifications",className:"space-y-4",children:[(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(P,{className:"h-5 w-5"}),"×”×’×“×¨×•×ª AI Chat"]})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,s.jsx)(c.Switch,{id:"enableAiChat",checked:x.enableAiChat,onCheckedChange:e=>h({...x,enableAiChat:e})}),(0,s.jsx)(d.Label,{htmlFor:"enableAiChat",children:"×”×¤×¢×œ ×¦'××˜ AI"})]}),x.enableAiChat&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×”×•×“×¢×ª ×¤×ª×™×—×”"}),(0,s.jsx)(o.Textarea,{value:x.aiChatWelcomeMessage,onChange:e=>h({...x,aiChatWelcomeMessage:e.target.value}),rows:2})]})]})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(V.Mail,{className:"h-5 w-5"}),"×”×ª×¨××•×ª"]})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,s.jsx)(c.Switch,{id:"enableEmail",checked:x.enableEmailNotifications,onCheckedChange:e=>h({...x,enableEmailNotifications:e})}),(0,s.jsx)(d.Label,{htmlFor:"enableEmail",children:"×©×œ×— ×”×ª×¨××•×ª ×‘××™×ž×™×™×œ"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,s.jsx)(c.Switch,{id:"enableSms",checked:x.enableSmsNotifications,onCheckedChange:e=>h({...x,enableSmsNotifications:e})}),(0,s.jsx)(d.Label,{htmlFor:"enableSms",children:"×©×œ×— ×”×ª×¨××•×ª ×‘-SMS"})]})]})]})]}),(0,s.jsx)(n.TabsContent,{value:"design",className:"space-y-4",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(O,{className:"h-5 w-5"}),"×¢×™×¦×•×‘ ×”×˜×ž×¤×œ×˜"]})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×¦×‘×¢ ×¨××©×™"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Input,{type:"color",value:x.primaryColor,onChange:e=>h({...x,primaryColor:e.target.value}),className:"w-16 h-10 p-1"}),(0,s.jsx)(r.Input,{value:x.primaryColor,onChange:e=>h({...x,primaryColor:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"×¦×‘×¢ ×ž×©× ×™"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Input,{type:"color",value:x.accentColor,onChange:e=>h({...x,accentColor:e.target.value}),className:"w-16 h-10 p-1"}),(0,s.jsx)(r.Input,{value:x.accentColor,onChange:e=>h({...x,accentColor:e.target.value})})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"URL ×œ×•×’×•"}),(0,s.jsx)(r.Input,{value:x.logoUrl,onChange:e=>h({...x,logoUrl:e.target.value}),placeholder:"https://..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.Label,{children:"URL ×ª×ž×•× ×ª ×¨×§×¢"}),(0,s.jsx)(r.Input,{value:x.backgroundImageUrl,onChange:e=>h({...x,backgroundImageUrl:e.target.value}),placeholder:"https://..."})]})]})]})})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(t.Button,{onClick:()=>{i(x),j.toast.success("×”×”×’×“×¨×•×ª × ×©×ž×¨×• ×‘×”×¦×œ×—×”!")},size:"lg",children:[(0,s.jsx)(A.Save,{className:"h-4 w-4 mr-2"}),"×©×ž×•×¨ ×”×’×“×¨×•×ª"]})})]})}function eb(){let[e,r]=(0,a.useState)("overview"),[i,c]=(0,a.useState)(ej),[d,o]=(0,a.useState)(!0),[x,h]=(0,a.useState)([]),[m,u]=(0,a.useState)([]),[p,v]=(0,a.useState)([]),[N,f]=(0,a.useState)([]),[y,S]=(0,a.useState)([]);(0,a.useEffect)(()=>{!async function(){o(!0);try{let e=await fetch("/api/admin/template-logs?template=scarlet");if(e.ok){let s=await e.json();h(s.logs||[])}let s=await fetch("/api/admin/abandoned-bookings?template=scarlet");if(s.ok){let e=await s.json();u(e.bookings||[])}let a=await fetch("/api/admin/template-settings?template=scarlet");if(a.ok){let e=await a.json();e.settings&&c(s=>({...s,...e.settings}))}let l=await fetch("/api/admin/promotions?template=scarlet");if(l.ok){let e=await l.json();v(e.promotions||[])}let t=await fetch("/api/admin/visits?template=scarlet");if(t.ok){let e=await t.json();f(e.visits||[])}let r=await fetch("/api/admin/chat-conversations?template=scarlet");if(r.ok){let e=await r.json();S(e.conversations||[])}}catch(e){console.error("Error loading admin data:",e),j.toast.error("×©×’×™××” ×‘×˜×¢×™× ×ª ×”× ×ª×•× ×™×")}finally{o(!1)}}()},[]);let k={totalSearches:x.length,totalBookings:x.filter(e=>e.completed).length,conversionRate:x.length>0?Math.round(x.filter(e=>e.completed).length/x.length*100):0,abandonedCarts:m.length,recoveryRate:m.length>0?Math.round(m.filter(e=>e.recovered).length/m.length*100):0,revenue:x.filter(e=>e.completed).reduce((e,s)=>e+(s.priceShown||0),0),averageBookingValue:x.filter(e=>e.completed).length>0?Math.round(x.filter(e=>e.completed).reduce((e,s)=>e+(s.priceShown||0),0)/x.filter(e=>e.completed).length):0};return d?(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",dir:"rtl",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)(w.RefreshCw,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"×˜×•×¢×Ÿ × ×ª×•× ×™×..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-background",dir:"rtl",children:[(0,s.jsx)("div",{className:"border-b",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(em.default,{href:"/admin",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[(0,s.jsx)(q.ChevronLeft,{className:"h-4 w-4"}),"×—×–×¨×” ×œ× ×™×”×•×œ"]}),(0,s.jsx)("div",{className:"h-8 w-px bg-border"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold",children:"S"})}),"× ×™×”×•×œ ×˜×ž×¤×œ×˜ Scarlet"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"× ×™×”×•×œ ×ž×œ× ×©×œ ×ž× ×•×¢ ×”×”×–×ž× ×•×ª ×©×œ ×ž×œ×•×Ÿ ×¡×§×¨×œ×˜"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(t.Button,{variant:"outline",asChild:!0,children:(0,s.jsxs)(em.default,{href:"/templates/scarlet",target:"_blank",children:[(0,s.jsx)(z.ExternalLink,{className:"h-4 w-4 mr-2"}),"×¦×¤×” ×‘×˜×ž×¤×œ×˜"]})}),(0,s.jsxs)(t.Button,{variant:"outline",children:[(0,s.jsx)(F.Copy,{className:"h-4 w-4 mr-2"}),"×”×¢×ª×§ ×§×•×“ ×”×˜×ž×¢×”"]})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)(n.Tabs,{value:e,onValueChange:r,children:[(0,s.jsxs)(n.TabsList,{className:"grid w-full grid-cols-7 mb-6",children:[(0,s.jsxs)(n.TabsTrigger,{value:"overview",className:"flex items-center gap-2",children:[(0,s.jsx)(C.BarChart3,{className:"h-4 w-4"}),"×¡×§×™×¨×”"]}),(0,s.jsxs)(n.TabsTrigger,{value:"visits",className:"flex items-center gap-2",children:[(0,s.jsx)(el.Activity,{className:"h-4 w-4"}),"×›× ×™×¡×•×ª"]}),(0,s.jsxs)(n.TabsTrigger,{value:"searches",className:"flex items-center gap-2",children:[(0,s.jsx)(g.Search,{className:"h-4 w-4"}),"×—×™×¤×•×©×™×"]}),(0,s.jsxs)(n.TabsTrigger,{value:"abandoned",className:"flex items-center gap-2",children:[(0,s.jsx)(M,{className:"h-4 w-4"}),"× ×˜×•×©×•×ª"]}),(0,s.jsxs)(n.TabsTrigger,{value:"ai-chat",className:"flex items-center gap-2",children:[(0,s.jsx)(et.Bot,{className:"h-4 w-4"}),"×©×™×—×•×ª AI"]}),(0,s.jsxs)(n.TabsTrigger,{value:"promotions",className:"flex items-center gap-2",children:[(0,s.jsx)(_.Tag,{className:"h-4 w-4"}),"×ž×‘×¦×¢×™×"]}),(0,s.jsxs)(n.TabsTrigger,{value:"settings",className:"flex items-center gap-2",children:[(0,s.jsx)(T.Settings,{className:"h-4 w-4"}),"×”×’×“×¨×•×ª"]})]}),(0,s.jsxs)(n.TabsContent,{value:"overview",className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(eg,{title:"×¡×”×´×› ×—×™×¤×•×©×™×",value:k.totalSearches,subtitle:"×”×™×•×",icon:g.Search,trend:"+12% ×ž××ª×ž×•×œ",trendUp:!0}),(0,s.jsx)(eg,{title:"×”×–×ž× ×•×ª ×©×”×•×©×œ×ž×•",value:k.totalBookings,subtitle:"×”×™×•×",icon:L.CheckCircle,trend:"+8% ×ž××ª×ž×•×œ",trendUp:!0}),(0,s.jsx)(eg,{title:"××—×•×– ×”×ž×¨×”",value:`${k.conversionRate}%`,icon:b.TrendingUp,trend:"+2% ×ž××ª×ž×•×œ",trendUp:!0}),(0,s.jsx)(eg,{title:"×”×›× ×¡×•×ª",value:`â‚ª${k.revenue.toLocaleString()}`,subtitle:"×”×™×•×",icon:I.DollarSign,trend:"+15% ×ž××ª×ž×•×œ",trendUp:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(eg,{title:"×”×–×ž× ×•×ª × ×˜×•×©×•×ª",value:k.abandonedCarts,icon:M,trend:"â‚ª4,300 ×©×•×•×™ × ×˜×•×©",trendUp:!1}),(0,s.jsx)(eg,{title:"××—×•×– ×©×—×–×•×¨",value:`${k.recoveryRate}%`,icon:w.RefreshCw,trend:"+3% ×ž×”×©×‘×•×¢",trendUp:!0}),(0,s.jsx)(eg,{title:"×ž×ž×•×¦×¢ ×”×–×ž× ×”",value:`â‚ª${k.averageBookingValue.toLocaleString()}`,icon:E.CreditCard,trend:"+5% ×ž×”×—×•×“×©",trendUp:!0})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"×¤×¢×™×œ×•×ª ××—×¨×•× ×”"}),(0,s.jsx)(l.CardDescription,{children:"×—×™×¤×•×©×™× ×•×”×–×ž× ×•×ª ××—×¨×•× ×•×ª ×‘×˜×ž×¤×œ×˜"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:x.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e.completed?(0,s.jsx)(L.CheckCircle,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(D.Clock,{className:"h-5 w-5 text-yellow-500"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:[e.selectedRoom||"×—×™×¤×•×© ×›×œ×œ×™"," - ",e.guests," ××•×¨×—×™×"]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.dateFrom," â†’ ",e.dateTo]})]})]}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-medium",children:e.priceShown?`â‚ª${e.priceShown.toLocaleString()}`:"-"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,ex.format)(new Date(e.createdAt),"HH:mm",{locale:eh.he})})]})]},e.id))})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"× ×™×ª×•×— ×ž×©×¤×š ×”×–×ž× ×•×ª"}),(0,s.jsx)(l.CardDescription,{children:"×ž×¢×§×‘ ××—×¨ ×”×ª×§×“×ž×•×ª ×œ×§×•×—×•×ª ×‘×ª×”×œ×™×š ×”×”×–×ž× ×”"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:[{stage:"×—×™×¤×•×©",count:100,percentage:100},{stage:"×‘×—×™×¨×ª ×—×“×¨",count:65,percentage:65},{stage:"×¤×¨×˜×™ ××•×¨×—",count:40,percentage:40},{stage:"×ª×©×œ×•×",count:30,percentage:30},{stage:"×”×•×©×œ×",count:25,percentage:25}].map((e,a)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:e.stage}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[e.count," (",e.percentage,"%)"]})]}),(0,s.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-red-500 to-pink-600 transition-all",style:{width:`${e.percentage}%`}})})]},e.stage))})})]})]}),(0,s.jsx)(n.TabsContent,{value:"searches",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(g.Search,{className:"h-5 w-5"}),"×™×•×ž×Ÿ ×—×™×¤×•×©×™×"]}),(0,s.jsx)(l.CardDescription,{children:"×ž×¢×§×‘ ××—×¨ ×›×œ ×”×—×™×¤×•×©×™× ×©×‘×•×¦×¢×• ×‘×˜×ž×¤×œ×˜"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)(eu,{logs:x})})]})}),(0,s.jsx)(n.TabsContent,{value:"abandoned",children:(0,s.jsx)(ep,{bookings:m})}),(0,s.jsx)(n.TabsContent,{value:"ai-chat",children:(0,s.jsx)(ef,{conversations:y})}),(0,s.jsx)(n.TabsContent,{value:"promotions",children:(0,s.jsx)(ev,{promotions:p})}),(0,s.jsx)(n.TabsContent,{value:"visits",children:(0,s.jsx)(eN,{visits:N})}),(0,s.jsx)(n.TabsContent,{value:"settings",children:(0,s.jsx)(eC,{settings:i,onSave:c})})]})})]})}e.s(["default",()=>eb],396320)}]);