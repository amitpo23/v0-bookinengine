module.exports=[918622,(e,r,s)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,r,s)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,r,s)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,r,s)=>{r.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},193695,(e,r,s)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},442315,(e,r,s)=>{"use strict";r.exports=e.r(918622)},347540,(e,r,s)=>{"use strict";r.exports=e.r(442315).vendored["react-rsc"].React},224361,(e,r,s)=>{r.exports=e.x("util",()=>require("util"))},367652,e=>{"use strict";var r=e.i(224389);let s=process.env.NEXT_PUBLIC_SUPABASE_URL||"",t=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",a=s&&t?(0,r.createClient)(s,t):null,i=s&&process.env.SUPABASE_SERVICE_ROLE_KEY?(0,r.createClient)(s,process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}}):null;e.s(["supabase",0,a,"supabaseAdmin",0,i])},792509,(e,r,s)=>{r.exports=e.x("url",()=>require("url"))},406461,(e,r,s)=>{r.exports=e.x("zlib",()=>require("zlib"))},427699,(e,r,s)=>{r.exports=e.x("events",()=>require("events"))},921517,(e,r,s)=>{r.exports=e.x("http",()=>require("http"))},524836,(e,r,s)=>{r.exports=e.x("https",()=>require("https"))},254799,(e,r,s)=>{r.exports=e.x("crypto",()=>require("crypto"))},185605,(e,r,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){return{id:"google",name:"Google",type:"oauth",wellKnown:"https://accounts.google.com/.well-known/openid-configuration",authorization:{params:{scope:"openid email profile"}},idToken:!0,checks:["pkce","state"],profile:e=>({id:e.sub,name:e.name,email:e.email,image:e.picture}),style:{logo:"/google.svg",bg:"#fff",text:"#000"},options:e}}},368105,e=>{"use strict";var r=e.i(185605),s=e.i(367652);let t={providers:[(0,r.default)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],callbacks:{async signIn({user:e,account:r}){if(!e.email)return!1;try{let{data:t}=await s.supabaseAdmin.from("users").select("*").eq("email",e.email).single();return t?await s.supabaseAdmin.from("users").update({name:e.name,image:e.image,google_id:r?.providerAccountId}).eq("email",e.email):await s.supabaseAdmin.from("users").insert({email:e.email,name:e.name,image:e.image,google_id:r?.providerAccountId}),!0}catch(e){return console.error("Error in signIn callback:",e),!1}},async session({session:e,token:r}){if(e.user){let{data:r}=await s.supabaseAdmin.from("users").select("*").eq("email",e.user.email).single();r&&(e.user.id=r.id,e.user.address=r.address,e.user.city=r.city,e.user.phone=r.phone)}return e}},pages:{signIn:"/",error:"/"},session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET};e.s(["authOptions",0,t])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8204c266._.js.map