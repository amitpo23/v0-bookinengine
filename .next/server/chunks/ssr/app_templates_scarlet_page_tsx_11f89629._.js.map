{"version":3,"sources":["../../../../components/promotions/loyalty-signup.tsx","../../../../components/analytics/affiliate-tracker.tsx","../../../../node_modules/%40radix-ui/react-progress/dist/index.mjs","../../../../components/booking/prebook-timer.tsx","../../../../app/templates/scarlet/page.tsx","../../../../components/ui/progress.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useSession } from 'next-auth/react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Crown, Loader2, CheckCircle, AlertCircle } from 'lucide-react'\n\ninterface LoyaltySignupProps {\n  hotelId?: string\n  variant?: 'default' | 'dark' | 'luxury' | 'family'\n}\n\nexport function LoyaltySignup({ hotelId, variant = 'default' }: LoyaltySignupProps) {\n  const { data: session } = useSession()\n  const [email, setEmail] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [success, setSuccess] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const handleSignup = async () => {\n    const userEmail = session?.user?.email || email\n\n    if (!userEmail) {\n      setError('×× × ×”×–×Ÿ ××™××™×™×œ')\n      return\n    }\n\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch('/api/loyalty/join', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          email: userEmail,\n          name: session?.user?.name || undefined,\n          hotelId\n        })\n      })\n\n      const data = await response.json()\n\n      if (response.ok) {\n        setSuccess(true)\n        setEmail('')\n      } else {\n        setError(data.message || '×©×’×™××” ×‘×”×¨×©××”')\n      }\n    } catch (err) {\n      setError('×©×’×™××” ×‘×”×¨×©××” ×œ××•×¢×“×•×Ÿ')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const inputClass = \n    variant === 'dark'\n      ? 'bg-white/10 border-white/20 text-white placeholder:text-gray-400'\n      : variant === 'luxury'\n      ? 'border-amber-300 focus:border-amber-500'\n      : variant === 'family'\n      ? 'border-purple-300 focus:border-orange-400'\n      : ''\n\n  const buttonClass =\n    variant === 'dark'\n      ? 'bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white'\n      : variant === 'luxury'\n      ? 'bg-amber-600 hover:bg-amber-700 text-white'\n      : variant === 'family'\n      ? 'bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white'\n      : ''\n\n  if (success) {\n    return (\n      <div className={`p-4 rounded-lg border ${variant === 'dark' ? 'bg-green-900/20 border-green-500/30' : 'bg-green-50 border-green-200'}`}>\n        <div className=\"flex items-center gap-2\">\n          <CheckCircle className=\"h-5 w-5 text-green-500\" />\n          <div>\n            <p className={`font-semibold ${variant === 'dark' ? 'text-green-400' : 'text-green-800'}`}>\n              ×”×¦×˜×¨×¤×ª ×‘×”×¦×œ×—×” ×œ××•×¢×“×•×Ÿ VIP!\n            </p>\n            <p className={`text-sm ${variant === 'dark' ? 'text-green-300' : 'text-green-700'}`}>\n              ×¤×¨×˜×™ ×”×—×‘×¨×•×ª × ×©×œ×—×• ×œ××™××™×™×œ ×©×œ×š\n            </p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {!session?.user && (\n        <Input\n          type=\"email\"\n          placeholder=\"×”×–×Ÿ ××ª ×”××™××™×™×œ ×©×œ×š\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          disabled={loading}\n          className={inputClass}\n          dir=\"rtl\"\n        />\n      )}\n\n      <Button\n        onClick={handleSignup}\n        disabled={loading || (!session?.user && !email)}\n        className={`w-full ${buttonClass}`}\n      >\n        {loading ? (\n          <>\n            <Loader2 className=\"h-4 w-4 ml-2 animate-spin\" />\n            ××¦×˜×¨×£...\n          </>\n        ) : (\n          <>\n            <Crown className=\"h-4 w-4 ml-2\" />\n            ×”×¦×˜×¨×£ ×œ××•×¢×“×•×Ÿ VIP\n          </>\n        )}\n      </Button>\n\n      {error && (\n        <div className=\"flex items-center gap-2 text-sm text-red-500\">\n          <AlertCircle className=\"h-4 w-4\" />\n          <span>{error}</span>\n        </div>\n      )}\n\n      <p className={`text-xs text-center ${variant === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\n        ×—×™× × ×œ×—×œ×•×˜×™×Ÿ â€¢ ×œ×œ× ×”×ª×—×™×™×‘×•×ª\n      </p>\n    </div>\n  )\n}\n","'use client'\n\nimport { useEffect, Suspense } from 'react'\nimport { useSearchParams } from 'next/navigation'\n\ninterface AffiliateTrackerProps {\n  hotelId?: string\n}\n\nfunction AffiliateTrackerInner({ hotelId }: AffiliateTrackerProps) {\n  const searchParams = useSearchParams()\n\n  useEffect(() => {\n    const trackAffiliate = async () => {\n      const ref = searchParams.get('ref') || searchParams.get('affiliate')\n      \n      if (!ref) return\n\n      // Store in localStorage for later conversion\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('affiliate_ref', ref)\n        localStorage.setItem('affiliate_timestamp', Date.now().toString())\n      }\n\n      try {\n        await fetch('/api/affiliate/track', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            affiliateCode: ref,\n            hotelId,\n            source: searchParams.get('utm_source') || 'direct',\n            medium: searchParams.get('utm_medium') || 'referral',\n            campaign: searchParams.get('utm_campaign') || undefined\n          })\n        })\n      } catch (err) {\n        console.error('Affiliate tracking error:', err)\n      }\n    }\n\n    trackAffiliate()\n  }, [searchParams, hotelId])\n\n  return null\n}\n\nexport function AffiliateTracker(props: AffiliateTrackerProps) {\n  return (\n    <Suspense fallback={null}>\n      <AffiliateTrackerInner {...props} />\n    </Suspense>\n  )\n}\n","\"use client\";\n\n// packages/react/progress/src/Progress.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PROGRESS_NAME = \"Progress\";\nvar DEFAULT_MAX = 100;\nvar [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\nvar [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);\nvar Progress = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, \"Progress\"));\n    }\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, \"Progress\"));\n    }\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;\n    return /* @__PURE__ */ jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"aria-valuemax\": max,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": isNumber(value) ? value : void 0,\n        \"aria-valuetext\": valueLabel,\n        role: \"progressbar\",\n        \"data-state\": getProgressState(value, max),\n        \"data-value\": value ?? void 0,\n        \"data-max\": max,\n        ...progressProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nProgress.displayName = PROGRESS_NAME;\nvar INDICATOR_NAME = \"ProgressIndicator\";\nvar ProgressIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": getProgressState(context.value, context.max),\n        \"data-value\": context.value ?? void 0,\n        \"data-max\": context.max,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nProgressIndicator.displayName = INDICATOR_NAME;\nfunction defaultGetValueLabel(value, max) {\n  return `${Math.round(value / max * 100)}%`;\n}\nfunction getProgressState(value, maxValue) {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isValidMaxNumber(max) {\n  return isNumber(max) && !isNaN(max) && max > 0;\n}\nfunction isValidValueNumber(value, max) {\n  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;\n}\nfunction getInvalidMaxError(propValue, componentName) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\nfunction getInvalidValueError(propValue, componentName) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\nvar Root = Progress;\nvar Indicator = ProgressIndicator;\nexport {\n  Indicator,\n  Progress,\n  ProgressIndicator,\n  Root,\n  createProgressScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Clock, AlertCircle } from \"lucide-react\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { Progress } from \"@/components/ui/progress\"\n\ninterface PreBookTimerProps {\n  expiresAt: Date\n  onExpired?: () => void\n  warningMinutes?: number\n}\n\nexport function PreBookTimer({ \n  expiresAt, \n  onExpired, \n  warningMinutes = 5 \n}: PreBookTimerProps) {\n  const [timeRemaining, setTimeRemaining] = useState<number>(0)\n  const [isExpired, setIsExpired] = useState(false)\n\n  useEffect(() => {\n    const updateTimer = () => {\n      const now = new Date()\n      const diff = expiresAt.getTime() - now.getTime()\n      \n      if (diff <= 0) {\n        setTimeRemaining(0)\n        setIsExpired(true)\n        onExpired?.()\n      } else {\n        setTimeRemaining(Math.floor(diff / 1000))\n      }\n    }\n\n    // Update immediately\n    updateTimer()\n\n    // Update every second\n    const interval = setInterval(updateTimer, 1000)\n\n    return () => clearInterval(interval)\n  }, [expiresAt, onExpired])\n\n  const minutes = Math.floor(timeRemaining / 60)\n  const seconds = timeRemaining % 60\n  const totalMinutes = 30 // PreBook is valid for 30 minutes\n  const progressPercentage = (timeRemaining / (totalMinutes * 60)) * 100\n\n  const isWarning = minutes < warningMinutes && !isExpired\n\n  if (isExpired) {\n    return (\n      <Alert variant=\"destructive\">\n        <AlertCircle className=\"h-4 w-4\" />\n        <AlertDescription>\n          ×–××Ÿ ×”×”×–×× ×” ×¤×’. ×× × ×—×¤×© ×©×•×‘ ××ª ×”×—×“×¨.\n        </AlertDescription>\n      </Alert>\n    )\n  }\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex items-center gap-2 text-sm\">\n        <Clock className={`h-4 w-4 ${isWarning ? 'text-orange-500' : 'text-blue-500'}`} />\n        <span className={isWarning ? 'text-orange-500 font-medium' : 'text-muted-foreground'}>\n          ×–××Ÿ ×œ×”×©×œ××ª ×”×”×–×× ×”: {minutes}:{seconds.toString().padStart(2, '0')}\n        </span>\n      </div>\n      \n      <Progress \n        value={progressPercentage} \n        className={`h-2 ${isWarning ? 'bg-orange-100' : ''}`}\n      />\n\n      {isWarning && (\n        <Alert variant=\"default\" className=\"border-orange-200 bg-orange-50\">\n          <AlertCircle className=\"h-4 w-4 text-orange-500\" />\n          <AlertDescription className=\"text-orange-700\">\n            ××”×¨! × ×©××¨×• ×¤×—×•×ª ×-{warningMinutes} ×“×§×•×ª ×œ×”×©×œ××ª ×”×”×–×× ×”\n          </AlertDescription>\n        </Alert>\n      )}\n    </div>\n  )\n}\n\n// Hook ×œ×©×™××•×© ×‘-PreBook Timer\nexport function usePreBookTimer(expiresAt: Date | null) {\n  const [timeRemaining, setTimeRemaining] = useState<number>(0)\n  const [isExpired, setIsExpired] = useState(false)\n  const [isWarning, setIsWarning] = useState(false)\n\n  useEffect(() => {\n    if (!expiresAt) return\n\n    const updateTimer = () => {\n      const now = new Date()\n      const diff = expiresAt.getTime() - now.getTime()\n      \n      if (diff <= 0) {\n        setTimeRemaining(0)\n        setIsExpired(true)\n        setIsWarning(false)\n      } else {\n        const seconds = Math.floor(diff / 1000)\n        setTimeRemaining(seconds)\n        setIsWarning(seconds < 5 * 60) // Warning at 5 minutes\n      }\n    }\n\n    updateTimer()\n    const interval = setInterval(updateTimer, 1000)\n\n    return () => clearInterval(interval)\n  }, [expiresAt])\n\n  const minutes = Math.floor(timeRemaining / 60)\n  const seconds = timeRemaining % 60\n\n  return {\n    timeRemaining,\n    minutes,\n    seconds,\n    isExpired,\n    isWarning,\n    progressPercentage: (timeRemaining / (30 * 60)) * 100\n  }\n}\n","\"use client\"\n\nimport { useState, useEffect, useRef, useCallback } from \"react\"\nimport { format } from \"date-fns\"\nimport { he } from \"date-fns/locale\"\nimport { Calendar, Users, Heart, Sparkles, Bath, Home, Crown, User, ChevronLeft, ChevronRight, MessageCircle, X, Loader2, AlertCircle } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { SocialShare } from \"@/components/ui/social-share\"\nimport { scarletRoomTypes, scarletHotelConfig } from \"@/lib/hotels/scarlet-config\"\nimport { LoyaltySignup } from \"@/components/promotions/loyalty-signup\"\nimport { LoyaltyBadge } from \"@/components/promotions/loyalty-badge\"\nimport { PromotionBanner } from \"@/components/promotions/promotion-banner\"\nimport { AffiliateTracker } from \"@/components/analytics/affiliate-tracker\"\nimport { trackEvent, trackPageView, trackSelectItem, trackSearch } from \"@/lib/analytics/ga4\"\nimport { LoginButton } from \"@/components/auth/login-button\"\nimport { I18nProvider, useI18n } from \"@/lib/i18n/context\"\nimport { LanguageSwitcher } from \"@/components/booking/language-switcher\"\nimport { useBookingEngine } from \"@/hooks/use-booking-engine\"\nimport { BookingSteps, GuestDetailsForm, PaymentForm, BookingConfirmation } from \"@/components/booking/templates/shared\"\nimport { PreBookTimer } from \"@/components/booking/prebook-timer\"\nimport { addDays } from \"date-fns\"\nimport Link from \"next/link\"\nimport { ErrorBoundary } from \"@/components/error-boundary\"\nimport { AnimatedCard, showToast } from \"@/components/templates/enhanced-ui\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\n\n// ============= ADMIN TRACKING =============\n// Helper function to log search/booking activity to admin\nconst logToAdmin = async (data: {\n  stage: string\n  sessionId: string\n  dateFrom?: string\n  dateTo?: string\n  guests?: number\n  selectedRoom?: string\n  selectedRoomCode?: string\n  priceShown?: number\n  completed?: boolean\n  customerEmail?: string\n  customerName?: string\n  customerPhone?: string\n}) => {\n  try {\n    await fetch('/api/admin/template-logs', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        templateId: 'scarlet',\n        ...data,\n        source: document.referrer ? new URL(document.referrer).hostname : 'direct',\n        referrer: document.referrer,\n        userAgent: navigator.userAgent,\n      }),\n    })\n  } catch (error) {\n    console.warn('Failed to log to admin:', error)\n  }\n}\n\n// Helper to track abandoned bookings\nconst trackAbandoned = async (data: {\n  sessionId: string\n  customerEmail?: string\n  customerName?: string\n  customerPhone?: string\n  roomType: string\n  roomCode?: string\n  checkIn: string\n  checkOut: string\n  guests: number\n  totalPrice: number\n  stage: string\n}) => {\n  try {\n    await fetch('/api/admin/abandoned-bookings', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        templateId: 'scarlet',\n        hotelId: scarletHotelConfig.hotelId,\n        hotelName: scarletHotelConfig.hebrewName,\n        currency: 'ILS',\n        source: document.referrer ? new URL(document.referrer).hostname : 'direct',\n        ...data,\n      }),\n    })\n  } catch (error) {\n    console.warn('Failed to track abandoned booking:', error)\n  }\n}\n\n// Generate unique session ID for tracking\nconst getSessionId = (): string => {\n  if (typeof window === 'undefined') return `sess_${Date.now()}`\n  \n  let sessionId = sessionStorage.getItem('scarlet_session_id')\n  if (!sessionId) {\n    sessionId = `sess_${Date.now()}_${Math.random().toString(36).substring(2, 8)}`\n    sessionStorage.setItem('scarlet_session_id', sessionId)\n  }\n  return sessionId\n}\n\n// Custom Payment Form for Scarlet (works with useBookingEngine)\nfunction ScarletPaymentForm({ \n  totalPrice, \n  currency, \n  onSubmit, \n  isProcessing \n}: { \n  totalPrice: number\n  currency: string\n  onSubmit: () => void\n  isProcessing: boolean\n}) {\n  const [cardNumber, setCardNumber] = useState(\"\")\n  const [expiry, setExpiry] = useState(\"\")\n  const [cvv, setCvv] = useState(\"\")\n  const [cardName, setCardName] = useState(\"\")\n  const [agreed, setAgreed] = useState(false)\n  const [errors, setErrors] = useState<Record<string, string>>({})\n\n  const formatCardNumber = (value: string) => {\n    const v = value.replace(/\\s+/g, \"\").replace(/[^0-9]/gi, \"\")\n    const matches = v.match(/\\d{4,16}/g)\n    const match = (matches && matches[0]) || \"\"\n    const parts = []\n    for (let i = 0, len = match.length; i < len; i += 4) {\n      parts.push(match.substring(i, i + 4))\n    }\n    return parts.length ? parts.join(\" \") : value\n  }\n\n  const formatExpiry = (value: string) => {\n    const v = value.replace(/\\s+/g, \"\").replace(/[^0-9]/gi, \"\")\n    if (v.length >= 2) return v.slice(0, 2) + \"/\" + v.slice(2, 4)\n    return v\n  }\n\n  const validate = () => {\n    const newErrors: Record<string, string> = {}\n    if (!cardNumber.replace(/\\s/g, \"\").match(/^\\d{16}$/)) newErrors.cardNumber = \"××¡×¤×¨ ×›×¨×˜×™×¡ ×œ× ×ª×§×™×Ÿ\"\n    if (!expiry.match(/^\\d{2}\\/\\d{2}$/)) newErrors.expiry = \"×ª×•×§×£ ×œ× ×ª×§×™×Ÿ\"\n    if (!cvv.match(/^\\d{3,4}$/)) newErrors.cvv = \"CVV ×œ× ×ª×§×™×Ÿ\"\n    if (!cardName.trim()) newErrors.cardName = \"×©×“×” ×—×•×‘×”\"\n    if (!agreed) newErrors.agreed = \"×™×© ×œ××©×¨ ××ª ×ª× ××™ ×”×”×–×× ×”\"\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (validate()) onSubmit()\n  }\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat(\"he-IL\", {\n      style: \"currency\",\n      currency: currency || \"USD\",\n      minimumFractionDigits: 2,\n    }).format(price)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <div className=\"bg-gray-800/50 rounded-xl p-6 border border-gray-700\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-xl font-semibold text-white flex items-center gap-2\">\n            ğŸ’³ ×¤×¨×˜×™ ×›×¨×˜×™×¡ ××©×¨××™\n          </h3>\n          <span className=\"text-sm text-green-400 flex items-center gap-1\">\n            ğŸ”’ ×××•×‘×˜×— SSL\n          </span>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div>\n            <Label className=\"text-gray-300\">××¡×¤×¨ ×›×¨×˜×™×¡</Label>\n            <Input\n              value={cardNumber}\n              onChange={(e) => setCardNumber(formatCardNumber(e.target.value))}\n              placeholder=\"1234 5678 9012 3456\"\n              maxLength={19}\n              dir=\"ltr\"\n              className={`bg-white text-black ${errors.cardNumber ? \"border-red-500\" : \"\"}`}\n            />\n            {errors.cardNumber && <p className=\"text-xs text-red-400 mt-1\">{errors.cardNumber}</p>}\n          </div>\n\n          <div>\n            <Label className=\"text-gray-300\">×©× ×‘×¢×œ ×”×›×¨×˜×™×¡</Label>\n            <Input\n              value={cardName}\n              onChange={(e) => setCardName(e.target.value)}\n              placeholder=\"×™×©×¨××œ ×™×©×¨××œ×™\"\n              dir=\"rtl\"\n              className={`bg-white text-black ${errors.cardName ? \"border-red-500\" : \"\"}`}\n            />\n            {errors.cardName && <p className=\"text-xs text-red-400 mt-1\">{errors.cardName}</p>}\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <Label className=\"text-gray-300\">×ª×•×§×£</Label>\n              <Input\n                value={expiry}\n                onChange={(e) => setExpiry(formatExpiry(e.target.value))}\n                placeholder=\"MM/YY\"\n                maxLength={5}\n                dir=\"ltr\"\n                className={`bg-white text-black ${errors.expiry ? \"border-red-500\" : \"\"}`}\n              />\n              {errors.expiry && <p className=\"text-xs text-red-400 mt-1\">{errors.expiry}</p>}\n            </div>\n            <div>\n              <Label className=\"text-gray-300\">CVV</Label>\n              <Input\n                value={cvv}\n                onChange={(e) => setCvv(e.target.value.replace(/\\D/g, \"\").slice(0, 4))}\n                placeholder=\"123\"\n                maxLength={4}\n                type=\"password\"\n                dir=\"ltr\"\n                className={`bg-white text-black ${errors.cvv ? \"border-red-500\" : \"\"}`}\n              />\n              {errors.cvv && <p className=\"text-xs text-red-400 mt-1\">{errors.cvv}</p>}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-start gap-2\">\n        <Checkbox \n          id=\"terms\" \n          checked={agreed} \n          onCheckedChange={(checked) => setAgreed(checked === true)}\n          className=\"mt-1\"\n        />\n        <div className=\"space-y-1\">\n          <Label htmlFor=\"terms\" className=\"text-sm text-gray-300 cursor-pointer\">\n            ×§×¨××ª×™ ×•×× ×™ ××¡×›×™×/×” ×œ\n            <a href=\"#\" className=\"text-pink-400 hover:underline mx-1\">×ª× ××™ ×”×©×™××•×©</a>\n            ×•×œ\n            <a href=\"#\" className=\"text-pink-400 hover:underline mx-1\">××“×™× ×™×•×ª ×”×‘×™×˜×•×œ×™×</a>\n          </Label>\n          {errors.agreed && <p className=\"text-xs text-red-400\">{errors.agreed}</p>}\n        </div>\n      </div>\n\n      <div className=\"bg-gradient-to-r from-green-900/30 to-emerald-900/30 rounded-xl p-4 border border-green-500/30\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center\">\n              ğŸ›¡ï¸\n            </div>\n            <span className=\"text-lg text-white\">×¡×”×´×› ×œ×ª×©×œ×•×</span>\n          </div>\n          <span className=\"text-3xl font-bold text-white\">{formatPrice(totalPrice)}</span>\n        </div>\n      </div>\n\n      <Button \n        type=\"submit\" \n        className=\"w-full h-14 text-lg font-semibold bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white\"\n        disabled={isProcessing}\n      >\n        {isProcessing ? (\n          <span className=\"flex items-center gap-2\">\n            <Loader2 className=\"w-5 h-5 animate-spin\" />\n            ××¢×‘×“ ×”×–×× ×”...\n          </span>\n        ) : (\n          \"××©×¨ ×”×–×× ×” ×•×©×œ×\"\n        )}\n      </Button>\n    </form>\n  )\n}\n\n// Custom Guest Form for Scarlet (light background, good contrast)\nfunction ScarletGuestForm({ \n  onSubmit, \n  isLoading \n}: { \n  onSubmit: (details: any) => void\n  isLoading: boolean\n}) {\n  const { t, locale } = useI18n()\n  const [formData, setFormData] = useState({\n    title: 'mr',\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    country: 'IL',\n    city: '',\n    address: '',\n    specialRequests: ''\n  })\n  const [errors, setErrors] = useState<Record<string, string>>({})\n\n  const validate = () => {\n    const newErrors: Record<string, string> = {}\n    const requiredMsg = locale === 'he' ? '×©×“×” ×—×•×‘×”' : 'Required field'\n    const invalidEmailMsg = locale === 'he' ? '××™××™×™×œ ×œ× ×ª×§×™×Ÿ' : 'Invalid email'\n    const invalidPhoneMsg = locale === 'he' ? '×˜×œ×¤×•×Ÿ ×œ× ×ª×§×™×Ÿ' : 'Invalid phone'\n    \n    if (!formData.firstName.trim()) newErrors.firstName = requiredMsg\n    if (!formData.lastName.trim()) newErrors.lastName = requiredMsg\n    if (!formData.email.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)) newErrors.email = invalidEmailMsg\n    if (!formData.phone.match(/^[\\d\\-\\+\\s]{9,15}$/)) newErrors.phone = invalidPhoneMsg\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (validate()) {\n      onSubmit(formData)\n    }\n  }\n\n  const handleChange = (field: string, value: string) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: '' }))\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Title & First Name */}\n      <div className=\"grid grid-cols-4 gap-4\">\n        <div>\n          <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '×ª×•××¨' : 'Title'} *</Label>\n          <select\n            value={formData.title}\n            onChange={(e) => handleChange('title', e.target.value)}\n            className=\"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n          >\n            <option value=\"mr\">{locale === 'he' ? '××¨' : 'Mr'}</option>\n            <option value=\"mrs\">{locale === 'he' ? '×’×‘×¨×ª' : 'Mrs'}</option>\n            <option value=\"ms\">{locale === 'he' ? '×’×‘×³' : 'Ms'}</option>\n          </select>\n        </div>\n        <div className=\"col-span-3\">\n          <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '×©× ×¤×¨×˜×™' : 'First Name'} *</Label>\n          <Input\n            value={formData.firstName}\n            onChange={(e) => handleChange('firstName', e.target.value)}\n            placeholder={locale === 'he' ? '×”×›× ×¡ ×©× ×¤×¨×˜×™' : 'Enter first name'}\n            className={`mt-1 bg-white text-gray-900 border-gray-300 placeholder-gray-400 ${errors.firstName ? \"border-red-500\" : \"\"}`}\n          />\n          {errors.firstName && <p className=\"text-xs text-red-500 mt-1\">{errors.firstName}</p>}\n        </div>\n      </div>\n\n      {/* Last Name & Email */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '×©× ××©×¤×—×”' : 'Last Name'} *</Label>\n          <Input\n            value={formData.lastName}\n            onChange={(e) => handleChange('lastName', e.target.value)}\n            placeholder={locale === 'he' ? '×”×›× ×¡ ×©× ××©×¤×—×”' : 'Enter last name'}\n            className={`mt-1 bg-white text-gray-900 border-gray-300 placeholder-gray-400 ${errors.lastName ? \"border-red-500\" : \"\"}`}\n          />\n          {errors.lastName && <p className=\"text-xs text-red-500 mt-1\">{errors.lastName}</p>}\n        </div>\n        <div>\n          <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '×“×•××´×œ' : 'Email'} *</Label>\n          <Input\n            type=\"email\"\n            value={formData.email}\n            onChange={(e) => handleChange('email', e.target.value)}\n            placeholder=\"your@email.com\"\n            dir=\"ltr\"\n            className={`mt-1 bg-white text-gray-900 border-gray-300 placeholder-gray-400 ${errors.email ? \"border-red-500\" : \"\"}`}\n          />\n          {errors.email && <p className=\"text-xs text-red-500 mt-1\">{errors.email}</p>}\n        </div>\n      </div>\n\n      {/* Phone & Country */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '×˜×œ×¤×•×Ÿ' : 'Phone'} *</Label>\n          <Input\n            type=\"tel\"\n            value={formData.phone}\n            onChange={(e) => handleChange('phone', e.target.value)}\n            placeholder=\"050-0000000\"\n            dir=\"ltr\"\n            className={`mt-1 bg-white text-gray-900 border-gray-300 placeholder-gray-400 ${errors.phone ? \"border-red-500\" : \"\"}`}\n          />\n          {errors.phone && <p className=\"text-xs text-red-500 mt-1\">{errors.phone}</p>}\n        </div>\n        <div>\n          <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '××“×™× ×”' : 'Country'}</Label>\n          <select\n            value={formData.country}\n            onChange={(e) => handleChange('country', e.target.value)}\n            className=\"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n          >\n            <option value=\"IL\">{locale === 'he' ? '×™×©×¨××œ' : 'Israel'}</option>\n            <option value=\"US\">{locale === 'he' ? '××¨×”×´×‘' : 'United States'}</option>\n            <option value=\"GB\">{locale === 'he' ? '×‘×¨×™×˜× ×™×”' : 'United Kingdom'}</option>\n            <option value=\"FR\">{locale === 'he' ? '×¦×¨×¤×ª' : 'France'}</option>\n            <option value=\"DE\">{locale === 'he' ? '×’×¨×× ×™×”' : 'Germany'}</option>\n          </select>\n        </div>\n      </div>\n\n      {/* City & Address */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '×¢×™×¨' : 'City'}</Label>\n          <Input\n            value={formData.city}\n            onChange={(e) => handleChange('city', e.target.value)}\n            placeholder={locale === 'he' ? '×©× ×”×¢×™×¨' : 'City name'}\n            className=\"mt-1 bg-white text-gray-900 border-gray-300 placeholder-gray-400\"\n          />\n        </div>\n        <div>\n          <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '×›×ª×•×‘×ª' : 'Address'}</Label>\n          <Input\n            value={formData.address}\n            onChange={(e) => handleChange('address', e.target.value)}\n            placeholder={locale === 'he' ? '×¨×—×•×‘ ×•××¡×¤×¨' : 'Street and number'}\n            className=\"mt-1 bg-white text-gray-900 border-gray-300 placeholder-gray-400\"\n          />\n        </div>\n      </div>\n\n      {/* Special Requests */}\n      <div>\n        <Label className=\"text-gray-700 font-medium\">{locale === 'he' ? '×‘×§×©×•×ª ××™×•×—×“×•×ª' : 'Special Requests'}</Label>\n        <textarea\n          value={formData.specialRequests}\n          onChange={(e) => handleChange('specialRequests', e.target.value)}\n          placeholder={locale === 'he' ? '××œ×¨×’×™×•×ª, ×”×¢×“×¤×•×ª ×—×“×¨, ×•×›×•×³' : 'Allergies, room preferences, etc.'}\n          rows={3}\n          className=\"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n        />\n      </div>\n\n      {/* Submit Button */}\n      <Button \n        type=\"submit\" \n        className=\"w-full h-14 text-lg font-semibold bg-gradient-to-r from-pink-500 to-red-500 hover:from-pink-400 hover:to-red-400 text-white\"\n        disabled={isLoading}\n      >\n        {isLoading ? (\n          <span className=\"flex items-center gap-2\">\n            <Loader2 className=\"w-5 h-5 animate-spin\" />\n            {locale === 'he' ? '×©×•××¨ ×¤×¨×˜×™×...' : 'Saving details...'}\n          </span>\n        ) : (\n          locale === 'he' ? '×”××©×š ×œ×ª×©×œ×•×' : 'Continue to Payment'\n        )}\n      </Button>\n    </form>\n  )\n}\n\n// Helper function to normalize API rooms to display format\n// Maps Knowaa API results to Scarlet Hotel template room types\n// API Room Mapping (based on actual Knowaa Live results):\n// - \"standard\" + \"triple\" â†’ deluxe-balcony-bathtub (3 guests, $110.11)\n// - \"suite\" + \"double\" â†’ suite (2-4 guests, $275.46)\nfunction normalizeApiRoom(apiRoom: any, index: number) {\n  const roomName = (apiRoom.roomName || '').toLowerCase()\n  const roomCategory = (apiRoom.roomCategory || apiRoom.category || '').toLowerCase()\n  const bedding = (apiRoom.bedding || '').toLowerCase()\n  \n  console.log('ğŸ”„ Normalizing API room:', { roomName, roomCategory, bedding, price: apiRoom.buyPrice })\n  \n  // MAPPING TABLE: API â†’ Template\n  // standard+triple â†’ deluxe-balcony-bathtub (×“×œ××§×¡ ×¢× ××¨×¤×¡×ª ×•×××‘×˜×™×”)\n  // suite+double â†’ suite (×”×¡×•×•×™×˜×”)\n  \n  let templateRoom = scarletRoomTypes[0] // Default fallback\n  let matchReason = 'default'\n  \n  // Match 1: Standard Triple â†’ Deluxe Balcony & Bathtub (3 guests)\n  if (roomCategory.includes('standard') && (bedding.includes('triple') || roomName.includes('triple'))) {\n    templateRoom = scarletRoomTypes.find(r => r.id === 'deluxe-balcony-bathtub') || scarletRoomTypes[5]\n    matchReason = 'standard+tripleâ†’deluxe-balcony-bathtub'\n  }\n  \n  // Match 2: Suite Double â†’ The Suite (2-5 guests)\n  else if (roomCategory.includes('suite') || roomName.includes('suite')) {\n    templateRoom = scarletRoomTypes.find(r => r.id === 'suite') || scarletRoomTypes[6]\n    matchReason = 'suiteâ†’suite'\n  }\n  \n  // Match 3: Standard Double â†’ Classic Double (fallback for 2 guests)\n  else if (roomCategory.includes('standard') && (bedding.includes('double') || roomName.includes('double'))) {\n    templateRoom = scarletRoomTypes.find(r => r.id === 'classic-double') || scarletRoomTypes[0]\n    matchReason = 'standard+doubleâ†’classic-double'\n  }\n  \n  // Match 4: Deluxe â†’ Deluxe Room (4 guests)\n  else if (roomCategory.includes('deluxe')) {\n    templateRoom = scarletRoomTypes.find(r => r.id === 'deluxe') || scarletRoomTypes[4]\n    matchReason = 'deluxeâ†’deluxe'\n  }\n  \n  console.log(`âœ… Matched: ${matchReason}`, templateRoom.id, templateRoom.hebrewName)\n\n  // Return normalized room with REAL API price and template styling\n  return {\n    id: apiRoom.roomId || apiRoom.code || `scarlet-room-${index}`,\n    name: templateRoom.name,\n    hebrewName: templateRoom.hebrewName,\n    emoji: templateRoom.emoji,\n    tagline: templateRoom.tagline,\n    description: templateRoom.description,\n    size: templateRoom.size,\n    maxGuests: templateRoom.maxGuests,\n    basePrice: Math.round(apiRoom.buyPrice || apiRoom.basePrice || 0), // REAL API PRICE!\n    currency: apiRoom.currency || \"USD\",\n    features: templateRoom.features,\n    isPremium: templateRoom.isPremium || false,\n    wowFactor: templateRoom.wowFactor || false,\n    special: templateRoom.special,\n    suitableFor: templateRoom.suitableFor,\n    images: templateRoom.images,\n    \n    // Preserve fallback/static data markers\n    isFallback: apiRoom.isFallback || false,\n    isStaticData: apiRoom.isStaticData || false,\n    available: apiRoom.available !== false, // Default to true unless explicitly false\n    unavailableMessage: apiRoom.unavailableMessage,\n    \n    apiRoom: apiRoom // Keep original API data for PreBook\n  }\n}\n\nfunction ScarletTemplateContent() {\n  const { t, locale, dir } = useI18n()\n  \n  // Helper function to check if a hotel is Scarlet Hotel Tel Aviv\n  // CRITICAL: ONLY accept hotel ID 863233 - no fallbacks!\n  const isScarletHotel = (hotel: any) => {\n    if (!hotel) return false\n    \n    // STRICT CHECK: Hotel ID MUST be exactly 863233\n    const hotelId = String(hotel.hotelId || hotel.id || '')\n    \n    // Explicitly reject Dave Gordon TLV (850086) - it's a different hotel\n    if (hotelId === '850086') {\n      console.log('âŒ Rejected Dave Gordon TLV (850086) - not Scarlet Hotel')\n      return false\n    }\n    \n    // Accept ONLY Scarlet Hotel with ID 863233\n    if (hotelId === '863233') {\n      console.log('âœ… Scarlet Hotel found by ID:', hotelId, hotel.hotelName)\n      return true\n    }\n    \n    // No fallbacks - reject everything else\n    return false\n  }\n  \n  // Get filtered Scarlet results\n  const getScarletResults = () => {\n    if (!booking.searchResults || booking.searchResults.length === 0) return null\n    \n    // Find Scarlet hotel in results\n    const scarletHotel = booking.searchResults.find(isScarletHotel)\n    return scarletHotel || null\n  }\n  \n  // Set document metadata dynamically\n  useEffect(() => {\n    const title = locale === 'he' \n      ? `${scarletHotelConfig.hebrewName} - ${scarletHotelConfig.hebrewTagline}` \n      : `Scarlet Hotel Tel Aviv - A romantic experience in the heart of Tel Aviv`\n    \n    const description = scarletHotelConfig.description\n    \n    document.title = title\n    \n    // Update meta tags\n    const metaDescription = document.querySelector('meta[name=\"description\"]')\n    if (metaDescription) {\n      metaDescription.setAttribute('content', description)\n    } else {\n      const meta = document.createElement('meta')\n      meta.name = 'description'\n      meta.content = description\n      document.head.appendChild(meta)\n    }\n    \n    // Add/Update Open Graph tags\n    const ogTags = [\n      { property: 'og:title', content: title },\n      { property: 'og:description', content: description },\n      { property: 'og:type', content: 'website' },\n      { property: 'og:url', content: window.location.href },\n      { property: 'og:image', content: scarletHotelConfig.images[0] },\n      { property: 'og:site_name', content: 'Scarlet Hotel Tel Aviv' },\n      { name: 'twitter:card', content: 'summary_large_image' },\n      { name: 'twitter:title', content: title },\n      { name: 'twitter:description', content: description },\n      { name: 'twitter:image', content: scarletHotelConfig.images[0] },\n    ]\n    \n    ogTags.forEach(({ property, name, content }) => {\n      const selector = property ? `meta[property=\"${property}\"]` : `meta[name=\"${name}\"]`\n      let meta = document.querySelector(selector)\n      if (meta) {\n        meta.setAttribute('content', content)\n      } else {\n        meta = document.createElement('meta')\n        if (property) meta.setAttribute('property', property)\n        if (name) meta.setAttribute('name', name)\n        meta.setAttribute('content', content)\n        document.head.appendChild(meta)\n      }\n    })\n    \n    // Add structured data for Hotel\n    const structuredData = {\n      \"@context\": \"https://schema.org\",\n      \"@type\": \"Hotel\",\n      \"name\": \"Scarlet Hotel Tel Aviv\",\n      \"image\": scarletHotelConfig.images,\n      \"description\": scarletHotelConfig.description,\n      \"address\": {\n        \"@type\": \"PostalAddress\",\n        \"addressLocality\": \"Tel Aviv\",\n        \"addressCountry\": \"IL\"\n      },\n      \"telephone\": scarletHotelConfig.contact.phone,\n      \"email\": scarletHotelConfig.contact.email,\n      \"starRating\": {\n        \"@type\": \"Rating\",\n        \"ratingValue\": \"5\"\n      },\n      \"priceRange\": \"â‚ªâ‚ªâ‚ª\",\n      \"amenityFeature\": scarletHotelConfig.amenities.map(amenity => ({\n        \"@type\": \"LocationFeatureSpecification\",\n        \"name\": amenity\n      }))\n    }\n    \n    let scriptTag = document.querySelector('script[type=\"application/ld+json\"]')\n    if (!scriptTag) {\n      scriptTag = document.createElement('script')\n      scriptTag.setAttribute('type', 'application/ld+json')\n      document.head.appendChild(scriptTag)\n    }\n    scriptTag.textContent = JSON.stringify(structuredData)\n  }, [locale])\n\n  // Booking Engine Hook - for real API integration\n  const booking = useBookingEngine()\n\n  const [checkIn, setCheckIn] = useState(\"\")\n  const [checkOut, setCheckOut] = useState(\"\")\n  const [guests, setGuests] = useState(2)\n  const [roomImageIndexes, setRoomImageIndexes] = useState<Record<string, number>>({})\n  const [backgroundImageIndex, setBackgroundImageIndex] = useState(0)\n  const [showAiChat, setShowAiChat] = useState(false)\n  const [showApiResults, setShowApiResults] = useState(true) // Start with true to prefer API results\n  const [prebookExpiry, setPrebookExpiry] = useState<Date | null>(null)\n  const [scarletSearchResults, setScarletSearchResults] = useState<any[]>([])\n  const [hasAutoSearched, setHasAutoSearched] = useState(false)\n  \n  // ğŸ”¥ LAYER 1: Use refs to avoid closure issues\n  const searchParamsRef = useRef({ checkIn, checkOut, guests })\n  const isSearchingRef = useRef(false)\n\n  // Update ref whenever search params change\n  useEffect(() => {\n    searchParamsRef.current = { checkIn, checkOut, guests }\n    console.log('ğŸ“¦ Search params ref updated:', searchParamsRef.current)\n  }, [checkIn, checkOut, guests])\n\n  // Track page view on mount\n  useEffect(() => {\n    console.log('Scarlet Hotel Config Images:', {\n      total: scarletHotelConfig.images.length,\n      images: scarletHotelConfig.images\n    })\n    trackPageView(window.location.href, 'Scarlet Hotel Tel Aviv')\n    trackEvent({\n      event: 'page_view',\n      page_title: 'Scarlet Hotel Tel Aviv',\n      hotel_id: scarletHotelConfig.hotelId,\n      template_name: 'scarlet'\n    })\n  }, [])\n\n  // Debug: Log API results\n  useEffect(() => {\n    console.log('=== SCARLET DEBUG ===')\n    console.log('showApiResults:', showApiResults)\n    console.log('scarletSearchResults:', scarletSearchResults)\n    console.log('scarletSearchResults.length:', scarletSearchResults?.length || 0)\n    if (scarletSearchResults.length > 0) {\n      console.log('First hotel:', scarletSearchResults[0])\n      console.log('Rooms in first hotel:', scarletSearchResults[0]?.rooms?.length || 0)\n      console.log('First 3 rooms:', scarletSearchResults[0]?.rooms?.slice(0, 3))\n    }\n  }, [showApiResults, scarletSearchResults])\n\n  // Debug: Log date changes\n  useEffect(() => {\n    console.log('ğŸ“… === DATES CHANGED ===')\n    console.log('checkIn:', checkIn)\n    console.log('checkOut:', checkOut)\n    console.log('guests:', guests)\n  }, [checkIn, checkOut, guests])\n\n  // Auto-rotate background images every 5 seconds\n  useEffect(() => {\n    console.log('Setting up background image rotation for', scarletHotelConfig.images.length, 'images')\n    const interval = setInterval(() => {\n      setBackgroundImageIndex((prevIndex) => {\n        const nextIndex = (prevIndex + 1) % scarletHotelConfig.images.length\n        console.log('Background image rotating from', prevIndex, 'to', nextIndex)\n        return nextIndex\n      })\n    }, 5000)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  // Prefill dates so search can run immediately\n  useEffect(() => {\n    console.log('=== PREFILL DATES EFFECT ===')\n    console.log('checkIn:', checkIn, 'checkOut:', checkOut)\n    if (!checkIn) {\n      const tomorrow = format(addDays(new Date(), 1), \"yyyy-MM-dd\")\n      console.log('Setting checkIn to:', tomorrow)\n      setCheckIn(tomorrow)\n    }\n    if (!checkOut) {\n      // Set to 4 days from now (3 nights) to ensure minimum stay requirement\n      const dayAfter = format(addDays(new Date(), 4), \"yyyy-MM-dd\")\n      console.log('Setting checkOut to:', dayAfter)\n      setCheckOut(dayAfter)\n    }\n  }, [])\n\n  // Auto-adjust checkout date if it's before or equal to checkin date\n  useEffect(() => {\n    if (checkIn && checkOut) {\n      const checkInDate = new Date(checkIn)\n      const checkOutDate = new Date(checkOut)\n      \n      // If checkout is before or same as checkin, set it to checkin + 1 day\n      if (checkOutDate <= checkInDate) {\n        const newCheckOut = format(addDays(checkInDate, 1), \"yyyy-MM-dd\")\n        console.log('Auto-adjusting checkout from', checkOut, 'to', newCheckOut)\n        setCheckOut(newCheckOut)\n      }\n    }\n  }, [checkIn])\n\n  // Auto-run search once dates exist (so Scarlet page renders live data on load)\n  useEffect(() => {\n    console.log('Auto search effect - checkIn:', checkIn, 'checkOut:', checkOut, 'hasAutoSearched:', hasAutoSearched)\n    if (!checkIn || !checkOut || hasAutoSearched) return\n    \n    console.log('Starting auto search...')\n    setHasAutoSearched(true)\n    // handleSearch will be defined below\n  }, [checkIn, checkOut, hasAutoSearched])\n\n  // ğŸ”¥ LAYER 2: Retry logic with exponential backoff\n  const sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\n  \n  const searchWithRetry = async (searchFn: () => Promise<any>, maxRetries = 3) => {\n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\n      try {\n        console.log(`ğŸ”„ Attempt ${attempt}/${maxRetries}`)\n        const result = await searchFn()\n        console.log(`âœ… Attempt ${attempt} succeeded`)\n        return result\n      } catch (error) {\n        console.warn(`âš ï¸ Attempt ${attempt} failed:`, error)\n        \n        if (attempt === maxRetries) {\n          console.error(`âŒ All ${maxRetries} attempts failed`)\n          throw error\n        }\n        \n        // Exponential backoff: 1s, 2s, 4s\n        const waitTime = 1000 * Math.pow(2, attempt - 1)\n        console.log(`â³ Waiting ${waitTime}ms before retry...`)\n        await sleep(waitTime)\n      }\n    }\n  }\n\n  // ğŸ”¥ LAYER 3: Static Data Fallback (via backend proxy to avoid CORS)\n  const fetchStaticDataFallback = async (hotelId: string) => {\n    try {\n      console.log('ğŸ¨ Fetching static data via backend proxy for hotel:', hotelId)\n      const response = await fetch(`/api/hotels/static-data/${hotelId}`)\n      \n      if (!response.ok) {\n        throw new Error(`Static data proxy returned ${response.status}`)\n      }\n      \n      const staticData = await response.json()\n      console.log('âœ… Static data received via proxy:', staticData)\n      \n      // Create hotel object with config rooms\n      return {\n        hotelId: staticData.id,\n        hotelName: staticData.name,\n        address: staticData.address,\n        city: staticData.city,\n        stars: staticData.stars,\n        rating: staticData.rating,\n        images: scarletHotelConfig.images,\n        description: scarletHotelConfig.description,\n        rooms: scarletRoomTypes.map((room) => ({\n          roomId: `static_${room.id}`,\n          roomType: room.id,\n          roomName: room.hebrewName,\n          roomCategory: room.id,\n          description: room.description,\n          images: room.images,\n          maxOccupancy: room.maxGuests,\n          basePrice: room.basePrice,\n          totalPrice: room.basePrice,\n          currency: \"USD\",\n          boardType: \"Room Only\",\n          amenities: room.features,\n          available: false,\n          isStaticData: true,\n          unavailableMessage: \"××—×™×¨×™× ××©×•×¢×¨×™× - ×× × ×”×ª×§×©×¨×• ×œ××™×©×•×¨\"\n        }))\n      }\n    } catch (error) {\n      console.error('âŒ Static data fallback failed:', error)\n      return null\n    }\n  }\n\n  // Real API Search with all 5 layers of protection\n  const handleSearch = useCallback(async (silent?: boolean) => {\n    // Prevent concurrent searches\n    if (isSearchingRef.current) {\n      console.warn('âš ï¸ Search already in progress, skipping...')\n      return\n    }\n\n    isSearchingRef.current = true\n    \n    try {\n      // CRITICAL FIX: Use latest state values, not ref!\n      // The ref may be stale if called immediately after state update\n      const currentCheckIn = checkIn || searchParamsRef.current.checkIn\n      const currentCheckOut = checkOut || searchParamsRef.current.checkOut\n      const currentGuests = guests || searchParamsRef.current.guests\n      \n      console.log('ğŸ” === HANDLE SEARCH CALLED ===')\n      console.log('ğŸ“… State values:', { checkIn, checkOut, guests })\n      console.log('ğŸ“¦ Ref values:', searchParamsRef.current)\n      console.log('âœ… Using values:', { currentCheckIn, currentCheckOut, currentGuests })\n      console.log('ğŸ”‡ Silent mode:', silent)\n      console.log('â° Timestamp:', new Date().toISOString())\n\n      if (!currentCheckIn || !currentCheckOut) {\n        console.warn('âš ï¸ Missing dates!')\n        console.warn('âš ï¸ State:', { checkIn, checkOut })\n        console.warn('âš ï¸ Ref:', searchParamsRef.current)\n        showToast.error('×× × ×‘×—×¨×• ×ª××¨×™×›×™×')\n        return\n      }\n\n      // Check number of nights\n      const checkInDate = new Date(currentCheckIn)\n      const checkOutDate = new Date(currentCheckOut)\n      const nights = Math.ceil((checkOutDate.getTime() - checkInDate.getTime()) / (1000 * 60 * 60 * 24))\n      console.log(`ğŸ“… Nights: ${nights}`)\n\n      setShowApiResults(false)\n      setScarletSearchResults([])\n\n      trackSearch(`${currentCheckIn} to ${currentCheckOut}, ${currentGuests} guests`, {\n        check_in: currentCheckIn,\n        check_out: currentCheckOut,\n        guests: currentGuests,\n        hotel_id: scarletHotelConfig.hotelId\n      })\n\n      try {\n        let searchResult = null\n        let searchError = null\n        let scarletHotels: any[] = []\n        \n        // ğŸ”¥ STRATEGY 0: DIRECT HOTEL ID SEARCH (MOST RELIABLE)\n        // This should ALWAYS return Scarlet if it's available\n        // Note: Medici API requires city AND limit - hotelId alone returns error\n        // Scarlet is typically at position 30-34 in results, so limit must be > 34\n        try {\n          console.log('ğŸ¯ Strategy 0: DIRECT search by hotelId 863233 + city Tel Aviv + limit 100...')\n          const directResult = await searchWithRetry(async () => {\n            return await booking.searchHotels({\n              checkIn: new Date(currentCheckIn),\n              checkOut: new Date(currentCheckOut),\n              adults: currentGuests,\n              children: [],\n              hotelId: \"863233\",  // Direct Scarlet Hotel ID\n              city: \"Tel Aviv\",  // Required by Medici API\n              limit: 100         // CRITICAL: Scarlet is at position ~30-34, need limit > 34\n            })\n          })\n          \n          console.log(`ğŸ“Š Strategy 0 returned ${directResult?.length || 0} results`)\n          \n          if (directResult && directResult.length > 0) {\n            console.log('âœ… Strategy 0 SUCCESS! Found Scarlet directly by ID')\n            scarletHotels = directResult.filter(isScarletHotel)\n            if (scarletHotels.length > 0) {\n              console.log('ğŸ‰ Scarlet Hotel found via direct ID search!')\n            }\n          }\n        } catch (error) {\n          console.warn('âš ï¸ Strategy 0 (direct ID) failed:', error)\n        }\n        \n        // Only try other strategies if Strategy 0 didn't find Scarlet\n        if (scarletHotels.length === 0) {\n          // ğŸ”¥ STRATEGY 1: City search (backup)\n          try {\n            console.log('ğŸ” Strategy 1: Searching Tel Aviv with limit 100 (with retry)...')\n            const searchParams = {\n              checkIn: new Date(currentCheckIn),\n              checkOut: new Date(currentCheckOut),\n              adults: currentGuests,\n              children: [],\n              city: \"Tel Aviv\",\n              limit: 100\n            }\n            console.log('ğŸ“¤ API Request Params:', {\n              checkIn: searchParams.checkIn.toISOString(),\n              checkOut: searchParams.checkOut.toISOString(),\n              adults: searchParams.adults,\n              city: searchParams.city,\n              limit: searchParams.limit\n            })\n            searchResult = await searchWithRetry(async () => {\n              return await booking.searchHotels(searchParams)\n            })\n            \n            // Filter for Scarlet\n            if (searchResult && searchResult.length > 0) {\n              const filtered = searchResult.filter(isScarletHotel)\n              if (filtered.length > 0) {\n                console.log('âœ… Strategy 1: Found Scarlet in city results')\n                scarletHotels = filtered\n              }\n            }\n          } catch (error) {\n            console.warn('âŒ Strategy 1 (city) failed after retries:', error)\n            searchError = error\n          }\n        }\n\n        // Strategy 2: Fallback to hotelName search if nothing found yet\n        if (scarletHotels.length === 0) {\n          try {\n            console.log('ğŸ” Strategy 2: Searching by hotelName \"Scarlet\" (with retry)...')\n            const nameResult = await searchWithRetry(async () => {\n              return await booking.searchHotels({\n                checkIn: new Date(currentCheckIn),\n                checkOut: new Date(currentCheckOut),\n                adults: currentGuests,\n                children: [],\n                hotelName: \"Scarlet\"\n              })\n            })\n            if (nameResult && nameResult.length > 0) {\n              const filtered = nameResult.filter(isScarletHotel)\n              if (filtered.length > 0) {\n                console.log('âœ… Strategy 2: Found Scarlet by name search')\n                scarletHotels = filtered\n              }\n            }\n          } catch (fallbackError) {\n            console.warn('âŒ Strategy 2 (name) failed after retries:', fallbackError)\n          }\n        }\n\n        console.log(`ğŸ¯ Found ${scarletHotels.length} Scarlet Hotel (ID: 863233) results after all strategies`)\n        \n        // Strategy 3: If still nothing, try city + hotelName combination\n        if (scarletHotels.length === 0) {\n          console.log('ğŸ” Strategy 3: Trying search with full hotel name \"Scarlet Hotel\" (with retry)...')\n          try {\n            const directSearch = await searchWithRetry(async () => {\n              return await booking.searchHotels({\n                checkIn: new Date(currentCheckIn),\n                checkOut: new Date(currentCheckOut),\n                adults: currentGuests,\n                children: [],\n                city: \"Tel Aviv\",\n                hotelName: \"Scarlet Hotel\"\n              })\n            })\n            \n            console.log(`ğŸ“Š Strategy 3 returned ${directSearch?.length || 0} results`)\n            if (directSearch && directSearch.length > 0) {\n              console.log('ğŸ” Hotels from Strategy 3:', directSearch.map((h: any) => `${h.hotelId} - ${h.hotelName}`))\n              const filteredDirect = directSearch.filter(isScarletHotel)\n              if (filteredDirect.length > 0) {\n                console.log('âœ… Found Scarlet via full hotel name search!')\n                scarletHotels = filteredDirect\n              } else {\n                console.warn('âš ï¸ Strategy 3 returned results but none matched Scarlet (863233)')\n              }\n            } else {\n              console.warn('âš ï¸ Strategy 3 returned no results')\n            }\n          } catch (directError) {\n            console.warn('âŒ Strategy 3 (full hotel name) failed after retries:', directError)\n          }\n        }\n        \n        // ğŸ”¥ LAYER 3: Static Data Fallback if all strategies failed\n        if (scarletHotels.length === 0) {\n          console.log('ğŸ¨ All API strategies failed - trying static data fallback...')\n          const staticData = await fetchStaticDataFallback(\"863233\")\n          \n          if (staticData) {\n            console.log('âœ… Static data fallback successful!')\n            scarletHotels = [staticData]\n          }\n        }\n        \n        if (scarletHotels.length > 0) {\n          console.log('Scarlet hotels:', scarletHotels.map((h: any) => ({ \n            id: h.hotelId, \n            name: h.hotelName, \n            rooms: h.rooms?.length || 0 \n          })))\n        } else {\n          console.warn('âš ï¸ No Scarlet results found from any strategy!')\n        }\n\n        // ğŸ”¥ LAYER 4 & 5: Config Fallback - If no API results, create fallback display from config\n        if (scarletHotels.length === 0 || (scarletHotels[0] && scarletHotels[0].rooms?.length === 0)) {\n          console.log('ğŸ”„ LAYER 5: Activating config fallback - displaying all rooms from config as unavailable')\n          \n          // Create fallback hotel object with all rooms from config marked as unavailable\n          const fallbackHotel = {\n          hotelId: scarletHotelConfig.hotelId,\n          hotelName: scarletHotelConfig.hebrewName,\n          hotelNameEn: scarletHotelConfig.name,\n          address: scarletHotelConfig.location.address,\n          city: \"Tel Aviv\",\n          stars: 4,\n          rating: 4.5,\n          images: [scarletHotelConfig.images[0]],\n          description: scarletHotelConfig.description,\n          rooms: scarletRoomTypes.map((room) => ({\n            roomId: `fallback_${room.id}`,\n            roomType: room.id,\n            roomName: room.hebrewName,\n            roomNameEn: room.name,\n            roomCategory: room.id,\n            description: room.description,\n            images: room.images,\n            maxOccupancy: room.maxGuests,\n            basePrice: room.basePrice,\n            totalPrice: room.basePrice,\n            currency: \"USD\",\n            boardType: \"Room Only\",\n            amenities: room.features,\n            \n            // Mark as unavailable for these dates\n            available: false,\n            unavailableMessage: \"××™×Ÿ ×–××™× ×•×ª ×œ×ª××¨×™×›×™× ××œ×• - × ×¡×• ×ª××¨×™×›×™× ××—×¨×™×\",\n            isFallback: true,\n            \n            // Add suggested alternative dates\n            suggestAlternativeDates: true\n          }))\n        }\n        \n        setScarletSearchResults([fallbackHotel])\n        setShowApiResults(true)\n        \n        console.log(`ğŸ’¡ Fallback: Showing ${fallbackHotel.rooms.length} rooms from config as unavailable`)\n        \n        // Show message for fallback data\n        if (!silent) {\n          showToast.info('××—×™×¨×™× ×‘×–××Ÿ ×××ª ×œ× ×–××™× ×™× ×œ×ª××¨×™×›×™× ××œ×•. ××¦×™×’ ××—×™×¨×™ ×‘×¡×™×¡.')\n        }\n      } else {\n        // API results exist - use them\n        setScarletSearchResults(scarletHotels)\n        setShowApiResults(true)\n      }\n\n      // ===== LOG SEARCH TO ADMIN =====\n      const roomCount = scarletHotels[0]?.rooms?.length || 0\n      const isFallback = scarletHotels.length === 0\n      \n      logToAdmin({\n        stage: 'search',\n        sessionId: getSessionId(),\n        dateFrom: checkIn,\n        dateTo: checkOut,\n        guests,\n        completed: false,\n      })\n\n      if (!silent) {\n        if (scarletHotels.length > 0 && scarletHotels[0]?.rooms?.length > 0) {\n          showToast.success(`× ××¦××• ${scarletHotels[0].rooms.length} ×—×“×¨×™× ×–××™× ×™× ×‘××œ×•×Ÿ ×¡×§×¨×œ×˜ ×ª×œ ××‘×™×‘`)\n        } else if (scarletHotels.length === 0 || scarletHotels[0]?.rooms?.length === 0) {\n          // No API results - fallback activated\n          console.warn('âš ï¸ No availability from API - showing fallback rooms')\n          console.log('Total API results:', searchResult?.length || 0)\n          showToast.warning('××™×Ÿ ×–××™× ×•×ª ×œ×ª××¨×™×›×™× ××œ×•. ××¦×™×’ ××ª ×›×œ ×¡×•×’×™ ×”×—×“×¨×™× - × ×¡×• ×ª××¨×™×›×™× ××—×¨×™×.')\n        }\n      }\n      } catch (err: any) {\n        console.error('âŒ Scarlet Hotel search failed:', err)\n        \n        // Clear results on error\n        setScarletSearchResults([])\n        setShowApiResults(false)\n        \n        // Determine error type and show appropriate message\n        let errorMessage = '×©×’×™××” ×‘×—×™×¤×•×© ×”××œ×•×Ÿ. ×× × × ×¡×• ×©×•×‘.'\n        \n        if (err.message?.includes('401') || err.message?.includes('token')) {\n          errorMessage = '×©×’×™××ª ×”×¨×©××”. ×× × ×¨×¢× ×Ÿ ××ª ×”×“×£ ×•× ×¡×” ×©×•×‘.'\n          console.error('ğŸ” Token authentication failed - token may be expired')\n        } else if (err.message?.includes('404') || err.message?.includes('not found')) {\n          errorMessage = '××œ×•×Ÿ ×¡×§×¨×œ×˜ ×ª×œ ××‘×™×‘ ×œ× × ××¦× ×‘××¢×¨×›×ª.'\n          console.error('ğŸ¨ Scarlet Hotel not found in system')  \n        } else if (err.message?.includes('network') || err.message?.includes('fetch')) {\n          errorMessage = '×‘×¢×™×™×ª ×ª×§×©×•×¨×ª. ×× × ×‘×“×§×• ××ª ×”×—×™×‘×•×¨ ×œ××™× ×˜×¨× ×˜.'\n          console.error('ğŸŒ Network error during search')\n        } else if (err.message?.includes('timeout')) {\n          errorMessage = '×”×—×™×¤×•×© ××¨×š ×–××Ÿ ×¨×‘ ××™×“×™. ×× × × ×¡×• ×©×•×‘.'\n          console.error('â° Search timeout')\n        }\n        \n        if (!silent) {\n          showToast.error(errorMessage)\n        }\n      }\n    } catch (err: any) {\n      console.error('âŒ Unexpected error in handleSearch:', err)\n      if (!silent) {\n        showToast.error('×©×’×™××” ×œ× ×¦×¤×•×™×” ×‘×—×™×¤×•×©')\n      }\n    } finally {\n      isSearchingRef.current = false\n      console.log('ğŸ Search completed')\n    }\n  }, [checkIn, checkOut, guests, booking, showToast]) // CRITICAL: Include state values in dependencies!\n\n  // Trigger auto-search once handleSearch is defined\n  useEffect(() => {\n    if (!checkIn || !checkOut || hasAutoSearched) return\n    \n    console.log('Triggering auto search with handleSearch defined')\n    handleSearch(true).catch((err) => console.error('Auto search failed', err))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [checkIn, checkOut, hasAutoSearched]) // handleSearch intentionally excluded to avoid circular dependency\n\n  // Handle room selection with PreBook\n  const handleSelectRoom = async (room: any) => {\n    console.log('=== ROOM SELECTION STARTED ===')\n    console.log('Room clicked:', room)\n    console.log('checkIn:', checkIn, 'checkOut:', checkOut)\n    console.log('scarletSearchResults:', scarletSearchResults)\n\n    if (!checkIn || !checkOut) {\n      // Use static room data if no dates selected\n      window.location.href = `/templates/scarlet/booking?room=${room.id}&checkIn=${addDays(new Date(), 1).toISOString()}&checkOut=${addDays(new Date(), 3).toISOString()}&guests=${guests}`\n      return\n    }\n\n    // If we have API results, do a real prebook\n    if (scarletSearchResults.length > 0) {\n      const hotel = scarletSearchResults[0]\n      console.log('Hotel from API:', hotel)\n      console.log('Hotel rooms:', hotel.rooms)\n      \n      // Get the API room - if room has apiRoom property, use it, otherwise find it or use first room\n      const apiRoom = room.apiRoom || hotel.rooms.find((r: any) => \n        r.roomId === room.id || \n        r.roomName === room.name ||\n        r.roomName.includes(room.name)\n      ) || hotel.rooms[0]\n      \n      console.log('Selected room:', room)\n      console.log('Found API room:', apiRoom)\n      console.log('API room has code?', !!apiRoom?.code)\n      console.log('API room has roomId?', !!apiRoom?.roomId)\n      \n      if (apiRoom) {\n        const hotelResult = {\n          hotelId: hotel.hotelId,\n          hotelName: hotel.hotelName,\n          city: hotel.city || \"Tel Aviv\",\n          stars: hotel.stars || 4,\n          address: hotel.address || \"\",\n          imageUrl: hotel.hotelImage || room.images[0],\n          images: hotel.images || room.images,\n          description: hotel.description || room.description,\n          facilities: hotel.facilities || [],\n          rooms: [],\n        }\n\n        const roomResult = {\n          code: apiRoom.code,\n          roomId: apiRoom.roomId,\n          roomName: apiRoom.roomName,\n          roomCategory: apiRoom.roomCategory || room.id,\n          categoryId: apiRoom.categoryId || 1,\n          boardId: apiRoom.boardId || 2,\n          boardType: apiRoom.boardType || \"BB\",\n          buyPrice: apiRoom.buyPrice || room.basePrice,\n          originalPrice: apiRoom.originalPrice || room.basePrice * 1.2,\n          currency: apiRoom.currency || \"ILS\",\n          maxOccupancy: room.maxGuests,\n          size: room.size,\n          view: \"\",\n          bedding: \"\",\n          amenities: room.features || [],\n          images: room.images,\n          cancellationPolicy: apiRoom.cancellationPolicy || \"free\",\n          available: 5,\n        }\n\n        console.log('=== CALLING PREBOOK ===')\n        console.log('hotelResult:', hotelResult)\n        console.log('roomResult:', roomResult)\n\n        const success = await booking.selectRoom(hotelResult, roomResult)\n        \n        console.log('=== PREBOOK RESULT ===')\n        console.log('success:', success)\n        console.log('booking.prebookData:', booking.prebookData)\n        console.log('booking.step after selectRoom:', booking.step)\n        \n        if (success) {\n          // Set prebook expiry (30 minutes)\n          setPrebookExpiry(new Date(Date.now() + 30 * 60 * 1000))\n          trackEvent({\n            event: 'room_selected',\n            room_name: room.hebrewName,\n            price: roomResult.buyPrice,\n            hotel_id: scarletHotelConfig.hotelId\n          })\n\n          // ===== LOG ROOM SELECTION TO ADMIN =====\n          logToAdmin({\n            stage: 'room_selected',\n            sessionId: getSessionId(),\n            dateFrom: checkIn,\n            dateTo: checkOut,\n            guests,\n            selectedRoom: room.hebrewName || room.name,\n            selectedRoomCode: roomResult.code,\n            priceShown: roomResult.buyPrice,\n            completed: false,\n          })\n          \n          // Scroll to details section\n          window.scrollTo({ top: 0, behavior: 'smooth' })\n          \n          console.log('âœ… PreBook successful - should show details form now')\n        } else {\n          console.error('âŒ PreBook failed')\n          showToast.error('×©×’×™××” ×‘×”×›× ×ª ×”×”×–×× ×”. ×× × × ×¡×• ×©×•×‘.')\n        }\n        return\n      }\n    }\n\n    // Fallback to static booking page\n    window.location.href = `/templates/scarlet/booking?room=${room.id}&checkIn=${checkIn || addDays(new Date(), 1).toISOString()}&checkOut=${checkOut || addDays(new Date(), 3).toISOString()}&guests=${guests}`\n  }\n\n  // Handle prebook expiry\n  const handlePrebookExpired = () => {\n    setPrebookExpiry(null)\n    booking.reset()\n    showToast.error(\"×–××Ÿ ×”×”×–×× ×” ×¤×’. ×× × ×—×¤×© ×©×•×‘.\")\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white\" dir={dir}>\n      {/* Header */}\n      <header className=\"absolute top-0 left-0 right-0 z-20 bg-black/30 backdrop-blur-sm border-b border-white/10\">\n        <div className=\"container mx-auto px-6 py-4 flex items-center justify-between\">\n          <Link href=\"/templates\" className=\"text-gray-300 hover:text-white flex items-center gap-2 transition-colors\">\n            <span className=\"text-sm\">{t('backToTemplates')}</span>\n          </Link>\n          <div className=\"flex items-center gap-4\">\n            <LanguageSwitcher />\n            <SocialShare \n              variant=\"icon\" \n              title={locale === 'he' ? `${scarletHotelConfig.hebrewName} - ${scarletHotelConfig.hebrewTagline}` : t('scarletHotelName')}\n              description={scarletHotelConfig.description}\n              hashtags={['ScarletHotel', 'TelAviv', 'BoutiqueHotel']}\n              className=\"text-gray-300 hover:text-white\"\n            />\n            <Link href=\"/my-account\" className=\"flex items-center gap-2 text-gray-300 hover:text-red-400 transition-colors\">\n              <User className=\"w-4 h-4\" />\n              <span className=\"text-sm font-medium\">{t('myAccount')}</span>\n            </Link>\n            <LoginButton />\n          </div>\n        </div>\n      </header>\n\n      {/* Hero Section */}\n      <section className=\"relative h-screen flex items-center justify-center overflow-hidden\">\n        {/* Background Image Gallery with Auto-Rotation */}\n        <div className=\"absolute inset-0\">\n          {scarletHotelConfig.images && scarletHotelConfig.images.length > 0 ? (\n            scarletHotelConfig.images.map((image, index) => (\n              <div\n                key={`bg-${index}`}\n                className=\"absolute inset-0 bg-cover bg-center transition-opacity duration-1000\"\n                style={{\n                  backgroundImage: `url('${image}')`,\n                  opacity: backgroundImageIndex === index ? 1 : 0,\n                  zIndex: backgroundImageIndex === index ? 2 : 1,\n                }}\n                role=\"img\"\n                aria-label={`${scarletHotelConfig.hebrewName} hotel image ${index + 1}`}\n              />\n            ))\n          ) : (\n            <div className=\"absolute inset-0 bg-gray-900\">\n              <div className=\"absolute inset-0 flex items-center justify-center text-white\">\n                Loading images...\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Hero Content */}\n        <div className=\"relative z-10 text-center px-4 max-w-4xl\">\n          <div className=\"mb-6 inline-block\">\n            <Heart className=\"h-16 w-16 text-red-500 animate-pulse\" />\n          </div>\n          \n          <h1 className=\"text-6xl md:text-8xl font-bold mb-4 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 bg-clip-text text-transparent\">\n            Scarlet\n          </h1>\n          \n          <p className=\"text-3xl md:text-4xl font-light mb-2 text-white\" style={{ textShadow: '0 2px 8px rgba(0,0,0,0.8), 0 4px 16px rgba(0,0,0,0.6)' }}>\n            {locale === 'he' ? scarletHotelConfig.hebrewName : t('scarletHotelName')}\n          </p>\n          \n          <p className=\"text-xl md:text-2xl text-white mb-12\" style={{ textShadow: '0 2px 8px rgba(0,0,0,0.8), 0 4px 16px rgba(0,0,0,0.6)' }}>\n            {locale === 'he' ? scarletHotelConfig.hebrewTagline : t('scarletTagline')}\n          </p>\n\n          {/* Search Box */}\n          <Card className=\"bg-white/10 backdrop-blur-lg border-white/20 p-6 rounded-2xl max-w-4xl mx-auto\">\n            <form onSubmit={(e) => {\n              e.preventDefault()\n              e.stopPropagation()\n              \n              console.log('ğŸ“ === FORM SUBMITTED ===')\n              console.log('ğŸ“… Form values - checkIn:', checkIn, 'checkOut:', checkOut, 'guests:', guests)\n              \n              if (!checkIn || !checkOut) {\n                console.warn('âš ï¸ Missing dates on submit!')\n                showToast.error('×× × ×‘×—×¨×• ×ª××¨×™×›×™ ×›× ×™×¡×” ×•×™×¦×™××”')\n                return\n              }\n              \n              if (new Date(checkOut) <= new Date(checkIn)) {\n                console.warn('âš ï¸ Invalid date range on submit!')\n                showToast.error('×ª××¨×™×š ×”×™×¦×™××” ×—×™×™×‘ ×œ×”×™×•×ª ××—×¨×™ ×ª××¨×™×š ×”×›× ×™×¡×”')\n                return\n              }\n              \n              console.log('âœ… Form validation passed - calling handleSearch')\n              \n              // Clear previous results\n              setShowApiResults(false)\n              setScarletSearchResults([])\n              \n              // Call search\n              handleSearch().catch(err => {\n                console.error('âŒ Form handleSearch failed:', err)\n              })\n            }}>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <div className=\"space-y-2\">\n                <label htmlFor=\"checkIn\" className=\"text-sm font-medium flex items-center gap-2\">\n                  <Calendar className=\"h-4 w-4 text-red-400\" />\n                  {t('checkIn')}\n                </label>\n                <input\n                  type=\"date\"\n                  id=\"checkIn\"\n                  name=\"checkIn\"\n                  value={checkIn}\n                  onChange={(e) => setCheckIn(e.target.value)}\n                  className=\"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <label htmlFor=\"checkOut\" className=\"text-sm font-medium flex items-center gap-2\">\n                  <Calendar className=\"h-4 w-4 text-red-400\" />\n                  {t('checkOut')}\n                </label>\n                <input\n                  type=\"date\"\n                  id=\"checkOut\"\n                  name=\"checkOut\"\n                  value={checkOut}\n                  min={checkIn ? format(addDays(new Date(checkIn), 1), \"yyyy-MM-dd\") : \"\"}\n                  onChange={(e) => setCheckOut(e.target.value)}\n                  className=\"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <label htmlFor=\"guests\" className=\"text-sm font-medium flex items-center gap-2\">\n                  <Users className=\"h-4 w-4 text-red-400\" />\n                  {t('guests')}\n                </label>\n                <select\n                  id=\"guests\"\n                  name=\"guests\"\n                  value={guests}\n                  onChange={(e) => setGuests(Number(e.target.value))}\n                  className=\"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white focus:outline-none focus:ring-2 focus:ring-red-500\"\n                >\n                  {[1, 2, 3, 4, 5].map((num) => (\n                    <option key={num} value={num} className=\"bg-gray-800\">\n                      {num} {t('guests')}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"flex items-end\">\n                <Button\n                  type=\"submit\"\n                  disabled={booking.isLoading || !checkIn || !checkOut}\n                  className=\"w-full h-[52px] bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white font-semibold rounded-lg shadow-lg shadow-red-500/50 disabled:opacity-50 cursor-pointer\"\n                >\n                  {booking.isLoading ? (\n                    <>\n                      <Loader2 className=\"h-4 w-4 animate-spin ml-2\" />\n                      {'××—×¤×©...'}\n                    </>\n                  ) : (\n                    <>\n                      <Sparkles className=\"h-4 w-4 ml-2\" />\n                      {t('searchRooms')}\n                    </>\n                  )}\n                </Button>\n              </div>\n            </div>\n            </form>\n\n            {/* Note: No minimum nights restriction - removed false warning */}\n\n            {/* Error Message */}\n            {booking.error && (\n              <Alert variant=\"destructive\" className=\"mt-4 bg-red-900/50 border-red-500/50\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{booking.error}</AlertDescription>\n              </Alert>\n            )}\n\n            {/* API Search Results Summary */}\n            {showApiResults && booking.searchResults.length > 0 && (\n              <div className=\"mt-4 p-4 bg-green-900/30 border border-green-500/30 rounded-lg\">\n                <p className=\"text-green-400 text-center\">\n                  âœ… × ××¦××• {booking.searchResults[0]?.rooms?.length || 0} ×—×“×¨×™× ×–××™× ×™× ×‘×ª××¨×™×›×™× ×©×‘×—×¨×ª!\n                </p>\n              </div>\n            )}\n          </Card>\n        </div>\n\n        {/* Scroll Indicator */}\n        <div className=\"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce\">\n          <div className=\"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center pt-2\">\n            <div className=\"w-1 h-3 bg-white/50 rounded-full\"></div>\n          </div>\n        </div>\n      </section>\n\n      {/* PreBook Timer - shows when room is selected */}\n      {booking.step === 'details' && prebookExpiry && (\n        <div className=\"fixed top-20 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50\">\n          <Card className=\"bg-gray-900/95 border-red-500/50 p-4\">\n            <PreBookTimer \n              expiresAt={prebookExpiry}\n              onExpired={handlePrebookExpired}\n              warningMinutes={5}\n            />\n          </Card>\n        </div>\n      )}\n\n      {/* Guest Details Step */}\n      {booking.step === 'details' && (\n        <section className=\"py-12 px-4 max-w-6xl mx-auto\">\n          <div className=\"grid md:grid-cols-3 gap-8\">\n            {/* Guest Form - 2 columns */}\n            <div className=\"md:col-span-2\">\n              <Card className=\"bg-white border-gray-200 p-8 shadow-lg\">\n                <h2 className=\"text-3xl font-bold mb-6 text-center bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent\">\n                  {locale === 'he' ? '×¤×¨×˜×™ ×”××•×¨×—' : 'Guest Details'}\n                </h2>\n                <ScarletGuestForm \n                  onSubmit={(details) => {\n                    booking.setGuestInfo(details)\n                    \n                    // ===== LOG GUEST DETAILS TO ADMIN =====\n                    logToAdmin({\n                      stage: 'guest_details',\n                      sessionId: getSessionId(),\n                      dateFrom: checkIn,\n                      dateTo: checkOut,\n                      guests,\n                      selectedRoom: booking.selectedRoom?.roomName || booking.selectedRoom?.roomCategory,\n                      selectedRoomCode: booking.selectedRoom?.code,\n                      priceShown: booking.selectedRoom?.buyPrice,\n                      customerEmail: details.email,\n                      customerName: `${details.firstName} ${details.lastName}`,\n                      customerPhone: details.phone,\n                      completed: false,\n                    })\n                    \n                    // Track potential abandoned booking\n                    if (booking.selectedRoom) {\n                      trackAbandoned({\n                        sessionId: getSessionId(),\n                        customerEmail: details.email,\n                        customerName: `${details.firstName} ${details.lastName}`,\n                        customerPhone: details.phone,\n                        roomType: booking.selectedRoom?.roomName || booking.selectedRoom?.roomCategory || 'Unknown',\n                        roomCode: booking.selectedRoom?.code,\n                        checkIn,\n                        checkOut,\n                        guests,\n                        totalPrice: booking.selectedRoom?.buyPrice || 0,\n                        stage: 'guest_details',\n                      })\n                    }\n                  }}\n                  isLoading={booking.isLoading}\n                />\n              </Card>\n            </div>\n            \n            {/* Booking Summary Sidebar */}\n            <div className=\"md:col-span-1\">\n              <Card className=\"bg-gray-900 border-pink-500/30 p-6 sticky top-24\">\n                <h3 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\n                  ğŸ“‹ {locale === 'he' ? '×¡×™×›×•× ×”×–×× ×”' : 'Booking Summary'}\n                </h3>\n                \n                {/* Hotel Info */}\n                <div className=\"space-y-3 mb-4 pb-4 border-b border-gray-700\">\n                  <div className=\"flex items-center gap-3\">\n                    <span className=\"text-2xl\">ğŸ¨</span>\n                    <div>\n                      <p className=\"text-white font-semibold\">{locale === 'he' ? '××œ×•×Ÿ ×¡×§×¨×œ×˜' : 'Scarlet Hotel'}</p>\n                      <p className=\"text-gray-400 text-sm\">{locale === 'he' ? '×ª×œ ××‘×™×‘' : 'Tel Aviv'}</p>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Room Info */}\n                <div className=\"space-y-2 mb-4 pb-4 border-b border-gray-700\">\n                  <div className=\"flex justify-between text-gray-300\">\n                    <span>ğŸ›ï¸ ×—×“×¨:</span>\n                    <span className=\"text-white\">{booking.selectedRoom?.roomName || booking.selectedRoom?.roomCategory || '×—×“×¨ × ×‘×—×¨'}</span>\n                  </div>\n                </div>\n                \n                {/* Dates */}\n                <div className=\"space-y-2 mb-4 pb-4 border-b border-gray-700\">\n                  <div className=\"flex justify-between text-gray-300\">\n                    <span>ğŸ“… ×›× ×™×¡×”:</span>\n                    <span className=\"text-white\">{booking.searchParams?.checkIn ? format(booking.searchParams.checkIn, 'dd/MM/yyyy') : '-'}</span>\n                  </div>\n                  <div className=\"flex justify-between text-gray-300\">\n                    <span>ğŸ“… ×™×¦×™××”:</span>\n                    <span className=\"text-white\">{booking.searchParams?.checkOut ? format(booking.searchParams.checkOut, 'dd/MM/yyyy') : '-'}</span>\n                  </div>\n                  <div className=\"flex justify-between text-gray-300\">\n                    <span>ğŸŒ™ ×œ×™×œ×•×ª:</span>\n                    <span className=\"text-white\">{booking.nights || 1}</span>\n                  </div>\n                </div>\n                \n                {/* Guests */}\n                <div className=\"space-y-2 mb-4 pb-4 border-b border-gray-700\">\n                  <div className=\"flex justify-between text-gray-300\">\n                    <span>ğŸ‘¥ ××•×¨×—×™×:</span>\n                    <span className=\"text-white\">{booking.searchParams?.adults || 2} ××‘×•×’×¨×™×</span>\n                  </div>\n                </div>\n                \n                {/* Price */}\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-gray-300\">\n                    <span>××—×™×¨ ×œ×œ×™×œ×”:</span>\n                    <span className=\"text-white\">${Math.round((booking.totalPrice || 0) / (booking.nights || 1))}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center pt-3 border-t border-gray-700\">\n                    <span className=\"text-lg font-semibold text-white\">×¡×”×´×› ×œ×ª×©×œ×•×:</span>\n                    <span className=\"text-2xl font-bold text-green-400\">${booking.totalPrice?.toFixed(2) || '0.00'}</span>\n                  </div>\n                </div>\n                \n                {/* Security Badge */}\n                <div className=\"mt-4 pt-4 border-t border-gray-700 flex items-center gap-2 text-gray-400 text-sm\">\n                  <span>ğŸ”’</span>\n                  <span>×ª×©×œ×•× ×××•×‘×˜×— SSL</span>\n                </div>\n              </Card>\n            </div>\n          </div>\n        </section>\n      )}\n\n      {/* Payment Step */}\n      {booking.step === 'payment' && (\n        <section className=\"py-12 px-4 max-w-4xl mx-auto\">\n          <Card className=\"bg-gray-900/80 border-red-500/30 p-8\">\n            <h2 className=\"text-3xl font-bold mb-6 text-center bg-gradient-to-r from-red-400 to-pink-400 bg-clip-text text-transparent\">\n              ×ª×©×œ×•×\n            </h2>\n            \n            {/* Error Display */}\n            {booking.error && (\n              <Alert className=\"mb-6 border-red-500 bg-red-900/30\">\n                <AlertCircle className=\"h-4 w-4 text-red-400\" />\n                <AlertDescription className=\"text-red-300\">\n                  {booking.error}\n                </AlertDescription>\n              </Alert>\n            )}\n            \n            <ScarletPaymentForm\n              totalPrice={booking.totalPrice}\n              currency={booking.selectedRoom?.currency || \"USD\"}\n              onSubmit={async () => {\n                console.log('ğŸ”„ Starting booking completion...')\n                \n                // ===== LOG PAYMENT STAGE TO ADMIN =====\n                logToAdmin({\n                  stage: 'payment',\n                  sessionId: getSessionId(),\n                  dateFrom: checkIn,\n                  dateTo: checkOut,\n                  guests,\n                  selectedRoom: booking.selectedRoom?.roomName || booking.selectedRoom?.roomCategory,\n                  selectedRoomCode: booking.selectedRoom?.code,\n                  priceShown: booking.totalPrice,\n                  customerEmail: booking.guestInfo?.email,\n                  customerName: booking.guestInfo ? `${booking.guestInfo.firstName} ${booking.guestInfo.lastName}` : undefined,\n                  customerPhone: booking.guestInfo?.phone,\n                  completed: false,\n                })\n                \n                try {\n                  const success = await booking.completeBooking()\n                  if (success) {\n                    console.log('âœ… Booking completed successfully!')\n                    showToast.success('×”×”×–×× ×” ××•×©×¨×” ×‘×”×¦×œ×—×”! ğŸ‰')\n                    \n                    // ===== LOG COMPLETED BOOKING TO ADMIN =====\n                    logToAdmin({\n                      stage: 'confirmed',\n                      sessionId: getSessionId(),\n                      dateFrom: checkIn,\n                      dateTo: checkOut,\n                      guests,\n                      selectedRoom: booking.selectedRoom?.roomName || booking.selectedRoom?.roomCategory,\n                      selectedRoomCode: booking.selectedRoom?.code,\n                      priceShown: booking.totalPrice,\n                      customerEmail: booking.guestInfo?.email,\n                      customerName: booking.guestInfo ? `${booking.guestInfo.firstName} ${booking.guestInfo.lastName}` : undefined,\n                      customerPhone: booking.guestInfo?.phone,\n                      completed: true,\n                    })\n                  } else {\n                    console.error('âŒ Booking failed')\n                    showToast.error('×”×”×–×× ×” × ×›×©×œ×”. ×× × × ×¡×” ×©×•×‘.')\n                    \n                    // Track abandoned at payment stage\n                    if (booking.selectedRoom && booking.guestInfo) {\n                      trackAbandoned({\n                        sessionId: getSessionId(),\n                        customerEmail: booking.guestInfo.email,\n                        customerName: `${booking.guestInfo.firstName} ${booking.guestInfo.lastName}`,\n                        customerPhone: booking.guestInfo.phone,\n                        roomType: booking.selectedRoom?.roomName || booking.selectedRoom?.roomCategory || 'Unknown',\n                        roomCode: booking.selectedRoom?.code,\n                        checkIn,\n                        checkOut,\n                        guests,\n                        totalPrice: booking.totalPrice || 0,\n                        stage: 'payment',\n                      })\n                    }\n                  }\n                } catch (error: any) {\n                  console.error('âŒ Booking error:', error)\n                  showToast.error(error.message || '×©×’×™××” ×‘×”×–×× ×”')\n                }\n              }}\n              isProcessing={booking.isLoading}\n            />\n          </Card>\n        </section>\n      )}\n\n      {/* Confirmation Step */}\n      {booking.step === 'confirmation' && booking.bookingConfirmation && booking.selectedHotel && booking.selectedRoom && booking.searchParams && booking.guestInfo && (\n        <section className=\"py-12 px-4 max-w-4xl mx-auto\">\n          <BookingConfirmation\n            bookingId={booking.bookingConfirmation.bookingId}\n            supplierReference={booking.bookingConfirmation.supplierReference}\n            hotel={booking.selectedHotel}\n            room={booking.selectedRoom}\n            searchParams={booking.searchParams}\n            totalPrice={booking.totalPrice}\n            currency={booking.selectedRoom.currency}\n            guestName={`${booking.guestInfo.firstName} ${booking.guestInfo.lastName}`}\n            guestEmail={booking.guestInfo.email}\n            onNewBooking={() => {\n              booking.reset()\n              setPrebookExpiry(null)\n              setShowApiResults(false)\n            }}\n          />\n        </section>\n      )}\n\n      {/* Active Promotions Banner */}\n      {scarletHotelConfig.activePromotions && scarletHotelConfig.activePromotions.length > 0 && (\n        <section className=\"py-8 bg-gradient-to-r from-red-600 via-pink-600 to-purple-600\">\n          <div className=\"container mx-auto px-4\">\n            <div className=\"flex items-center justify-center gap-8 overflow-x-auto\">\n              <Sparkles className=\"h-8 w-8 text-white animate-spin-slow flex-shrink-0\" />\n              {scarletHotelConfig.activePromotions.map((promo, index) => (\n                <div key={promo.id} className=\"flex items-center gap-4 text-white flex-shrink-0\">\n                  <div className=\"text-center\">\n                    <div className=\"text-3xl font-bold\">{promo.discount}%</div>\n                    <div className=\"text-sm font-medium\">{promo.title}</div>\n                  </div>\n                  {index < scarletHotelConfig.activePromotions.length - 1 && (\n                    <div className=\"w-px h-12 bg-white/30\" />\n                  )}\n                </div>\n              ))}\n              <Sparkles className=\"h-8 w-8 text-white animate-spin-slow flex-shrink-0\" />\n            </div>\n          </div>\n        </section>\n      )}\n\n      {/* Rooms Section - hide when in booking flow */}\n      {(!booking.step || booking.step === 'search' || booking.step === 'results') && (\n      <section className=\"py-20 px-4 max-w-7xl mx-auto\">\n        <div className=\"text-center mb-16\">\n          <h2 className=\"text-5xl font-bold mb-4 bg-gradient-to-r from-red-400 to-pink-400 bg-clip-text text-transparent\">\n            {t('ourRooms')}\n          </h2>\n          <p className=\"text-xl text-gray-300\">\n            {t('findPerfectRoom')}\n          </p>\n        </div>\n\n        <div className=\"space-y-16\">\n          {/* Loading state */}\n          {booking.isLoading && (\n            <div className=\"text-center py-16\">\n              <div className=\"bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-8\">\n                <Loader2 className=\"w-12 h-12 text-pink-500 mx-auto mb-4 animate-spin\" />\n                <h3 className=\"text-xl font-semibold text-white mb-4\">ğŸ” ××—×¤×© ×—×“×¨×™× ×–××™× ×™×...</h3>\n                <p className=\"text-gray-300\">×× × ×”××ª×Ÿ ×‘×–××Ÿ ×©×× ×• ×‘×•×“×§×™× ×–××™× ×•×ª ×‘××œ×•×Ÿ ×¡×§×¨×œ×˜ ×ª×œ ××‘×™×‘</p>\n              </div>\n            </div>\n          )}\n          \n          {/* Fallback warning banner */}\n          {!booking.isLoading && showApiResults && scarletSearchResults.length > 0 && scarletSearchResults[0]?.rooms?.[0]?.isFallback && (\n            <Alert className=\"mb-8 bg-yellow-900/30 border-yellow-500/50 text-yellow-200\">\n              <AlertCircle className=\"h-5 w-5 text-yellow-400\" />\n              <AlertDescription className=\"text-base font-medium\">\n                <div className=\"mb-2\">âš ï¸ <strong>××™×Ÿ ×–××™× ×•×ª ×œ×ª××¨×™×›×™× ×©×‘×—×¨×ª</strong></div>\n                <div className=\"text-sm text-yellow-300\">\n                  ××¦×™×’ ××ª ×›×œ ×¡×•×’×™ ×”×—×“×¨×™× ×‘××œ×•×Ÿ ×¡×§×¨×œ×˜. ×× × ×‘×—×¨ ×ª××¨×™×›×™× ××—×¨×™× ×›×“×™ ×œ×‘×“×•×§ ×–××™× ×•×ª ×•××—×™×¨×™× ×¢×“×›× ×™×™×.\n                </div>\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {/* Room cards - show API results */}\n          {!booking.isLoading && (() => {\n            const shouldShowApi = showApiResults && scarletSearchResults.length > 0\n            \n            const roomsToRender = shouldShowApi \n              ? (scarletSearchResults[0]?.rooms || []).map((apiRoom: any, idx: number) => normalizeApiRoom(apiRoom, idx))\n              : []\n            \n            console.log('=== ROOM RENDER ===')\n            console.log('showApiResults:', showApiResults)\n            console.log('scarletSearchResults.length:', scarletSearchResults?.length || 0)\n            console.log('shouldShowApi:', shouldShowApi)\n            console.log('roomsToRender.length:', roomsToRender.length)\n            console.log('First room:', roomsToRender[0])\n            if (roomsToRender[0]) {\n              console.log('First room price (basePrice):', roomsToRender[0].basePrice)\n              console.log('First room currency:', roomsToRender[0].currency)\n              console.log('First room isFallback:', roomsToRender[0].isFallback)\n            }\n            \n            return roomsToRender\n          })().map((room: any, index: number) => (\n            <Card\n              key={room.id}\n              className={`bg-gradient-to-br ${\n                room.isFallback\n                  ? \"from-gray-800/40 via-gray-900/40 to-gray-900/40 border-gray-600/30 opacity-75\"\n                  : room.isPremium\n                  ? \"from-yellow-900/20 via-gray-900/20 to-gray-900/20 border-yellow-500/30\"\n                  : room.wowFactor\n                  ? \"from-pink-900/20 via-gray-900/20 to-gray-900/20 border-pink-500/30\"\n                  : \"from-gray-900/50 via-gray-800/50 to-gray-900/50 border-white/10\"\n              } backdrop-blur-sm overflow-hidden group hover:shadow-2xl hover:shadow-red-500/20 transition-all duration-500`}\n            >\n              <div className={`grid grid-cols-1 lg:grid-cols-2 ${index % 2 === 1 ? \"lg:grid-flow-dense\" : \"\"}`}>\n                {/* Image Gallery */}\n                <div className={`relative h-80 lg:h-auto overflow-hidden group/gallery ${index % 2 === 1 ? \"lg:col-start-2\" : \"\"}`}>\n                  <img\n                    src={room.images[roomImageIndexes[room.id] || 0]}\n                    alt={`${room.hebrewName} - ${room.name} hotel room`}\n                    className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700\"\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent\"></div>\n                  \n                  {/* Room Emoji Badge */}\n                  <div className=\"absolute top-4 right-4 w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-3xl border-2 border-white/30\">\n                    {room.emoji}\n                  </div>\n\n                  {/* Active Promotions Badges */}\n                  {scarletHotelConfig.activePromotions && scarletHotelConfig.activePromotions.length > 0 && (\n                    <div className=\"absolute bottom-4 left-4 right-4 flex flex-wrap gap-2\">\n                      {scarletHotelConfig.activePromotions.slice(0, 2).map((promo) => (\n                        <Badge \n                          key={promo.id}\n                          className={`${promo.badgeColor} text-white font-bold border-0 shadow-lg animate-pulse`}\n                        >\n                          {promo.badge}\n                        </Badge>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Special Badges */}\n                  {room.isPremium && (\n                    <Badge className=\"absolute top-4 left-4 bg-yellow-500/90 text-black font-bold border-0\">\n                      <Crown className=\"h-3 w-3 mr-1\" />\n                      PREMIUM\n                    </Badge>\n                  )}\n                  {room.wowFactor && (\n                    <Badge className=\"absolute top-4 left-4 bg-pink-500/90 text-white font-bold border-0\">\n                      <Sparkles className=\"h-3 w-3 mr-1\" />\n                      WOW\n                    </Badge>\n                  )}\n\n                  {/* Image Counter - only show if multiple images */}\n                  {room.images.length > 1 && (\n                    <div className=\"absolute top-4 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-full text-sm font-medium\">\n                      {(roomImageIndexes[room.id] || 0) + 1}/{room.images.length}\n                    </div>\n                  )}\n\n                  {/* Previous Button - only show if multiple images */}\n                  {room.images.length > 1 && (\n                    <button\n                      onClick={() => {\n                        const currentIndex = roomImageIndexes[room.id] || 0\n                        const newIndex = currentIndex === 0 ? room.images.length - 1 : currentIndex - 1\n                        setRoomImageIndexes(prev => ({ ...prev, [room.id]: newIndex }))\n                      }}\n                      className=\"absolute left-4 top-1/2 -translate-y-1/2 bg-black/60 backdrop-blur-sm hover:bg-black/80 p-3 rounded-full transition-all opacity-0 group-hover/gallery:opacity-100\"\n                      aria-label={`Previous image of ${room.name}`}\n                      title=\"Previous image\"\n                    >\n                      <ChevronLeft className=\"h-6 w-6\" />\n                    </button>\n                  )}\n\n                  {/* Next Button - only show if multiple images */}\n                  {room.images.length > 1 && (\n                    <button\n                      onClick={() => {\n                        const currentIndex = roomImageIndexes[room.id] || 0\n                        const newIndex = currentIndex === room.images.length - 1 ? 0 : currentIndex + 1\n                        setRoomImageIndexes(prev => ({ ...prev, [room.id]: newIndex }))\n                      }}\n                      className=\"absolute right-4 top-1/2 -translate-y-1/2 bg-black/60 backdrop-blur-sm hover:bg-black/80 p-3 rounded-full transition-all opacity-0 group-hover/gallery:opacity-100\"\n                      aria-label={`Next image of ${room.name}`}\n                      title=\"Next image\"\n                    >\n                      <ChevronRight className=\"h-6 w-6\" />\n                    </button>\n                  )}\n\n                  {/* Dots Navigation - only show if multiple images */}\n                  {room.images.length > 1 && (\n                    <div className=\"absolute bottom-20 left-1/2 -translate-x-1/2 flex gap-2\">\n                      {room.images.map((_: string, imgIndex: number) => (\n                        <button\n                          key={imgIndex}\n                          onClick={() => setRoomImageIndexes(prev => ({ ...prev, [room.id]: imgIndex }))}\n                          className={`w-2 h-2 rounded-full transition-all ${\n                            (roomImageIndexes[room.id] || 0) === imgIndex\n                              ? \"bg-white w-8\"\n                              : \"bg-white/50 hover:bg-white/75\"\n                          }`}\n                          aria-label={`Go to image ${imgIndex + 1}`}\n                        />\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Price Tag or Unavailable Badge */}\n                  {room.isFallback || !room.basePrice || room.basePrice === 0 || room.available === false ? (\n                    <div className=\"absolute bottom-4 left-4 bg-gray-800/90 backdrop-blur-md px-6 py-3 rounded-full border-2 border-yellow-500/50\">\n                      <div className=\"text-lg font-bold text-yellow-400\">\n                        {room.isStaticData ? '×”×ª×§×©×¨×• ×œ××—×™×¨×™×' : '×œ× ×–××™×Ÿ'}\n                      </div>\n                      <div className=\"text-xs text-gray-300\">\n                        {room.unavailableMessage || '×œ×ª××¨×™×›×™× ××œ×•'}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"absolute bottom-4 left-4 bg-red-600/90 backdrop-blur-md px-6 py-3 rounded-full\">\n                      <div className=\"text-2xl font-bold\">\n                        {room.currency === 'USD' ? '$' : room.currency === 'EUR' ? 'â‚¬' : 'â‚ª'}{room.basePrice}\n                      </div>\n                      <div className=\"text-xs text-gray-200\">{t('perNight')}</div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Content */}\n                <div className=\"p-8 lg:p-12 flex flex-col justify-center\">\n                  <div className=\"mb-4\">\n                    <h3 className=\"text-4xl font-bold mb-2 text-white\">\n                      {locale === 'he' ? room.hebrewName : room.name}\n                    </h3>\n                    <p className=\"text-sm text-gray-400 mb-1\">{locale === 'he' ? room.name : room.hebrewName}</p>\n                    <p className=\"text-lg text-red-400 italic\">\n                      {locale === 'he' ? room.tagline : (room.taglineEn || room.tagline)}\n                    </p>\n                  </div>\n\n                  <p className=\"text-gray-300 leading-relaxed mb-6 text-right\" dir={locale === 'he' ? 'rtl' : 'ltr'}>\n                    {locale === 'he' ? room.description : (room.descriptionEn || room.description)}\n                  </p>\n\n                  {/* Room Details */}\n                  <div className=\"grid grid-cols-3 gap-4 mb-6 p-4 bg-white/5 rounded-lg\">\n                    <div className=\"text-center\">\n                      <Home className=\"h-6 w-6 mx-auto mb-2 text-red-400\" />\n                      <div className=\"text-sm text-gray-400\">{t('size')}</div>\n                      <div className=\"font-bold\">{room.size} {t('sqm')}</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <Users className=\"h-6 w-6 mx-auto mb-2 text-red-400\" />\n                      <div className=\"text-sm text-gray-400\">{t('guests')}</div>\n                      <div className=\"font-bold\">{t('upToGuests', { count: room.maxGuests })}</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <Bath className=\"h-6 w-6 mx-auto mb-2 text-red-400\" />\n                      <div className=\"text-sm text-gray-400\">{t('fullBathroom')}</div>\n                      <div className=\"font-bold\">{locale === 'he' ? '××œ××”' : 'Full'}</div>\n                    </div>\n                  </div>\n\n                  {/* Features */}\n                  <div className=\"mb-6\">\n                    <h4 className=\"font-semibold mb-3 text-red-400\">{t('whatsIncluded')}</h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm\">\n                      {(locale === 'he' ? room.features : (room.featuresEn || room.features)).map((feature: string, idx: number) => (\n                        <div key={idx} className=\"flex items-start gap-2\">\n                          <span className=\"text-red-500 mt-1\">â€¢</span>\n                          <span className=\"text-gray-300\">{feature}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {room.special && (\n                    <div className=\"mb-6 p-4 bg-gradient-to-r from-red-900/30 to-pink-900/30 rounded-lg border border-red-500/30\">\n                      <div className=\"flex items-center gap-2 text-red-400 mb-1\">\n                        <Sparkles className=\"h-4 w-4\" />\n                        <span className=\"font-semibold\">{t('unique')}</span>\n                      </div>\n                      <p className=\"text-sm text-gray-300\">\n                        {locale === 'he' ? room.special : (room.specialEn || room.special)}\n                      </p>\n                    </div>\n                  )}\n\n                  <Button\n                    onClick={() => room.isFallback ? window.scrollTo({ top: 0, behavior: 'smooth' }) : handleSelectRoom(room)}\n                    disabled={booking.isLoading}\n                    className={`w-full h-14 ${\n                      room.isFallback\n                        ? \"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700\"\n                        : \"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700\"\n                    } text-white font-bold text-lg rounded-lg shadow-lg ${\n                      room.isFallback ? \"shadow-yellow-500/30 hover:shadow-yellow-500/50\" : \"shadow-red-500/30 hover:shadow-red-500/50\"\n                    } transition-all disabled:opacity-50`}\n                  >\n                    {booking.isLoading ? (\n                      <>\n                        <Loader2 className=\"h-4 w-4 animate-spin ml-2\" />\n                        {'××¢×‘×“...'}\n                      </>\n                    ) : room.isFallback ? (\n                      <>\n                        <Calendar className=\"h-5 w-5 ml-2\" />\n                        ×‘×—×¨ ×ª××¨×™×›×™× ××—×¨×™×\n                      </>\n                    ) : (\n                      t('bookNow')\n                    )}\n                  </Button>\n                </div>\n              </div>\n            </Card>\n          ))}\n        </div>\n      </section>\n      )}\n\n      {/* Amenities Section - hide when in booking flow */}\n      {(!booking.step || booking.step === 'search' || booking.step === 'results') && (\n      <section className=\"py-20 px-4 bg-gradient-to-b from-black to-gray-900\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-4xl font-bold mb-4 text-white\">\n              {t('ourAmenities')}\n            </h2>\n            <p className=\"text-gray-400\">{t('everythingForPerfectVacation')}</p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {scarletHotelConfig.amenities.map((amenity, idx) => (\n              <Card key={idx} className=\"bg-white/5 backdrop-blur-sm border-white/10 p-6 text-center hover:bg-white/10 transition-colors\">\n                <div className=\"text-red-400 mb-2\">\n                  <Sparkles className=\"h-8 w-8 mx-auto\" />\n                </div>\n                <p className=\"text-sm text-gray-300\">{amenity}</p>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </section>\n      )}\n\n      {/* Promo Code & Loyalty Section - hide when in booking flow */}\n      {(!booking.step || booking.step === 'search' || booking.step === 'results') && (\n      <section className=\"py-20 px-4 bg-gradient-to-b from-gray-900 to-black\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-4xl font-bold mb-4 bg-gradient-to-r from-red-400 to-pink-400 bg-clip-text text-transparent\">\n              {t('discountsAndDeals')}\n            </h2>\n            <p className=\"text-gray-400\">{t('saveMore')}</p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12\">\n            {/* Promo Code */}\n            <Card className=\"bg-gradient-to-br from-red-900/20 via-gray-900/50 to-gray-900/50 backdrop-blur-sm border-red-500/30 p-6\">\n              <h3 className=\"text-xl font-bold mb-4 text-white flex items-center gap-2\">\n                <Sparkles className=\"h-5 w-5 text-red-400\" />\n                {t('promoCode')}\n              </h3>\n              <p className=\"text-gray-300 text-sm mb-4\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                {t('promoCodeAvailableInBooking')}\n              </p>\n            </Card>\n\n            {/* Loyalty Club */}\n            <Card className=\"bg-gradient-to-br from-pink-900/20 via-gray-900/50 to-gray-900/50 backdrop-blur-sm border-pink-500/30 p-6\">\n              <h3 className=\"text-xl font-bold mb-4 text-white flex items-center gap-2\">\n                <Crown className=\"h-5 w-5 text-pink-400\" />\n                {t('loyaltyClub')}\n              </h3>\n              <LoyaltyBadge hotelId={scarletHotelConfig.hotelId} variant=\"dark\" />\n              <div className=\"mt-4\">\n                <LoyaltySignup hotelId={scarletHotelConfig.hotelId} variant=\"dark\" />\n              </div>\n            </Card>\n          </div>\n\n          {/* Benefits */}\n          <Card className=\"bg-gradient-to-br from-yellow-900/20 via-gray-900/50 to-purple-900/20 backdrop-blur-sm border-yellow-500/30 p-8\">\n            <div className=\"text-center mb-6\">\n              <Crown className=\"h-12 w-12 text-yellow-500 mx-auto mb-3\" />\n              <h3 className=\"text-2xl font-bold text-white mb-2\">\n                {t('vipBenefits')}\n              </h3>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"text-center\">\n                <Sparkles className=\"h-8 w-8 text-red-400 mx-auto mb-2\" />\n                <h4 className=\"font-bold text-white mb-1\">{t('discount10Percent')}</h4>\n                <p className=\"text-sm text-gray-400\">{t('onAllBookings')}</p>\n              </div>\n              <div className=\"text-center\">\n                <Heart className=\"h-8 w-8 text-pink-400 mx-auto mb-2\" />\n                <h4 className=\"font-bold text-white mb-1\">{t('freeUpgrade')}</h4>\n                <p className=\"text-sm text-gray-400\">{t('subjectToAvailability')}</p>\n              </div>\n              <div className=\"text-center\">\n                <Crown className=\"h-8 w-8 text-yellow-400 mx-auto mb-2\" />\n                <h4 className=\"font-bold text-white mb-1\">{t('fastCheckIn')}</h4>\n                <p className=\"text-sm text-gray-400\">{t('noWaiting')}</p>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </section>\n      )}\n\n      {/* Marketing Features Section - hide when in booking flow */}\n      {(!booking.step || booking.step === 'search' || booking.step === 'results') && (\n      <section className=\"py-16 px-4 bg-gradient-to-b from-gray-900 to-black\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-4xl font-bold mb-4\" style={{ fontFamily: 'var(--font-assistant)' }}>\n              {t('specialOffersMarketing')}\n            </h2>\n            <p className=\"text-xl text-gray-400\" style={{ fontFamily: 'var(--font-assistant)' }}>\n              {t('saveMoreWithPromos')}\n            </p>\n          </div>\n\n          <div className=\"grid md:grid-cols-3 gap-8 mb-12\">\n            {/* Promo Codes Card */}\n            <Card className=\"bg-gradient-to-br from-orange-900/30 to-red-900/30 border-orange-500/30 hover:border-orange-500 transition-all duration-300 hover:scale-105\">\n              <div className=\"p-6 text-center\">\n                <div className=\"w-16 h-16 mx-auto mb-4 bg-orange-500/20 rounded-full flex items-center justify-center\">\n                  <Sparkles className=\"h-8 w-8 text-orange-400\" />\n                </div>\n                <h3 className=\"text-2xl font-bold mb-3 text-white\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  {t('promoCodes')}\n                </h3>\n                <p className=\"text-gray-300 mb-6\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  {t('usePromoCodeDescription')}\n                </p>\n                <p className=\"text-gray-300 text-sm mb-2\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  {t('promoCodeAvailableInBooking')}\n                </p>\n                <ul className=\"text-right text-sm text-gray-400 mt-4 space-y-2\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  <li>âœ¨ ×”× ×—×•×ª ×¢×“ 30%</li>\n                  <li>ğŸ ××‘×¦×¢×™× ×¢×•× ×ª×™×™×</li>\n                  <li>ğŸ”¥ ×§×•×¤×•× ×™× ×‘×œ×¢×“×™×™×</li>\n                </ul>\n              </div>\n            </Card>\n\n            {/* Loyalty Program Card */}\n            <Card className=\"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-500/30 hover:border-purple-500 transition-all duration-300 hover:scale-105\">\n              <div className=\"p-6 text-center\">\n                <div className=\"w-16 h-16 mx-auto mb-4 bg-purple-500/20 rounded-full flex items-center justify-center\">\n                  <Crown className=\"h-8 w-8 text-purple-400\" />\n                </div>\n                <h3 className=\"text-2xl font-bold mb-3 text-white\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  {t('loyaltyProgram')}\n                </h3>\n                <p className=\"text-gray-300 mb-6\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  {t('loyaltyProgramDescription')}\n                </p>\n                <LoyaltyBadge hotelId={scarletHotelConfig.hotelId} variant=\"luxury\" />\n                <div className=\"mt-4\">\n                  <LoyaltySignup hotelId={scarletHotelConfig.hotelId} />\n                </div>\n                <ul className=\"text-right text-sm text-gray-400 mt-4 space-y-2\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  <li>ğŸ‘‘ {t('threeMembershipLevels')}</li>\n                  <li>ğŸ’ {t('cumulativeDiscounts')}</li>\n                  <li>ğŸ¯ {t('exclusiveBenefits')}</li>\n                  <li>ğŸŒŸ {t('roomUpgrades')}</li>\n                </ul>\n              </div>\n            </Card>\n\n            {/* Affiliate Program Card */}\n            <Card className=\"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-blue-500/30 hover:border-blue-500 transition-all duration-300 hover:scale-105\">\n              <div className=\"p-6 text-center\">\n                <div className=\"w-16 h-16 mx-auto mb-4 bg-blue-500/20 rounded-full flex items-center justify-center\">\n                  <Users className=\"h-8 w-8 text-blue-400\" />\n                </div>\n                <h3 className=\"text-2xl font-bold mb-3 text-white\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  {t('affiliateProgram')}\n                </h3>\n                <p className=\"text-gray-300 mb-6\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  {t('affiliateProgramDescription')}\n                </p>\n                <Button \n                  variant=\"outline\"\n                  className=\"w-full border-blue-500 text-blue-400 hover:bg-blue-500/20 font-bold\"\n                  style={{ fontFamily: 'var(--font-assistant)' }}\n                  onClick={() => window.open('/api/affiliate/register', '_blank')}\n                >\n                  {t('joinAsPartner')}\n                </Button>\n                <ul className=\"text-right text-sm text-gray-400 mt-4 space-y-2\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  <li>ğŸ’° {t('commissionPerBooking')}</li>\n                  <li>ğŸ”— {t('personalLink')}</li>\n                  <li>ğŸ“Š {t('salesManagement')}</li>\n                  <li>ğŸ {t('specialBonuses')}</li>\n                </ul>\n              </div>\n            </Card>\n          </div>\n\n          {/* Active Promotions Banner */}\n          <div className=\"mb-8\">\n            <PromotionBanner />\n          </div>\n\n          {/* Special Offers Info */}\n          <Card className=\"bg-gradient-to-r from-red-900/20 to-pink-900/20 border-red-500/30\">\n            <div className=\"p-8 text-center\">\n              <h3 className=\"text-3xl font-bold mb-4 text-white\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                {t('moreOffersAvailable')}\n              </h3>\n              <p className=\"text-xl text-gray-300 mb-6\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                {t('clickBookNowToSee')}\n              </p>\n              <Button \n                onClick={() => handleSearch(false)}\n                disabled={booking.isLoading}\n                size=\"lg\"\n                className=\"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white font-bold text-xl px-12 py-6 shadow-2xl shadow-red-500/50 disabled:opacity-50\"\n                style={{ fontFamily: 'var(--font-assistant)' }}\n              >\n                {booking.isLoading ? (\n                  <Loader2 className=\"h-6 w-6 animate-spin ml-2\" />\n                ) : (\n                  <Sparkles className=\"ml-2 h-6 w-6\" />\n                )}\n                {t('discoverOffers')}\n              </Button>\n            </div>\n          </Card>\n        </div>\n      </section>\n      )}\n\n      {/* Affiliate Tracker */}\n      <AffiliateTracker hotelId={scarletHotelConfig.hotelId} />\n\n      {/* Footer */}\n      <footer className=\"py-12 px-4 bg-black border-t border-white/10\">\n        <div className=\"max-w-6xl mx-auto text-center\">\n          <div className=\"mb-6\">\n            <Heart className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n            <h3 className=\"text-2xl font-bold mb-2\">{scarletHotelConfig.hebrewName}</h3>\n            <p className=\"text-gray-400\">{scarletHotelConfig.tagline}</p>\n          </div>\n\n          <div className=\"flex flex-col md:flex-row justify-center gap-8 mb-6 text-sm text-gray-400\">\n            <div>\n              <span className=\"font-semibold text-white\">×˜×œ×¤×•×Ÿ:</span>{\" \"}\n              {scarletHotelConfig.contact.phone}\n            </div>\n            <div>\n              <span className=\"font-semibold text-white\">××™××™×™×œ:</span>{\" \"}\n              {scarletHotelConfig.contact.email}\n            </div>\n          </div>\n\n          <div className=\"flex justify-center items-center gap-3 mb-6\">\n            <span className=\"text-sm text-gray-400\">{t('shareWithUs')}</span>\n            <SocialShare \n              variant=\"minimal\" \n              title={`${scarletHotelConfig.hebrewName} - ${scarletHotelConfig.hebrewTagline}`}\n              description={scarletHotelConfig.description}\n              hashtags={['ScarletHotel', 'TelAviv', 'BoutiqueHotel']}\n              className=\"text-gray-400 hover:text-red-400\"\n            />\n          </div>\n\n          <p className=\"text-gray-500 text-sm\">\n            Â© 2025 Scarlet Hotel Tel Aviv. All rights reserved.\n          </p>\n        </div>\n      </footer>\n\n      {/* AI Chat Widget */}\n      <div className=\"fixed bottom-6 left-6 z-50\">\n        <Button\n          onClick={() => setShowAiChat(!showAiChat)}\n          className=\"rounded-full w-14 h-14 bg-red-600 hover:bg-red-700 shadow-2xl shadow-red-500/50 transition-all duration-300 hover:scale-110\"\n          size=\"icon\"\n        >\n          <MessageCircle className=\"h-6 w-6\" />\n        </Button>\n        {showAiChat && (\n          <div className=\"absolute bottom-16 left-0 w-96 h-[600px] shadow-2xl rounded-lg overflow-hidden border border-red-500/30 bg-black\">\n            <div className=\"p-4 bg-gradient-to-r from-red-600 to-pink-600 text-white\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"font-bold text-lg\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                  {t('chatWithAssistant')}\n                </h3>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => setShowAiChat(false)}\n                  className=\"text-white hover:bg-white/20\"\n                >\n                  <X className=\"h-5 w-5\" />\n                </Button>\n              </div>\n              <p className=\"text-sm mt-1 text-white/90\" style={{ fontFamily: 'var(--font-assistant)' }}>\n                {t('askUsAnything', { hotelName: locale === 'he' ? scarletHotelConfig.hebrewName : t('scarletHotelName') })}\n              </p>\n            </div>\n            <div className=\"p-4 h-[500px] overflow-y-auto bg-gray-950\">\n              <p className=\"text-gray-400 text-center py-8\" style={{ fontFamily: 'var(--font-assistant)' }} dangerouslySetInnerHTML={{ __html: t('assistantComingSoon') }}>\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default function ScarletTemplate() {\n  return (\n    <ErrorBoundary>\n      <I18nProvider defaultLocale=\"he\">\n        <ScarletTemplateContent />\n      </I18nProvider>\n    </ErrorBoundary>\n  )\n}\n","import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":"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","ignoreList":[2]}