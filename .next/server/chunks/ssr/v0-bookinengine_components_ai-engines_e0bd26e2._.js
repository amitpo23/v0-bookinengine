module.exports=[72940,a=>{"use strict";var b=a.i(41895),c=a.i(44967),d=a.i(90207),e=a.i(33357),f=a.i(56652),g=a.i(32721),h=a.i(29558),h=h,i=a.i(93409),j=a.i(71244),k=a.i(8769),l=a.i(39172),m=a.i(18420),n=a.i(570),o=a.i(60995),p=a.i(90285);let q={"hotel-booking":(0,b.jsx)(o.Building2,{className:"w-5 h-5"}),"travel-agent":(0,b.jsx)(p.Sparkles,{className:"w-5 h-5"}),concierge:(0,b.jsx)(k.MessageSquare,{className:"w-5 h-5"}),"voice-agent":(0,b.jsx)(j.Phone,{className:"w-5 h-5"}),"price-monitor":(0,b.jsx)(l.TrendingUp,{className:"w-5 h-5"}),"support-agent":(0,b.jsx)(n.Headphones,{className:"w-5 h-5"}),"group-booking":(0,b.jsx)(m.Users,{className:"w-5 h-5"}),"multi-agent":(0,b.jsx)(e.Bot,{className:"w-5 h-5"})};function r(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)("he"),B=(0,c.useRef)(null);async function C(a){l(a),w(!0),s([]);try{let b=await fetch("/api/ai-engines?action=start-conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({engineId:a.instanceId})}),c=await b.json();if(c.success){n(c.conversation.conversationId),p(c.conversation.persona);let a="he"===z&&c.greetingHe?c.greetingHe:c.greeting;s([{id:`msg-${Date.now()}`,role:"assistant",content:a,timestamp:new Date}])}}catch(a){console.error("Failed to start conversation:",a)}finally{w(!1),y(!1)}}async function D(){if(!t.trim()||!m||v)return;let a={id:`msg-${Date.now()}`,role:"user",content:t.trim(),timestamp:new Date};s(b=>[...b,a]),u(""),w(!0);try{let b=await fetch("/api/ai-engines/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversationId:m,message:a.content,language:z})}),c=await b.json();if(c.success){let a={id:`msg-${Date.now()}-resp`,role:"assistant",content:c.response,timestamp:new Date,toolsExecuted:c.toolsExecuted};s(b=>[...b,a])}else s(a=>[...a,{id:`msg-${Date.now()}-err`,role:"assistant",content:`שגיאה: ${c.error}`,timestamp:new Date}])}catch(a){console.error("Failed to send message:",a),s(a=>[...a,{id:`msg-${Date.now()}-err`,role:"assistant",content:"מצטער, אירעה שגיאה. אנא נסה שוב.",timestamp:new Date}])}finally{w(!1)}}return(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/ai-engines?action=engines"),b=await a.json();b.success&&j(b.engines)}catch(a){console.error("Failed to fetch engines:",a)}}()},[]),(0,c.useEffect)(()=>{B.current?.scrollIntoView({behavior:"smooth"})},[r]),(0,b.jsxs)("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",dir:"he"===z?"rtl":"ltr",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-700 bg-slate-800/50 backdrop-blur-sm",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>y(!x),className:"flex items-center gap-2 px-4 py-2 bg-slate-700/50 hover:bg-slate-700 rounded-lg transition-colors",children:[k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-purple-400",children:q[k.type]||(0,b.jsx)(e.Bot,{className:"w-5 h-5"})}),(0,b.jsx)("span",{className:"text-white font-medium",children:k.name})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Bot,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-slate-300",children:"בחר מנוע AI"})]}),(0,b.jsx)(h.default,{className:"w-4 h-4 text-slate-400"})]}),x&&(0,b.jsx)("div",{className:"absolute top-full mt-2 w-72 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50 overflow-hidden",children:(0,b.jsx)("div",{className:"p-2",children:a.map(a=>(0,b.jsxs)("button",{onClick:()=>C(a),className:`w-full flex items-center gap-3 p-3 rounded-lg transition-colors ${k?.instanceId===a.instanceId?"bg-purple-600/20 text-purple-300":"hover:bg-slate-700/50 text-slate-300"}`,children:[(0,b.jsx)("span",{className:"text-purple-400",children:q[a.type]||(0,b.jsx)(e.Bot,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex-1 text-right",children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:a.type})]}),"active"===a.status&&(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"})]},a.instanceId))})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>A("he"===z?"en":"he"),className:"px-3 py-1.5 text-sm bg-slate-700/50 hover:bg-slate-700 rounded-lg text-slate-300 transition-colors",children:"he"===z?"EN":"עב"}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700/50 rounded-lg text-slate-400 transition-colors",children:(0,b.jsx)(i.Settings,{className:"w-5 h-5"})})]})]}),o&&(0,b.jsxs)("div",{className:"px-4 py-2 bg-slate-800/30 border-b border-slate-700/50 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold",children:("he"===z?o.nameHe?.[0]:o.name[0])||"A"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:"he"===z&&o.nameHe||o.name}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"he"===z&&o.roleHe||o.role})]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===r.length&&!k&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center mb-4",children:(0,b.jsx)(e.Bot,{className:"w-10 h-10 text-purple-400"})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"he"===z?"מנועי AI להזמנות":"AI Booking Engines"}),(0,b.jsx)("p",{className:"text-slate-400 max-w-md",children:"he"===z?"בחר מנוע AI מהתפריט למעלה כדי להתחיל שיחה. כל מנוע מתמחה בתחום אחר.":"Select an AI engine from the menu above to start a conversation. Each engine specializes in different areas."}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3 mt-8",children:a.slice(0,4).map(a=>(0,b.jsxs)("button",{onClick:()=>C(a),className:"flex items-center gap-3 p-4 bg-slate-800/50 hover:bg-slate-700/50 rounded-xl border border-slate-700/50 transition-all hover:border-purple-500/50",children:[(0,b.jsx)("span",{className:"text-purple-400",children:q[a.type]||(0,b.jsx)(e.Bot,{className:"w-6 h-6"})}),(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:a.name})]},a.instanceId))})]}),r.map(a=>(0,b.jsxs)("div",{className:`flex gap-3 ${"user"===a.role?"flex-row-reverse":""}`,children:[(0,b.jsx)("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${"user"===a.role?"bg-blue-600":"bg-gradient-to-br from-purple-500 to-pink-500"}`,children:"user"===a.role?(0,b.jsx)(f.User,{className:"w-4 h-4 text-white"}):(0,b.jsx)(e.Bot,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{className:`flex-1 max-w-[80%] ${"user"===a.role?"text-left":"text-right"}`,children:[(0,b.jsx)("div",{className:`inline-block p-3 rounded-2xl ${"user"===a.role?"bg-blue-600 text-white rounded-br-md":"bg-slate-700/70 text-slate-100 rounded-bl-md"}`,children:(0,b.jsx)("p",{className:"whitespace-pre-wrap",children:a.content})}),a.toolsExecuted&&a.toolsExecuted.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.toolsExecuted.map((a,c)=>(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full ${a.success?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.name},c))}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:a.timestamp.toLocaleTimeString("he"===z?"he-IL":"en-US",{hour:"2-digit",minute:"2-digit"})})]})]},a.id)),v&&(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:(0,b.jsx)(e.Bot,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("div",{className:"bg-slate-700/70 rounded-2xl rounded-bl-md p-3",children:(0,b.jsx)(g.Loader2,{className:"w-5 h-5 text-purple-400 animate-spin"})})]}),(0,b.jsx)("div",{ref:B})]}),(0,b.jsx)("div",{className:"p-4 border-t border-slate-700 bg-slate-800/50",children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),D()},className:"flex gap-3",children:[(0,b.jsx)("input",{type:"text",value:t,onChange:a=>u(a.target.value),placeholder:"he"===z?"הקלד הודעה...":"Type a message...",className:"flex-1 px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:!m||v}),(0,b.jsx)("button",{type:"submit",disabled:!t.trim()||!m||v,className:"px-4 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-xl transition-colors",children:(0,b.jsx)(d.Send,{className:"w-5 h-5"})})]})})]})}a.s(["AIEngineChat",()=>r],72940)},70181,a=>{"use strict";var b=a.i(41895),c=a.i(44967),d=a.i(32119),e=a.i(88739),f=a.i(88319),g=a.i(33357),h=a.i(93409),i=a.i(8769),j=a.i(13042),k=a.i(39172),l=a.i(18420),m=a.i(7772);let n=(0,a.i(10483).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var o=a.i(20323),p=a.i(34123);function q(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)({totalEngines:0,activeEngines:0,totalConversations:0,activeConversations:0,totalMessages:0}),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(null),x=async()=>{u(!0),w(null);try{let b=await fetch("/api/ai-engines?action=engines"),c=await b.json();if(c.success&&c.engines){let a=c.engines.map(a=>({id:a.instanceId||a.id,instanceId:a.instanceId,name:a.name||a.templateId,description:`${a.type} engine with ${a.toolCount||0} tools`,status:a.status||"active",usage:Math.round(100*Math.random()),type:a.type,activeConversations:a.activeConversations||0,totalConversations:a.totalConversations||0}));q(a)}let d=await fetch("/api/ai-engines?action=stats"),e=await d.json();e.success&&e.stats&&s({totalEngines:e.stats.totalEngines||a.length,activeEngines:e.stats.activeEngines||a.filter(a=>"active"===a.status).length,totalConversations:e.stats.totalConversations||0,activeConversations:e.stats.activeConversations||0,totalMessages:e.stats.totalMessages||0})}catch(a){console.error("Error fetching AI engines data:",a),w("Failed to load AI engines data"),q([{id:"1",name:"Booking Assistant",description:"AI-powered hotel booking assistant for customer inquiries",status:"active",usage:85,type:"booking"},{id:"2",name:"Support Bot",description:"Customer support automation for common questions",status:"active",usage:72,type:"support"},{id:"3",name:"Sales Agent",description:"Proactive sales assistant for upselling and promotions",status:"inactive",usage:45,type:"sales"}]),s({totalEngines:3,activeEngines:2,totalConversations:156,activeConversations:12,totalMessages:1234})}finally{u(!1)}};return(0,c.useEffect)(()=>{x()},[]),(0,b.jsxs)("div",{className:"container mx-auto p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"AI Engine Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage and monitor your AI booking engines"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",onClick:x,disabled:t,children:[(0,b.jsx)(m.RefreshCw,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]}),(0,b.jsxs)(e.Button,{className:"gap-2",children:[(0,b.jsx)(j.Zap,{className:"w-4 h-4"}),"New Engine"]})]})]}),v&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-yellow-600"}),(0,b.jsxs)("span",{className:"text-yellow-800",children:[v," - Showing demo data"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-blue-100",children:(0,b.jsx)(g.Bot,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Engines"}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:[r.activeEngines," / ",r.totalEngines]})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-green-100",children:(0,b.jsx)(i.MessageSquare,{className:"w-5 h-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Messages"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:r.totalMessages.toLocaleString()})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-purple-100",children:(0,b.jsx)(k.TrendingUp,{className:"w-5 h-5 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Conversations"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:r.totalConversations})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-orange-100",children:(0,b.jsx)(l.Users,{className:"w-5 h-5 text-orange-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Chats"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:r.activeConversations})]})]})})})]}),(0,b.jsx)("div",{className:"grid gap-4",children:t?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)(m.RefreshCw,{className:"w-8 h-8 mx-auto animate-spin text-muted-foreground"}),(0,b.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Loading engines..."})]})}):0===a.length?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)(g.Bot,{className:"w-12 h-12 mx-auto text-muted-foreground mb-2"}),(0,b.jsx)("h3",{className:"font-semibold",children:"No AI Engines"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Create your first AI engine to get started"})]})}):a.map(a=>{var c;return(0,b.jsx)(d.Card,{className:"hover:shadow-md transition-shadow",children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 rounded-lg bg-slate-100",children:(0,b.jsx)(g.Bot,{className:"w-6 h-6 text-slate-700"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.name}),(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${(a=>{switch(a){case"active":return"bg-green-500";case"inactive":return"bg-gray-500";case"maintenance":return"bg-yellow-500"}})(a.status)}`})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Conversations"}),(0,b.jsx)("p",{className:"font-semibold",children:a.totalConversations||0})]}),(0,b.jsx)(f.Badge,{variant:"secondary",className:"capitalize",children:{"hotel-booking":"Hotel","travel-agent":"Travel",concierge:"Concierge",booking:"Booking",support:"Support",sales:"Sales"}[c=a.type]||c}),(0,b.jsx)(p.default,{href:`/ai-engines/chat?engine=${a.instanceId||a.id}`,children:(0,b.jsx)(e.Button,{variant:"outline",size:"icon",title:"Start Chat",children:(0,b.jsx)(n,{className:"w-4 h-4"})})}),(0,b.jsx)(e.Button,{variant:"outline",size:"icon",title:"Settings",children:(0,b.jsx)(h.Settings,{className:"w-4 h-4"})})]})]})})},a.id)})})]})}a.s(["AIEngineDashboard",()=>q,"default",0,q],70181)}];

//# sourceMappingURL=v0-bookinengine_components_ai-engines_e0bd26e2._.js.map