(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75461,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},77871,e=>{"use strict";var t=e.i(88636),s=e.i(68926),i=e.i(24892),a=e.i(30902),n=e.i(9419);function c({onSearch:e}){let[s,c]=(0,i.useState)(new Date),[l,r]=(0,i.useState)(new Date(Date.now()+864e5)),[o,d]=(0,i.useState)(2),[m,x]=(0,i.useState)(0),[h,u]=(0,i.useState)(1),[b,g]=(0,i.useState)(!1),[j,p]=(0,i.useState)(!1);return(0,t.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-6",dir:"rtl",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("button",{onClick:()=>g(!b),className:"bg-zinc-800 hover:bg-zinc-700 rounded-xl p-4 text-right transition-colors",children:[(0,t.jsx)("span",{className:"text-zinc-400 text-sm block mb-1",children:"תאריך הגעה"}),(0,t.jsx)("span",{className:"text-white text-lg font-medium",children:(0,a.format)(s,"d בMMMM",{locale:n.he})})]}),(0,t.jsxs)("button",{onClick:()=>g(!b),className:"bg-zinc-800 hover:bg-zinc-700 rounded-xl p-4 text-right transition-colors",children:[(0,t.jsx)("span",{className:"text-zinc-400 text-sm block mb-1",children:"תאריך עזיבה"}),(0,t.jsx)("span",{className:"text-white text-lg font-medium",children:(0,a.format)(l,"d בMMMM",{locale:n.he})})]}),(0,t.jsxs)("button",{onClick:()=>p(!j),className:"bg-zinc-800 hover:bg-zinc-700 rounded-xl p-4 text-right transition-colors",children:[(0,t.jsx)("span",{className:"text-zinc-400 text-sm block mb-1",children:"אורחים"}),(0,t.jsxs)("span",{className:"text-white text-lg font-medium",children:[o," מבוגרים, ",m," ילדים"]})]}),(0,t.jsx)("button",{onClick:()=>e?.({checkIn:s,checkOut:l,adults:o,children:m,rooms:h}),className:"bg-white hover:bg-zinc-100 text-zinc-900 rounded-xl p-4 font-bold text-lg transition-colors",children:"חפש חדרים"})]}),j&&(0,t.jsxs)("div",{className:"mt-4 bg-zinc-800 rounded-xl p-4 animate-in fade-in slide-in-from-top-2",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"מבוגרים"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>d(Math.max(1,o-1)),className:"w-8 h-8 rounded-full bg-zinc-700 text-white hover:bg-zinc-600",children:"-"}),(0,t.jsx)("span",{className:"text-white w-8 text-center",children:o}),(0,t.jsx)("button",{onClick:()=>d(o+1),className:"w-8 h-8 rounded-full bg-zinc-700 text-white hover:bg-zinc-600",children:"+"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"ילדים"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>x(Math.max(0,m-1)),className:"w-8 h-8 rounded-full bg-zinc-700 text-white hover:bg-zinc-600",children:"-"}),(0,t.jsx)("span",{className:"text-white w-8 text-center",children:m}),(0,t.jsx)("button",{onClick:()=>x(m+1),className:"w-8 h-8 rounded-full bg-zinc-700 text-white hover:bg-zinc-600",children:"+"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"חדרים"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>u(Math.max(1,h-1)),className:"w-8 h-8 rounded-full bg-zinc-700 text-white hover:bg-zinc-600",children:"-"}),(0,t.jsx)("span",{className:"text-white w-8 text-center",children:h}),(0,t.jsx)("button",{onClick:()=>u(h+1),className:"w-8 h-8 rounded-full bg-zinc-700 text-white hover:bg-zinc-600",children:"+"})]})]})]}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"mt-4 w-full bg-white text-zinc-900 rounded-lg py-2 font-medium",children:"אישור"})]})]})}e.i(82911);var l=e.i(40107);e.i(13888);var r=e.i(27377),o=e.i(79232),d=e.i(82463),m=e.i(73529),x=e.i(96845),h=e.i(90768),u=e.i(87524),b=e.i(95751),g=e.i(67881),j=e.i(81947),p=e.i(46266);let N=[{id:"search",label:"חיפוש"},{id:"results",label:"בחירת חדר"},{id:"details",label:"פרטי אורח"},{id:"payment",label:"תשלום"},{id:"confirmation",label:"אישור"}];function f(){let e=(0,x.useBookingEngine)(),i=async t=>{await e.searchHotels({checkIn:t.checkIn,checkOut:t.checkOut,adults:t.guests,children:[],hotelName:"Dizengoff Inn"})},a=e.searchResults.flatMap(e=>e.rooms.map(t=>({hotelId:e.hotelId,hotelName:e.hotelName,name:t.roomName,images:t.images.length>0?t.images:["/modern-dark-hotel-room.jpg"],size:t.size||35,maxGuests:t.maxOccupancy,guestDescription:`עד ${t.maxOccupancy} אורחים`,amenities:(t.amenities.length>0?t.amenities:["WiFi","מיזוג","מיניבר","טלוויזיה"]).map(e=>({icon:"modern",label:e})),offers:[{id:t.roomId,code:t.code,title:t.roomName,description:`חדר מרווח עם ${t.bedding||"מיטה זוגית"}`,price:t.buyPrice,originalPrice:t.originalPrice||1.2*t.buyPrice,board:"BB"===t.boardType?"לינה וארוחת בוקר":"HB"===t.boardType?"חצי פנסיון":"לינה בלבד",cancellationDate:"ביטול חינם עד 2 ימים לפני",refundable:"free"===t.cancellationPolicy,badge:t.buyPrice<(t.originalPrice||1.2*t.buyPrice)?"מבצע":void 0,roomData:t,hotelData:e}],remainingRooms:t.available})));return(0,t.jsxs)("div",{className:"min-h-screen bg-zinc-950",dir:"rtl",children:[(0,t.jsx)(s.PromotionBanner,{}),(0,t.jsx)("header",{className:"bg-zinc-900 border-b border-zinc-800",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)(p.default,{href:"/templates",className:"text-zinc-400 hover:text-white transition-colors flex items-center gap-2",children:[(0,t.jsx)(b.ArrowRight,{className:"w-4 h-4"}),"חזרה לטמפלטים"]}),(0,t.jsx)("h1",{className:"text-white font-bold text-xl",children:"THE NOIR HOTEL"}),(0,t.jsx)("div",{})]})}),(0,t.jsx)("div",{className:"bg-zinc-900 border-b border-zinc-800",children:(0,t.jsx)("div",{className:"max-w-5xl mx-auto px-6",children:(0,t.jsx)(r.BookingSteps,{steps:N,currentStep:e.step,variant:"dark"})})}),e.error&&(0,t.jsx)("div",{className:"max-w-5xl mx-auto px-6 py-4",children:(0,t.jsxs)(j.Alert,{variant:"destructive",className:"bg-red-900/50 border-red-800",children:[(0,t.jsx)(u.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(j.AlertDescription,{className:"text-white",children:e.error}),(0,t.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:e.clearError,className:"text-white",children:"סגור"})]})}),e.isLoading&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-8 flex flex-col items-center gap-4",children:[(0,t.jsx)(h.Loader2,{className:"w-8 h-8 animate-spin text-cyan-500"}),(0,t.jsx)("p",{className:"text-white text-lg",children:"טוען..."})]})}),"search"===e.step&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"relative h-[50vh] bg-gradient-to-b from-zinc-900 to-zinc-950 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-5xl font-bold text-white mb-4",children:"THE NOIR HOTEL"}),(0,t.jsx)("p",{className:"text-zinc-400 text-xl",children:"חוויה מודרנית ויוקרתית"})]})}),(0,t.jsx)("div",{className:"max-w-5xl mx-auto px-6 -mt-16 relative z-10",children:(0,t.jsx)(c,{onSearch:i})})]}),"results"===e.step&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"max-w-5xl mx-auto px-6 py-8",children:(0,t.jsx)(c,{onSearch:i,initialData:{checkIn:e.searchParams?.checkIn,checkOut:e.searchParams?.checkOut,guests:e.searchParams?.adults}})}),(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-6 pb-16",children:(0,t.jsx)(l.EnhancedSearchResults,{rooms:a,nights:e.nights,onSelectOffer:(t,s)=>e.selectRoom(s.hotelData,s.roomData),currency:"₪",hotelName:"THE NOIR HOTEL",hotelRating:4})})]}),"details"===e.step&&(0,t.jsx)("div",{className:"max-w-2xl mx-auto px-6 py-12",children:(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"פרטי האורח"}),(0,t.jsx)(o.GuestDetailsForm,{onSubmit:e.setGuestInfo,isLoading:e.isLoading,variant:"dark"})]})}),"payment"===e.step&&(0,t.jsx)("div",{className:"max-w-2xl mx-auto px-6 py-12",children:(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"תשלום"}),(0,t.jsx)(d.PaymentForm,{totalPrice:e.totalPrice,currency:e.selectedRoom?.currency||"ILS",onSubmit:e.completeBooking,isLoading:e.isLoading,variant:"dark"})]})}),"confirmation"===e.step&&e.bookingConfirmation&&e.selectedHotel&&e.selectedRoom&&e.searchParams&&e.guestInfo&&(0,t.jsx)("div",{className:"max-w-2xl mx-auto px-6 py-12",children:(0,t.jsx)(m.BookingConfirmation,{bookingId:e.bookingConfirmation.bookingId,supplierReference:e.bookingConfirmation.supplierReference,hotel:e.selectedHotel,room:e.selectedRoom,searchParams:e.searchParams,totalPrice:e.totalPrice,currency:e.selectedRoom.currency,guestName:`${e.guestInfo.firstName} ${e.guestInfo.lastName}`,guestEmail:e.guestInfo.email,onNewBooking:e.reset,variant:"dark"})})]})}e.s(["default",()=>f],77871)}]);