{"version":3,"sources":["../../../../lib/hotel-config-context.tsx","../../../../lib/date-utils.ts","../../../../app/embed/widget/%5BhotelId%5D/page.tsx","../../../../components/booking/widget-search-form.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport type { HotelConfig } from \"@/types/saas\"\n\ninterface HotelConfigContextType {\n  currentHotel: HotelConfig | null\n  setCurrentHotel: (hotel: HotelConfig) => void\n  hotels: HotelConfig[]\n  addHotel: (hotel: HotelConfig) => void\n  updateHotel: (hotel: HotelConfig) => void\n  deleteHotel: (hotelId: string) => void\n  isWidgetEnabled: boolean\n  isAiChatEnabled: boolean\n}\n\nconst defaultHotel: HotelConfig = {\n  id: \"demo-hotel\",\n  name: \"מלון הדגמה\",\n  hotelId: \"demo-1\",\n  hotelName: \"Demo Hotel\",\n  city: \"Tel Aviv\",\n  stars: 5,\n  currency: \"₪\",\n  enableWidget: true,\n  enableAiChat: true,\n  plan: \"enterprise\",\n  apiSettings: {\n    mediciHotelId: \"\",\n    mediciHotelName: \"\",\n  },\n  widgetSettings: {\n    language: \"he\",\n    showPrices: true,\n    showAvailability: true,\n    primaryColor: \"#1a56db\",\n    secondaryColor: \"#7c3aed\",\n  },\n  aiChatSettings: {\n    welcomeMessage: \"Hello! I'm your AI booking assistant. How can I help you today?\",\n    welcomeMessageHe: \"שלום! אני העוזר החכם שלך להזמנות. איך אוכל לעזור לך היום?\",\n    personality: \"professional\",\n    language: \"he\",\n    primaryColor: \"#10b981\",\n  },\n}\n\nconst HotelConfigContext = createContext<HotelConfigContextType | undefined>(undefined)\n\nexport function HotelConfigProvider({ children }: { children: ReactNode }) {\n  const [hotels, setHotels] = useState<HotelConfig[]>([defaultHotel])\n  const [currentHotel, setCurrentHotelState] = useState<HotelConfig | null>(defaultHotel)\n\n  useEffect(() => {\n    const saved = localStorage.getItem(\"hotelConfigs\")\n    if (saved) {\n      const parsed = JSON.parse(saved)\n      setHotels(parsed)\n      setCurrentHotelState(parsed[0] || defaultHotel)\n    }\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem(\"hotelConfigs\", JSON.stringify(hotels))\n  }, [hotels])\n\n  const setCurrentHotel = (hotel: HotelConfig) => {\n    setCurrentHotelState(hotel)\n  }\n\n  const addHotel = (hotel: HotelConfig) => {\n    setHotels((prev) => [...prev, hotel])\n  }\n\n  const updateHotel = (hotel: HotelConfig) => {\n    setHotels((prev) => prev.map((h) => (h.id === hotel.id ? hotel : h)))\n    if (currentHotel?.id === hotel.id) {\n      setCurrentHotelState(hotel)\n    }\n  }\n\n  const deleteHotel = (hotelId: string) => {\n    setHotels((prev) => prev.filter((h) => h.id !== hotelId))\n    if (currentHotel?.id === hotelId) {\n      setCurrentHotelState(hotels[0] || null)\n    }\n  }\n\n  return (\n    <HotelConfigContext.Provider\n      value={{\n        currentHotel,\n        setCurrentHotel,\n        hotels,\n        addHotel,\n        updateHotel,\n        deleteHotel,\n        isWidgetEnabled: currentHotel?.enableWidget ?? false,\n        isAiChatEnabled: currentHotel?.enableAiChat ?? false,\n      }}\n    >\n      {children}\n    </HotelConfigContext.Provider>\n  )\n}\n\nexport function useHotelConfig() {\n  const context = useContext(HotelConfigContext)\n  if (!context) {\n    throw new Error(\"useHotelConfig must be used within HotelConfigProvider\")\n  }\n  return context\n}\n","// Custom date formatting utilities without date-fns dependency\n\nexport function formatDate(date: Date, locale: \"he\" | \"en\" = \"he\"): string {\n  const options: Intl.DateTimeFormatOptions = {\n    day: \"numeric\",\n    month: \"short\",\n    year: \"numeric\",\n  }\n  return date.toLocaleDateString(locale === \"he\" ? \"he-IL\" : \"en-US\", options)\n}\n\nexport function formatDateShort(date: Date, locale: \"he\" | \"en\" = \"he\"): string {\n  const options: Intl.DateTimeFormatOptions = {\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"2-digit\",\n  }\n  return date.toLocaleDateString(locale === \"he\" ? \"he-IL\" : \"en-US\", options)\n}\n\nexport function formatDateLong(date: Date, locale: \"he\" | \"en\" = \"he\"): string {\n  const options: Intl.DateTimeFormatOptions = {\n    weekday: \"long\",\n    day: \"numeric\",\n    month: \"long\",\n    year: \"numeric\",\n  }\n  return date.toLocaleDateString(locale === \"he\" ? \"he-IL\" : \"en-US\", options)\n}\n\nexport function formatTime(date: Date, locale: \"he\" | \"en\" = \"he\"): string {\n  const options: Intl.DateTimeFormatOptions = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }\n  return date.toLocaleTimeString(locale === \"he\" ? \"he-IL\" : \"en-US\", options)\n}\n\nexport function addDays(date: Date, days: number): Date {\n  const result = new Date(date)\n  result.setDate(result.getDate() + days)\n  return result\n}\n\nexport function subDays(date: Date, days: number): Date {\n  const result = new Date(date)\n  result.setDate(result.getDate() - days)\n  return result\n}\n\nexport function differenceInDays(dateLeft: Date, dateRight: Date): number {\n  const diffTime = Math.abs(dateLeft.getTime() - dateRight.getTime())\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n}\n\nexport function isSameDay(date1: Date, date2: Date): boolean {\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth() &&\n    date1.getDate() === date2.getDate()\n  )\n}\n\nexport function startOfMonth(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth(), 1)\n}\n\nexport function endOfMonth(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0)\n}\n\nexport function eachDayOfInterval(start: Date, end: Date): Date[] {\n  const days: Date[] = []\n  const current = new Date(start)\n  while (current <= end) {\n    days.push(new Date(current))\n    current.setDate(current.getDate() + 1)\n  }\n  return days\n}\n\nexport function getMonthName(date: Date, locale: \"he\" | \"en\" = \"he\"): string {\n  return date.toLocaleDateString(locale === \"he\" ? \"he-IL\" : \"en-US\", { month: \"long\" })\n}\n\nexport function getYear(date: Date): number {\n  return date.getFullYear()\n}\n\nexport function formatDateForApi(date: Date): string {\n  const year = date.getFullYear()\n  const month = String(date.getMonth() + 1).padStart(2, \"0\")\n  const day = String(date.getDate()).padStart(2, \"0\")\n  return `${year}-${month}-${day}`\n}\n","\"use client\"\n\nimport { useParams } from \"next/navigation\"\nimport { BookingProvider } from \"@/lib/booking-context\"\nimport { I18nProvider } from \"@/lib/i18n/context\"\nimport { HotelConfigProvider, useHotelConfig } from \"@/lib/hotel-config-context\"\nimport { WidgetSearchForm } from \"@/components/booking/widget-search-form\"\nimport type { HotelConfig } from \"@/types/saas\"\n\n// Demo hotel config for embed\nconst demoHotelConfig: HotelConfig = {\n  id: \"demo\",\n  name: \"מלון הדגמה\",\n  hotelId: \"demo-1\",\n  hotelName: \"Demo Hotel\",\n  city: \"Tel Aviv\",\n  stars: 5,\n  currency: \"₪\",\n  enableWidget: true,\n  enableAiChat: false,\n  plan: \"enterprise\",\n  apiSettings: {\n    mediciHotelId: \"\",\n    mediciHotelName: \"Grand Hotel\",\n  },\n  widgetSettings: {\n    language: \"he\",\n    showPrices: true,\n    showAvailability: true,\n    primaryColor: \"#1a56db\",\n    secondaryColor: \"#7c3aed\",\n  },\n  aiChatSettings: {\n    welcomeMessage: \"Hello!\",\n    welcomeMessageHe: \"שלום!\",\n    personality: \"professional\",\n    language: \"he\",\n    primaryColor: \"#10b981\",\n  },\n}\n\nfunction WidgetContent() {\n  const params = useParams()\n  const hotelId = params.hotelId as string\n  const { hotels } = useHotelConfig()\n\n  // Find hotel config or use demo\n  const hotelConfig = hotels.find((h) => h.id === hotelId) || demoHotelConfig\n\n  if (!hotelConfig.enableWidget) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n        <div className=\"text-center\">\n          <p className=\"text-muted-foreground\">מנוע ההזמנות אינו פעיל עבור מלון זה</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950 p-4\">\n      <div className=\"max-w-3xl mx-auto\">\n        <BookingProvider>\n          <I18nProvider>\n            <WidgetSearchForm hotelConfig={hotelConfig} />\n          </I18nProvider>\n        </BookingProvider>\n      </div>\n    </div>\n  )\n}\n\nexport default function EmbedWidgetPage() {\n  return (\n    <HotelConfigProvider>\n      <WidgetContent />\n    </HotelConfigProvider>\n  )\n}\n","\"use client\"\n\nimport { useState } from \"react\"\nimport { formatDateForApi } from \"@/lib/date-utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\"\nimport { useBooking } from \"@/lib/booking-context\"\nimport { useI18n } from \"@/lib/i18n/context\"\nimport { cn } from \"@/lib/utils\"\nimport { DatePickerInput } from \"./date-picker-input\"\nimport type { HotelConfig } from \"@/types/saas\"\n\n// Inline SVG icons\nconst UsersIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n  >\n    <path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" />\n    <circle cx=\"9\" cy=\"7\" r=\"4\" />\n    <path d=\"M22 21v-2a4 4 0 0 0-3-3.87\" />\n    <path d=\"M16 3.13a4 4 0 0 1 0 7.75\" />\n  </svg>\n)\n\nconst MinusIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n  >\n    <path d=\"M5 12h14\" />\n  </svg>\n)\n\nconst PlusIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n  >\n    <path d=\"M5 12h14\" />\n    <path d=\"M12 5v14\" />\n  </svg>\n)\n\nconst LoaderIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"animate-spin\"\n  >\n    <path d=\"M21 12a9 9 0 1 1-6.219-8.56\" />\n  </svg>\n)\n\ninterface WidgetSearchFormProps {\n  hotelConfig: HotelConfig\n  onSearch?: () => void\n}\n\nexport function WidgetSearchForm({ hotelConfig, onSearch }: WidgetSearchFormProps) {\n  const {\n    search,\n    setSearch,\n    setCurrentStep,\n    setSearchResults,\n    setIsSearching,\n    setSearchError,\n    isSearching,\n    searchError,\n  } = useBooking()\n  const { t, locale, dir } = useI18n()\n  const [guestsOpen, setGuestsOpen] = useState(false)\n\n  const handleSearch = async () => {\n    if (!search.checkIn || !search.checkOut) {\n      setSearchError(\n        locale === \"he\" ? \"יש לבחור תאריכי צ'ק-אין וצ'ק-אאוט\" : \"Please select check-in and check-out dates\",\n      )\n      return\n    }\n\n    // Use hotel config instead of user input\n    const hotelName = hotelConfig.apiSettings.mediciHotelName\n    if (!hotelName) {\n      setSearchError(locale === \"he\" ? \"המלון לא מוגדר במערכת\" : \"Hotel not configured\")\n      return\n    }\n\n    setIsSearching(true)\n    setSearchError(null)\n\n    try {\n      const dateFrom = formatDateForApi(search.checkIn)\n      const dateTo = formatDateForApi(search.checkOut)\n\n      const params = {\n        hotelName, // Use configured hotel name\n        dateFrom,\n        dateTo,\n        adults: search.adults,\n        children: search.childrenAges || [],\n        limit: 20,\n      }\n\n      const response = await fetch(\"/api/hotels/search\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(params),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Search failed\")\n      }\n\n      const results = data.data || data.results || []\n      setSearchResults(results)\n\n      if (results.length === 0) {\n        setSearchError(locale === \"he\" ? \"לא נמצאו חדרים זמינים בתאריכים אלו\" : \"No rooms available for these dates\")\n      } else {\n        setCurrentStep(2)\n        onSearch?.()\n      }\n    } catch (error: any) {\n      setSearchError(error.message || \"Failed to search\")\n    } finally {\n      setIsSearching(false)\n    }\n  }\n\n  return (\n    <div className=\"bg-card rounded-xl border border-border p-6 shadow-lg\" dir={dir}>\n      {/* Hotel Header */}\n      <div className=\"mb-6 text-center\">\n        <h2 className=\"text-xl font-bold text-foreground\">{hotelConfig.name}</h2>\n        <p className=\"text-sm text-muted-foreground\">{hotelConfig.city}</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {/* Check-in Date */}\n        <DatePickerInput\n          value={search.checkIn}\n          onChange={(date) => setSearch({ ...search, checkIn: date })}\n          minDate={new Date()}\n          label={t(\"checkIn\")}\n          placeholder={t(\"selectDate\")}\n          dir={dir}\n        />\n\n        {/* Check-out Date */}\n        <DatePickerInput\n          value={search.checkOut}\n          onChange={(date) => setSearch({ ...search, checkOut: date })}\n          minDate={search.checkIn ? new Date(search.checkIn.getTime() + 86400000) : new Date()}\n          label={t(\"checkOut\")}\n          placeholder={t(\"selectDate\")}\n          dir={dir}\n        />\n\n        {/* Guests */}\n        <Popover open={guestsOpen} onOpenChange={setGuestsOpen}>\n          <PopoverTrigger asChild>\n            <Button\n              variant=\"outline\"\n              className={cn(\n                \"w-full justify-start h-14 px-4 bg-transparent\",\n                dir === \"rtl\" ? \"text-right\" : \"text-left\",\n              )}\n            >\n              <div className={cn(\"flex flex-col gap-0.5 flex-1\", \"items-start\")}>\n                <span className=\"text-xs text-muted-foreground\">{t(\"guests\")}</span>\n                <span className=\"font-medium\">\n                  {search.adults} {t(\"adults\")}\n                  {search.children > 0 ? `, ${search.children} ${t(\"children\")}` : \"\"}\n                </span>\n              </div>\n              <UsersIcon />\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-72\" align=\"start\">\n            <div className=\"space-y-4\" dir={dir}>\n              {/* Adults */}\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"font-medium\">{t(\"adults\")}</p>\n                  <p className=\"text-sm text-muted-foreground\">{t(\"adultsAge\")}</p>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 bg-transparent\"\n                    onClick={() => setSearch({ ...search, adults: Math.max(1, search.adults - 1) })}\n                    disabled={search.adults <= 1}\n                  >\n                    <MinusIcon />\n                  </Button>\n                  <span className=\"w-8 text-center font-medium\">{search.adults}</span>\n                  <Button\n                    variant=\"outline\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 bg-transparent\"\n                    onClick={() => setSearch({ ...search, adults: Math.min(10, search.adults + 1) })}\n                    disabled={search.adults >= 10}\n                  >\n                    <PlusIcon />\n                  </Button>\n                </div>\n              </div>\n\n              {/* Children */}\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"font-medium\">{t(\"children\")}</p>\n                  <p className=\"text-sm text-muted-foreground\">{t(\"childrenAges\")}</p>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 bg-transparent\"\n                    onClick={() => setSearch({ ...search, children: Math.max(0, search.children - 1) })}\n                    disabled={search.children <= 0}\n                  >\n                    <MinusIcon />\n                  </Button>\n                  <span className=\"w-8 text-center font-medium\">{search.children}</span>\n                  <Button\n                    variant=\"outline\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 bg-transparent\"\n                    onClick={() => setSearch({ ...search, children: Math.min(6, search.children + 1) })}\n                    disabled={search.children >= 6}\n                  >\n                    <PlusIcon />\n                  </Button>\n                </div>\n              </div>\n\n              <Button className=\"w-full\" onClick={() => setGuestsOpen(false)}>\n                {t(\"confirm\")}\n              </Button>\n            </div>\n          </PopoverContent>\n        </Popover>\n      </div>\n\n      {/* Search Button */}\n      <Button\n        className=\"w-full h-14 text-base font-semibold mt-4\"\n        onClick={handleSearch}\n        disabled={isSearching}\n        style={{ backgroundColor: hotelConfig.widgetSettings.primaryColor }}\n      >\n        {isSearching ? (\n          <>\n            <LoaderIcon />\n            <span className=\"ml-2\">{locale === \"he\" ? \"מחפש...\" : \"Searching...\"}</span>\n          </>\n        ) : (\n          t(\"searchAvailability\")\n        )}\n      </Button>\n\n      {searchError && (\n        <div className=\"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-destructive text-sm\">\n          {searchError}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}