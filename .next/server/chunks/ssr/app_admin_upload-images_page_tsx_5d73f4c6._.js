module.exports=[2664,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(40695),e=a.i(5522),f=a.i(17171),g=a.i(3130),h=a.i(83160);function i(){let[a,i]=(0,c.useState)("scarlet-hotel"),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(""),t=async()=>{if(0===l.length)return void s("אנא בחר קבצים להעלאה");o(!0),s("");let b=[];try{let c=(()=>{let a=process.env.NEXT_PUBLIC_SUPABASE_URL,b=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!a||!b)throw Error("Supabase credentials not configured");return(0,h.createClient)(a,b)})();for(let d of l){let e=d.name.split(".").pop(),f=`${Date.now()}-${Math.random().toString(36).substring(7)}.${e}`,g=`${a}/${j||"general"}/${f}`,{data:h,error:i}=await c.storage.from("hotel-assets").upload(g,d,{cacheControl:"3600",upsert:!1});if(i)throw Error(i.message||"שגיאה בהעלאת קובץ");let{data:{publicUrl:k}}=c.storage.from("hotel-assets").getPublicUrl(g);b.push(k)}q(b),m([])}catch(a){s(a.message||"שגיאה בהעלאת התמונות")}finally{o(!1)}};return(0,b.jsx)("div",{className:"container mx-auto py-10",children:(0,b.jsxs)(g.Card,{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"העלאת תמונות חדרים"}),(0,b.jsx)(g.CardDescription,{children:"העלה תמונות של חדרים למלון שיישמרו ב-Supabase Storage"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"hotelId",children:"מזהה מלון"}),(0,b.jsx)(e.Input,{id:"hotelId",value:a,onChange:a=>i(a.target.value),placeholder:"scarlet-hotel"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"roomType",children:"סוג חדר"}),(0,b.jsx)(e.Input,{id:"roomType",value:j,onChange:a=>k(a.target.value),placeholder:"deluxe-suite, standard-room, etc."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"files",children:"תמונות"}),(0,b.jsx)(e.Input,{id:"files",type:"file",multiple:!0,accept:"image/*",onChange:a=>{a.target.files&&m(Array.from(a.target.files))}}),l.length>0&&(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["נבחרו ",l.length," קבצים"]})]}),r&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-700",children:r}),(0,b.jsx)(d.Button,{onClick:t,disabled:n||0===l.length,className:"w-full",children:n?"מעלה...":"העלה תמונות"}),p.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"תמונות שהועלו בהצלחה:"}),(0,b.jsx)("div",{className:"space-y-2",children:p.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("img",{src:a,alt:`Uploaded ${c+1}`,className:"w-20 h-20 object-cover rounded"}),(0,b.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:a})]},c))})]})]})]})})}a.s(["default",()=>i])}];

//# sourceMappingURL=app_admin_upload-images_page_tsx_5d73f4c6._.js.map