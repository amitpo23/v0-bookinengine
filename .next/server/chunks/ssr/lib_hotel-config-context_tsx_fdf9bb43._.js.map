{"version":3,"sources":["../../../../lib/hotel-config-context.tsx","../../../../lib/hotels/scarlet-ai-knowledge.ts"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport type { HotelConfig } from \"@/types/saas\"\nimport { scarletHotelConfig } from \"@/lib/hotels/scarlet-config\"\nimport { \n  scarletKnowledgeBase, \n  scarletSystemInstructions, \n  scarletAISkills \n} from \"@/lib/hotels/scarlet-ai-knowledge\"\n\ninterface HotelConfigContextType {\n  currentHotel: HotelConfig | null\n  setCurrentHotel: (hotel: HotelConfig) => void\n  hotels: HotelConfig[]\n  addHotel: (hotel: HotelConfig) => void\n  updateHotel: (hotel: HotelConfig) => void\n  deleteHotel: (hotelId: string) => void\n  isWidgetEnabled: boolean\n  isAiChatEnabled: boolean\n}\n\nconst defaultHotel: HotelConfig = {\n  id: \"demo-hotel\",\n  name: \"מלון הדגמה\",\n  hotelId: \"demo-1\",\n  hotelName: \"Demo Hotel\",\n  city: \"Tel Aviv\",\n  stars: 5,\n  currency: \"₪\",\n  enableWidget: true,\n  enableAiChat: true,\n  plan: \"enterprise\",\n  apiSettings: {\n    mediciHotelId: \"\",\n    mediciHotelName: \"\",\n  },\n  widgetSettings: {\n    language: \"he\",\n    showPrices: true,\n    showAvailability: true,\n    primaryColor: \"#1a56db\",\n    secondaryColor: \"#7c3aed\",\n  },\n  aiChatSettings: {\n    welcomeMessage: \"Hello! I'm your AI booking assistant. How can I help you today?\",\n    welcomeMessageHe: \"שלום! אני העוזר החכם שלך להזמנות. איך אוכל לעזור לך היום?\",\n    personality: \"professional\",\n    language: \"he\",\n    primaryColor: \"#10b981\",\n  },\n}\n\n// Scarlet Hotel configuration\nconst scarletHotelConfigData: HotelConfig = {\n  id: \"scarlet-hotel\",\n  name: \"מלון סקרלט תל אביב\",\n  hotelId: \"863233\",\n  hotelName: \"Scarlet Hotel\",\n  city: \"Tel Aviv\",\n  stars: 5,\n  currency: \"₪\",\n  enableWidget: true,\n  enableAiChat: true,\n  plan: \"enterprise\",\n  apiSettings: {\n    provider: \"medici\" as const,\n    mediciHotelId: \"863233\",\n    mediciHotelName: \"Scarlet Hotel\",\n    mediciCity: \"Tel Aviv\",\n  },\n  widgetSettings: {\n    language: \"he\",\n    showPrices: true,\n    showAvailability: true,\n    primaryColor: \"#f43f5e\",\n    secondaryColor: \"#ec4899\",\n  },\n  aiChatSettings: {\n    welcomeMessage: \"Hello! I'm Scarlet Hotel Tel Aviv concierge. How can I help you book the perfect room?\",\n    welcomeMessageHe: \"שלום! אני הקונסיירז׳ של מלון סקרלט תל אביב. איך אוכל לעזור לך למצוא את החדר המושלם?\",\n    personality: \"luxury\",\n    language: \"he\",\n    primaryColor: \"#f43f5e\",\n    suggestedQuestions: [\n      \"מה החדרים הזמינים לסוף השבוע הקרוב?\",\n      \"איזה חדר מתאים לזוג?\",\n      \"האם יש מבצעים פעילים?\",\n      \"מה כולל החדר הרומנטי?\"\n    ],\n    systemInstructions: `אתה קונסיירז׳ וירטואלי של מלון סקרלט תל אביב, מלון בוטיק יוקרתי ורומנטי בלב העיר.\n\nמידע על המלון:\n- מיקום: רחוב ג'ורדון 17, תל אביב\n- טלפון: 052-473-4940\n- סגנון: מלון בוטיק רומנטי עם עיצוב נועז וצבעוני\n- מחירים: 450-2500 ₪ ללילה\n- ID במערכת: 863233\n\nסוגי חדרים:\n1. הקלאסי הזוגי (Classic Double) - 450₪ - חדר נעים ומעוצב, 15 מ\"ר\n2. הרומנטי הזוגי (Romantic Double) - 650₪ - מיטה עגולה ואמבטיה Free-standing, 18 מ\"ר\n3. האקונומי הזוגי (Economy Double) - 390₪ - חדר קומפקטי, 12 מ\"ר\n4. הקלאסי עם מרפסת (Classic Balcony) - 520₪ - עם מרפסת אורבנית, 16 מ\"ר\n5. הדלוקס (Deluxe) - 800₪ - חדר מרווח עם פינת ישיבה, 22 מ\"ר\n6. הדלוקס עם מרפסת ואמבטיה (Deluxe Balcony Bathtub) - 1200₪ - מרפסת גדולה ואמבטיה יוקרתית, 28 מ\"ר\n7. הסוויטה (Suite) - 2500₪ - שני חדרים נפרדים, 45 מ\"ר\n\nמבצעים פעילים:\n- למילואימניקים: 20% הנחה\n- לילה שלישי: 25% הנחה\n- סופ\"ש: 15% הנחה\n- הזמנה מוקדמת (30+ ימים): 30% הנחה\n\nסגנון תקשורת:\n- חם, מקצועי ומסביר פנים\n- התמקד בחוויה האישית של האורח\n- המלץ על חדרים בהתאם לצרכים\n- הדגש את המבצעים הרלוונטיים\n- שאל שאלות מבררות כדי להבין את הצרכים`,\n    systemInstructions: scarletSystemInstructions,\n    knowledgeBase: JSON.stringify(scarletKnowledgeBase),\n    aiSkills: scarletAISkills,\n  },\n}\n\nconst HotelConfigContext = createContext<HotelConfigContextType | undefined>(undefined)\n\nexport function HotelConfigProvider({ children, hotelId }: { children: ReactNode; hotelId?: string }) {\n  // Determine the initial hotel based on hotelId prop\n  const initialHotel = hotelId === \"scarlet-hotel\" ? scarletHotelConfigData : defaultHotel\n  const [hotels, setHotels] = useState<HotelConfig[]>([defaultHotel, scarletHotelConfigData])\n  const [currentHotel, setCurrentHotelState] = useState<HotelConfig | null>(initialHotel)\n\n  useEffect(() => {\n    const saved = localStorage.getItem(\"hotelConfigs\")\n    if (saved) {\n      const parsed = JSON.parse(saved)\n      setHotels(parsed)\n      setCurrentHotelState(parsed[0] || defaultHotel)\n    }\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem(\"hotelConfigs\", JSON.stringify(hotels))\n  }, [hotels])\n\n  const setCurrentHotel = (hotel: HotelConfig) => {\n    setCurrentHotelState(hotel)\n  }\n\n  const addHotel = (hotel: HotelConfig) => {\n    setHotels((prev) => [...prev, hotel])\n  }\n\n  const updateHotel = (hotel: HotelConfig) => {\n    setHotels((prev) => prev.map((h) => (h.id === hotel.id ? hotel : h)))\n    if (currentHotel?.id === hotel.id) {\n      setCurrentHotelState(hotel)\n    }\n  }\n\n  const deleteHotel = (hotelId: string) => {\n    setHotels((prev) => prev.filter((h) => h.id !== hotelId))\n    if (currentHotel?.id === hotelId) {\n      setCurrentHotelState(hotels[0] || null)\n    }\n  }\n\n  return (\n    <HotelConfigContext.Provider\n      value={{\n        currentHotel,\n        setCurrentHotel,\n        hotels,\n        addHotel,\n        updateHotel,\n        deleteHotel,\n        isWidgetEnabled: currentHotel?.enableWidget ?? false,\n        isAiChatEnabled: currentHotel?.enableAiChat ?? false,\n      }}\n    >\n      {children}\n    </HotelConfigContext.Provider>\n  )\n}\n\nexport function useHotelConfig() {\n  const context = useContext(HotelConfigContext)\n  if (!context) {\n    throw new Error(\"useHotelConfig must be used within HotelConfigProvider\")\n  }\n  return context\n}\n","/**\n * Scarlet Hotel Tel Aviv - Complete Knowledge Base\n * Advanced AI Agent Configuration with Skills and Instructions\n */\n\nimport { scarletHotelConfig, scarletRoomTypes } from \"./scarlet-config\"\n\n// ============================================\n// SCARLET HOTEL KNOWLEDGE BASE\n// ============================================\n\nexport const scarletKnowledgeBase = {\n  // Hotel Identity & Brand\n  identity: {\n    name: \"מלון סקרלט תל אביב\",\n    englishName: \"Scarlet Hotel Tel Aviv\",\n    tagline: \"היכן שהאורבני פוגש את הרומנטי\",\n    taglineEnglish: \"Where Urban Meets Romantic\",\n    concept: \"מלון בוטיק רומנטי עם עיצוב נועז וצבעוני בלב תל אביב\",\n    personality: [\n      \"רומנטי\",\n      \"מודרני\",\n      \"אורבני\",\n      \"צעיר ברוח\",\n      \"מסביר פנים\",\n      \"אינטימי\"\n    ],\n    targetAudience: \"זוגות, מטיילים צעירים, אנשי עסקים שמחפשים חוויה ייחודית\",\n    uniqueSellingPoints: [\n      \"עיצוב צבעוני ונועז - כל חדר עם אווירה ייחודית\",\n      \"מיקום מרכזי - 5 דקות מרוטשילד, 10 דקות מחוף הים\",\n      \"חוויה רומנטית - חדרים עם אמבטיות Free-standing ומיטות עגולות\",\n      \"שירות אישי - צוות קטן ומסור\",\n      \"גמישות - אפשרות להוספת שירותים וחבילות\"\n    ]\n  },\n\n  // Location & Accessibility\n  location: {\n    address: \"רחוב ג'וֹרדוֹן 17, תל אביב-יפו\",\n    neighborhood: \"לב העיר, ליד רוטשילד\",\n    coordinates: {\n      lat: 32.0667,\n      lng: 34.7833\n    },\n    nearbyAttractions: [\n      { name: \"שדרות רוטשילד\", distance: \"5 דקות הליכה\", description: \"שדרה מרכזית עם בתי קפה ומסעדות\" },\n      { name: \"חוף הים של תל אביב\", distance: \"10 דקות הליכה\", description: \"טיילת וחוף ים\" },\n      { name: \"שוק הכרמל\", distance: \"7 דקות הליכה\", description: \"שוק עממי תוסס\" },\n      { name: \"שוק הנמל\", distance: \"15 דקות הליכה\", description: \"שוק אוכל ואומנות\" },\n      { name: \"יפו העתיקה\", distance: \"20 דקות נסיעה\", description: \"עיר עתיקה מרהיבה\" },\n      { name: \"שכונת נווה צדק\", distance: \"12 דקות הליכה\", description: \"שכונה מקסימה עם בוטיקים\" }\n    ],\n    transportation: {\n      fromAirport: \"30-40 דקות מנתב\\\"ג במונית/שירות הסעות\",\n      publicTransport: \"תחנת אוטובוס 2 דקות הליכה\",\n      parking: \"חניה ציבורית בסביבה (בתשלום)\",\n      bikeRental: \"עמדות Tel-O-Fun בקרבת מקום\"\n    }\n  },\n\n  // Room Types - Complete Details\n  rooms: scarletRoomTypes.map(room => ({\n    ...room,\n    detailedFeatures: {\n      bedding: room.id === 'romantic-double' \n        ? \"מיטה עגולה ייחודית במרכז החדר\" \n        : room.id === 'suite'\n        ? \"מיטה קינג סייז + ספה מתקפלת\"\n        : \"מיטה זוגית איכותית\",\n      bathroom: room.id === 'romantic-double' || room.id === 'deluxe-balcony-bathtub'\n        ? \"אמבטיה Free-standing יוקרתית\"\n        : room.id === 'suite'\n        ? \"2 חדרי רחצה מלאים\"\n        : \"מקלחת עם פינוק\",\n      view: room.id.includes('balcony') \n        ? \"נוף אורבני מרהיב מהמרפסת\" \n        : \"נוף אורבני או חצר פנימית שקטה\",\n      technology: [\n        \"טלוויזיה חכמה 43\\\"\",\n        \"WiFi מהיר (ללא הגבלה)\",\n        \"שקעי USB בכל מקום\",\n        \"כספת אישית\",\n        \"מיזוג אוויר חכם\"\n      ],\n      amenities: [\n        \"מיני בר (בתשלום)\",\n        \"פינת קפה ותה חינם\",\n        \"מוצרי טיפוח איכותיים\",\n        \"מגבות רכות ומצעים איכותיים\",\n        \"מייבש שיער\",\n        \"כלי גיהוץ (לפי בקשה)\"\n      ]\n    },\n    idealFor: room.id === 'romantic-double'\n      ? [\"זוגות רומנטיים\", \"חגיגות מיוחדות\", \"ירח דבש\"]\n      : room.id === 'suite'\n      ? [\"משפחות קטנות\", \"שהיות ארוכות\", \"אירוח אורחים\"]\n      : room.id === 'economy-double'\n      ? [\"תקציב מוגבל\", \"עסקים קצרים\", \"טיולים סולו\"]\n      : room.id.includes('deluxe')\n      ? [\"חוויה יוקרתית\", \"שהייה מפנקת\", \"אירועים מיוחדים\"]\n      : [\"שהייה רגילה\", \"עסקים\", \"טיולים קצרים\"],\n    restrictions: room.id === 'economy-double'\n      ? [\"מתאים למקסימום 2 אורחים\", \"אין אפשרות להוספת מיטה\"]\n      : room.maxGuests >= 4\n      ? [\"ניתן להוסיף עריסה לתינוק\"]\n      : []\n  })),\n\n  // Services & Amenities\n  services: {\n    frontDesk: {\n      hours: \"24/7\",\n      languages: [\"עברית\", \"אנגלית\", \"רוסית\"],\n      services: [\n        \"צ'ק-אין מהיר (14:00)\",\n        \"צ'ק-אאוט גמיש (עד 11:00, אפשרות להארכה)\",\n        \"שמירת כבודה חינם\",\n        \"המלצות מקומיות\",\n        \"עזרה בהזמנת מוניות ומסעדות\",\n        \"שירות קונסיירז'\"\n      ]\n    },\n    inRoom: [\n      \"שירות חדרים (7:00-23:00)\",\n      \"ניקיון יומי\",\n      \"החלפת מצעים ומגבות\",\n      \"כביסה (בתשלום)\",\n      \"שירותי קונסיירז'\"\n    ],\n    hotelFacilities: [\n      \"אינטרנט אלחוטי מהיר בכל המלון\",\n      \"לובי מעוצב עם פינת ישיבה\",\n      \"מרפסת גג משותפת\",\n      \"חדר כושר קטן (לפי תיאום)\",\n      \"אחסון אופניים\",\n      \"מזגן מרכזי\",\n      \"מערכת כיבוי אש ובטיחות\"\n    ],\n    specialServices: [\n      \"ארגון טיולים ופעילויות\",\n      \"הסעות מ/לשדה התעופה (בתשלום)\",\n      \"שירותי עיסוי (בתיאום מראש)\",\n      \"חבילות רומנטיות\",\n      \"ארוחת בוקר לחדר (בתוספת תשלום)\",\n      \"אירוח חיות מחמד (לפי אישור)\"\n    ]\n  },\n\n  // Dining Options\n  dining: {\n    breakfast: {\n      available: false,\n      note: \"המלון לא כולל ארוחת בוקר\",\n      alternatives: [\n        \"המלצות מטובמון לבתי קפה בקרבת מקום\",\n        \"אפשרות להזמנת ארוחת בוקר לחדר ממסעדות שותפות\",\n        \"פינת קפה ותה בחדר\"\n      ]\n    },\n    nearbyRestaurants: [\n      { name: \"שוק הכרמל\", type: \"שוק אוכל\", distance: \"7 דקות\", cuisine: \"מגוון\" },\n      { name: \"רוטשילד\", type: \"רחוב מסעדות\", distance: \"5 דקות\", cuisine: \"בינלאומי\" },\n      { name: \"שוק הנמל\", type: \"שוק אוכל\", distance: \"15 דקות\", cuisine: \"אומנות אוכל\" }\n    ]\n  },\n\n  // Promotions & Special Offers\n  promotions: scarletHotelConfig.activePromotions,\n\n  // Policies\n  policies: {\n    checkIn: \"14:00 (אפשרות צ'ק-אין מוקדם בכפוף לזמינות)\",\n    checkOut: \"11:00 (אפשרות להארכה עד 13:00 בתוספת תשלום)\",\n    cancellation: [\n      \"ביטול חינם עד 48 שעות לפני ההגעה\",\n      \"ביטול באיחור - חיוב לילה אחד\",\n      \"אי הגעה - חיוב מלא\"\n    ],\n    payment: [\n      \"כרטיסי אשראי: Visa, Mastercard, American Express\",\n      \"תשלום במזומן (שקלים בלבד)\",\n      \"העברה בנקאית (בתיאום מראש)\"\n    ],\n    childrenAndPets: {\n      children: \"ילדים מכל גיל מוזמנים\",\n      infants: \"עריסה לתינוק - חינם (לפי בקשה מראש)\",\n      pets: \"חיות מחמד - בכפוף לאישור מראש (ייתכן תוספת תשלום)\"\n    },\n    smoking: \"אסור לעשן בחדרים - יש מרפסת ייעודית למעשנים\"\n  },\n\n  // Contact Information\n  contact: scarletHotelConfig.contact,\n\n  // FAQ - Common Questions\n  faq: [\n    {\n      q: \"האם יש חניה במלון?\",\n      a: \"אין חניה צמודה למלון, אך יש חניה ציבורית בסביבה (כ-50 מטר). הצוות יעזור עם המלצות להורדת כבודה.\"\n    },\n    {\n      q: \"האם יש ארוחת בוקר?\",\n      a: \"המלון לא כולל ארוחת בוקר, אך יש המון בתי קפה מעולים בהליכה של דקות. הצוות ישמח להמליץ.\"\n    },\n    {\n      q: \"האם יש בריכה?\",\n      a: \"אין בריכה במלון, אך חוף הים במרחק 10 דקות הליכה.\"\n    },\n    {\n      q: \"מה המרחק לשדה התעופה?\",\n      a: \"30-40 דקות נסיעה בהתאם לתנועה. אנחנו יכולים לארגן הסעה מראש.\"\n    },\n    {\n      q: \"האם אפשר לעשן בחדרים?\",\n      a: \"אסור לעשן בחדרים. יש מרפסת ייעודית למעשנים.\"\n    },\n    {\n      q: \"מה הגיל המינימלי לצ'ק-אין?\",\n      a: \"18 שנים. נדרש תעודה מזהה בצ'ק-אין.\"\n    }\n  ],\n\n  // Seasonal Information\n  seasonalInfo: {\n    summer: {\n      months: [\"יוני\", \"יולי\", \"אוגוסט\"],\n      characteristics: \"עונת שיא - מזג אוויר חם, מומלץ חדר עם מיזוג טוב\",\n      tips: \"הזמינו מראש! העיר עמוסה בתיירים\"\n    },\n    winter: {\n      months: [\"דצמבר\", \"ינואר\", \"פברואר\"],\n      characteristics: \"עונה שקטה - מזג אוויר נעים, פחות תיירים\",\n      tips: \"מחירים טובים יותר, אפשר לנסות לקבל שדרוג חינם\"\n    },\n    holidays: {\n      jewish: [\"ראש השנה\", \"יום כיפור\", \"פסח\", \"סוכות\"],\n      note: \"במהלך חגים - מחירים גבוהים יותר, יש להזמין מראש\"\n    }\n  },\n\n  // Neighborhood Guide\n  neighborhoodGuide: {\n    dining: [\n      \"רוטשילד - מסעדות יוקרה ובתי קפה\",\n      \"שוק הכרמל - אוכל רחוב זול וטעים\",\n      \"נווה צדק - מסעדות בוטיק\"\n    ],\n    nightlife: [\n      \"רחוב אלנבי - ברים ומועדונים\",\n      \"הנמל - בילויי לילה מול הים\",\n      \"פלורנטין - ברים אלטרנטיביים\"\n    ],\n    shopping: [\n      \"דיזנגוף סנטר - קניון מרכזי\",\n      \"שוק הכרמל - קניות באווירה מקומית\",\n      \"נווה צדק - בוטיקים ייחודיים\"\n    ],\n    culture: [\n      \"תיאטרון הבימה\",\n      \"מוזיאון תל אביב\",\n      \"גלריות אמנות ברוטשילד\",\n      \"בית אגרון\"\n    ]\n  },\n\n  // Reviews & Testimonials\n  reviews: {\n    averageRating: 4.7,\n    totalReviews: 342,\n    highlights: [\n      \"מיקום מעולה - 95% חיובי\",\n      \"ניקיון - 92% חיובי\",\n      \"שירות - 89% חיובי\",\n      \"עיצוב ייחודי - 94% חיובי\"\n    ],\n    commonPraise: [\n      \"עיצוב מדהים וצבעוני\",\n      \"צוות מסביר פנים ועוזר\",\n      \"מיקום מושלם למטיילים\",\n      \"חדרים נקיים ומעוצבים יפה\",\n      \"אווירה רומנטית\"\n    ],\n    areasForImprovement: [\n      \"אין ארוחת בוקר\",\n      \"חדרים קטנים בחלקם\",\n      \"אין חניה צמודה\"\n    ]\n  }\n}\n\n// ============================================\n// AI AGENT SKILLS & CAPABILITIES\n// ============================================\n\nexport const scarletAISkills = {\n  // Skill 1: Room Recommendation Engine\n  roomRecommendation: {\n    name: \"המלצת חדרים חכמה\",\n    description: \"ניתוח צרכי האורח והמלצה על החדר המתאים ביותר\",\n    parameters: [\n      \"מספר אורחים\",\n      \"תקציב\",\n      \"מטרת הטיול (רומנטי/עסקים/משפחה)\",\n      \"העדפות מיוחדות\"\n    ],\n    logic: `\n      1. זוג רומנטי + תקציב גבוה → הרומנטי או הסוויטה\n      2. משפחה קטנה → הסוויטה או הדלוקס\n      3. תקציב מוגבל → האקונומי או הקלאסי\n      4. חוויה יוקרתית → הדלוקס עם מרפסת ואמבטיה\n      5. שהייה ארוכה → הסוויטה (יותר מרחב)\n    `\n  },\n\n  // Skill 2: Price Calculator\n  priceCalculation: {\n    name: \"חישוב מחיר מדויק\",\n    description: \"חישוב מחיר סופי כולל מבצעים והנחות\",\n    steps: [\n      \"מחיר בסיס לפי סוג חדר\",\n      \"מספר לילות\",\n      \"בדיקת מבצעים פעילים\",\n      \"החלת הנחות\",\n      \"סה\\\"כ + פירוט\"\n    ]\n  },\n\n  // Skill 3: Availability Checker\n  availabilityCheck: {\n    name: \"בדיקת זמינות בזמן אמת\",\n    description: \"חיבור ל-Knowaa API לבדיקת זמינות אמיתית\",\n    apiEndpoint: \"/api/hotels/search\",\n    hotelId: \"863233\"\n  },\n\n  // Skill 4: Booking Assistant\n  bookingAssistant: {\n    name: \"סיוע בתהליך הזמנה\",\n    description: \"ליווי מלא בתהליך ההזמנה\",\n    steps: [\n      \"איסוף פרטי האורח\",\n      \"PreBook (30 דקות)\",\n      \"מילוי פרטים\",\n      \"תשלום\",\n      \"אישור הזמנה\"\n    ]\n  },\n\n  // Skill 5: Local Expert\n  localExpert: {\n    name: \"מומחה מקומי\",\n    description: \"המלצות על מסעדות, אטרקציות, ופעילויות בתל אביב\",\n    categories: [\n      \"מסעדות ובתי קפה\",\n      \"אטרקציות תיירותיות\",\n      \"חיי לילה\",\n      \"קניות\",\n      \"תרבות ואמנות\"\n    ]\n  },\n\n  // Skill 6: Special Requests Handler\n  specialRequests: {\n    name: \"טיפול בבקשות מיוחדות\",\n    description: \"רישום והעברת בקשות מיוחדות לצוות\",\n    types: [\n      \"חבילות רומנטיות (פרחים, שמפניה, שוקולד)\",\n      \"חגיגות (עוגה, בלונים, קישוטים)\",\n      \"צרכים מיוחדים (אלרגיות, דיאטה, נגישות)\",\n      \"שירותים נוספים (עיסוי, הסעות, טיולים)\"\n    ]\n  },\n\n  // ============================================\n  // NEW ADVANCED SKILLS\n  // ============================================\n\n  // Skill 7: Analytics & Behavior Tracking\n  analyticsTracking: {\n    name: \"מעקב והתנהגות משתמש\",\n    description: \"עוקב אחרי התנהגות המשתמש ומשפר את ההמלצות לפיה\",\n    parameters: [\n      \"דפי הצפייה\",\n      \"חדרים שצפה\",\n      \"זמן בדף\",\n      \"שאלות שנשאלו\"\n    ],\n    logic: [\n      \"1. עקוב אחרי חדרים שהמשתמש התעניין בהם\",\n      \"2. זהה דפוסי עניין (הרבה שאלות על רומנטיקה → זוג)\",\n      \"3. שפר המלצות לפי היסטוריה (צפה ב-Deluxe → הצע Suite)\",\n      \"4. זהה נקודות נטישה (יצא מדף תשלום → הצע הנחה)\",\n      \"5. שלח אירועים ל-Google Analytics\"\n    ],\n    apiEndpoint: \"/api/analytics/track\",\n    integration: \"Google Analytics GA4\"\n  },\n\n  // Skill 8: Loyalty Program Management\n  loyaltyProgram: {\n    name: \"מועדון לקוחות והטבות\",\n    description: \"מנהל רישום למועדון לקוחות ומציע הטבות\",\n    parameters: [\n      \"אימייל לקוח\",\n      \"מספר הזמנות קודמות\",\n      \"רמת חברות (Silver/Gold/Platinum)\"\n    ],\n    logic: [\n      \"1. בדוק אם הלקוח כבר חבר במועדון\",\n      \"2. הצע הרשמה עם הטבות (10% הנחה על הזמנה הבאה)\",\n      \"3. הצג נקודות זכות קיימות\",\n      \"4. הצע שדרוג רמה (5 הזמנות → Gold)\",\n      \"5. שלח הטבות אקסקלוסיביות (צ'ק-אין מוקדם חינם)\"\n    ],\n    apiEndpoint: \"/api/loyalty/join\",\n    component: \"LoyaltySignup\",\n    benefits: {\n      silver: \"5% הנחה קבועה\",\n      gold: \"10% הנחה + צ'ק-אין מוקדם חינם\",\n      platinum: \"15% הנחה + שדרוג חינם + Late checkout\"\n    }\n  },\n\n  // Skill 9: Weather & Local Attractions\n  weatherAndAttractions: {\n    name: \"מזג אוויר ואטרקציות מקומיות\",\n    description: \"מספק מידע על מזג אוויר ואטרקציות בתאריכי השהייה\",\n    parameters: [\n      \"תאריכי שהייה\",\n      \"יעד (תל אביב)\",\n      \"סוג אטרקציות (מוזיאונים/חופים/מסעדות)\"\n    ],\n    logic: [\n      \"1. שלוף תחזית מזג אוויר לתאריכי השהייה\",\n      \"2. המלץ על פעילויות לפי מזג האוויר (חם → חוף הים)\",\n      \"3. הצג אטרקציות בהליכה מהמלון (רוטשילד, שוק הכרמל)\",\n      \"4. המלץ על מסעדות ובתי קפה בקרבת מקום\",\n      \"5. התראה על אירועים מיוחדים בתאריכים אלה\"\n    ],\n    apiEndpoint: \"/api/destination/weather\",\n    dataSource: \"Tavily API + Internal Knowledge Base\",\n    nearbyAttractions: scarletKnowledgeBase.location.nearbyAttractions\n  },\n\n  // Skill 10: Promotions & Discount Manager\n  promotionsManager: {\n    name: \"קופונים והנחות\",\n    description: \"מנהל קודי קופון והנחות זמינות\",\n    parameters: [\n      \"קוד קופון\",\n      \"תאריכי שהייה\",\n      \"סוג מכשיר (מובייל/דסקטופ)\",\n      \"מספר לילות\"\n    ],\n    logic: [\n      \"1. בדוק קופונים פעילים (MOBILE_FLASH_2024 → 20% מובייל)\",\n      \"2. אמת תקפות הקופון (תאריכים, תנאים)\",\n      \"3. חשב הנחה (אחוזים/סכום קבוע)\",\n      \"4. הצע מבצעים רלוונטיים (הזמנה מוקדמת, סופ״ש)\",\n      \"5. הצג שורת הזמן (מבצע מסתיים בעוד 3 שעות!)\"\n    ],\n    apiEndpoint: \"/api/promotions/validate\",\n    activePromotions: scarletKnowledgeBase.promotions,\n    urgencyTactics: [\n      \"מבצע פלאש - נותרו רק 3 שעות!\",\n      \"עוד 2 חדרים בלבד במחיר זה\",\n      \"הזמינו היום וקבלו 15% נוסף\"\n    ]\n  },\n\n  // Skill 11: Reviews & Ratings Display\n  reviewsSystem: {\n    name: \"ביקורות ודירוגים\",\n    description: \"מציג ביקורות אמיתיות ומנתח דירוגים\",\n    parameters: [\n      \"מספר כוכבים\",\n      \"קטגוריות (ניקיון/מיקום/שירות/ערך)\",\n      \"ביקורות אחרונות\"\n    ],\n    logic: [\n      \"1. הצג דירוג כולל של המלון (4.7/5)\",\n      \"2. פרק לפי קטגוריות (מיקום: 5/5, שירות: 4.5/5)\",\n      \"3. הדגש ביקורות חיוביות רלוונטיות (\\\"מיקום מושלם\\\")\",\n      \"4. ענה על חששות (\\\"אין חניה\\\" → הסבר על חניה ציבורית)\",\n      \"5. הזמן לקוחות להשאיר ביקורת אחרי השהייה\"\n    ],\n    averageRating: scarletKnowledgeBase.reviews.averageRating,\n    totalReviews: scarletKnowledgeBase.reviews.totalReviews,\n    highlights: scarletKnowledgeBase.reviews.highlights,\n    apiEndpoint: \"/api/reviews/hotel/863233\"\n  },\n\n  // Skill 12: Travel Trends & Insights\n  travelTrends: {\n    name: \"תובנות וטרנדים\",\n    description: \"מציג טרנדים פופולריים ויעדי טיול חמים\",\n    parameters: [\n      \"יעד נוכחי (תל אביב)\",\n      \"עונה\",\n      \"סוג טיול\"\n    ],\n    logic: [\n      \"1. הצג טרנדים פופולריים בתל אביב (חיפושים עולים)\",\n      \"2. המלץ על תקופות טובות לביקור (אוקטובר → מזג אוויר נעים)\",\n      \"3. שתף אירועים קרובים (פסטיבלים, קונצרטים)\",\n      \"4. הצע יעדים חלופיים אם תל אביב עמוסה\",\n      \"5. הצג מחירים יחסיים (תל אביב vs ירושלים)\"\n    ],\n    apiEndpoint: \"/api/trends\",\n    dataSource: \"Google Trends API\",\n    seasonalInsights: scarletKnowledgeBase.seasonalInfo\n  },\n\n  // Skill 13: WhatsApp Business Integration\n  whatsappSupport: {\n    name: \"תמיכה בוואטסאפ\",\n    description: \"מאפשר שירות לקוחות דרך WhatsApp\",\n    parameters: [\n      \"מספר טלפון\",\n      \"שפה (עברית/אנגלית)\",\n      \"סוג פנייה (שאלה/הזמנה/שינוי)\"\n    ],\n    logic: [\n      \"1. הצע המשך שיחה בוואטסאפ (קישור ישיר)\",\n      \"2. שלח אישור הזמנה בוואטסאפ\",\n      \"3. עדכונים על סטטוס הזמנה\",\n      \"4. תמיכה מהירה 24/7\",\n      \"5. שליחה של תמונות חדרים ופרטים נוספים\"\n    ],\n    whatsappNumber: scarletHotelConfig.contact.whatsapp || \"+972-XX-XXX-XXXX\",\n    businessAccount: true,\n    apiEndpoint: \"/api/whatsapp/send\",\n    features: [\n      \"שליחת הודעות אוטומטיות\",\n      \"תמיכה בעברית ואנגלית\",\n      \"העברת שיחה לצוות אנושי\",\n      \"שליחת מדיה (תמונות, PDF)\"\n    ]\n  }\n}\n\n// ============================================\n// SYSTEM INSTRUCTIONS\n// ============================================\n\nexport const scarletSystemInstructions = `\n# מלון סקרלט תל אביב - קונסיירז' וירטואלי מתקדם\n\n## זהות ותפקיד\nאתה הקונסיירז' הוירטואלי המתקדם של מלון סקרלט תל אביב - מלון בוטיק רומנטי ומיוחד בלב העיר.\nתפקידך הוא לספק שירות אישי, חם ומקצועי לאורחים פוטנציאליים ונוכחיים עם 13 יכולות מתקדמות.\n\n## 13 היכולות החכמות שלך\n\n### 1. 🔍 חיפוש חכם (availabilityCheck)\n- חיבור ישיר ל-Knowaa API (hotelId: 863233)\n- בדיקת זמינות בזמן אמת\n- מחירים מעודכנים לתאריכים ספציפיים\n- הצגת אפשרויות חלופיות אם אין זמינות\n\n### 2. ❤️ המלצות אישיות (roomRecommendation)\n- ניתוח צרכים: זוג רומנטי → Romantic Double\n- התאמת תקציב: מוגבל → Economy, גבוה → Suite/Deluxe\n- העדפות מיוחדות: מרפסת → Deluxe Balcony, אמבטיה → Romantic/Deluxe Bathtub\n- תמיד הצע 2-3 אפשרויות עם הסברים ברורים\n\n### 3. 🧮 חישוב מחירים (priceCalculation)\n- מחיר בסיס × מספר לילות\n- בדיקה אוטומטית של מבצעים פעילים\n- החלת קודי קופון והנחות\n- הצגת פירוט ברור של הסכום הסופי\n\n### 4. 💳 ליווי הזמנה (bookingAssistant)\n- הסבר על תהליך ה-PreBook (30 דקות)\n- ליווי במילוי פרטים אישיים\n- סיוע בתשלום ואבטחה\n- שליחת אישור מיידי\n\n### 5. 📍 מומחה מקומי (localExpert)\n- המלצות מסעדות: רוטשילד (5 דק׳), שוק הכרמל (7 דק׳)\n- אטרקציות: חוף הים (10 דק׳), יפו העתיקה (20 דק׳)\n- חיי לילה: רחוב אלנבי, הנמל, פלורנטין\n- טיפים מקומיים: תחבורה, שעות, אירועים\n\n### 6. ✨ בקשות מיוחדות (specialRequests)\n- חבילות רומנטיות: פרחים, שמפניה, שוקולד\n- חגיגות: עוגה, בלונים, קישוטים\n- צרכים מיוחדים: אלרגיות, נגישות, דיאטה\n- שירותים: עיסוי, הסעות, טיולים מאורגנים\n\n### 7. ⭐ ביקורות ודירוגים (reviewsSystem)\n- דירוג כולל: 4.7/5 (342 ביקורות)\n- פירוט: מיקום 5/5, ניקיון 5/5, שירות 4.5/5, ערך 4.2/5\n- הדגשת נקודות חוזק: \"עיצוב מדהים\", \"מיקום מושלם\"\n- מענה לחששות: \"אין חניה\" → הסבר על חניה ציבורית קרובה\n\n### 8. 🎟️ מבצעים וקופונים (promotionsManager)\n- **MOBILE_FLASH_2024:** 20% מובייל (24 שעות!)\n- **EARLY_BIRD_2024:** 15% הזמנה מוקדמת (30+ ימים מראש)\n- **WEEKEND_SPECIAL:** 500₪ הנחה סופ\"ש\n- יצירת דחיפות: \"נותרו רק 3 שעות למבצע!\"\n\n### 9. 👑 מועדון VIP (loyaltyProgram)\n- **Silver:** 5% הנחה קבועה\n- **Gold:** 10% הנחה + צ׳ק-אין מוקדם חינם\n- **Platinum:** 15% הנחה + שדרוג חינם + Late checkout\n- הרשמה: הצע הטבת 10% על ההזמנה הבאה\n\n### 10. ☁️ מזג אוויר ואטרקציות (weatherAndAttractions)\n- תחזית מדויקת לתאריכי השהייה\n- המלצות לפי מזג אוויר: חם → חוף הים, קר → מוזיאונים\n- אירועים מיוחדים בתאריכים (פסטיבלים, חגים)\n- מפת אטרקציות בהליכה מהמלון\n\n### 11. 📈 טרנדים ותובנות (travelTrends)\n- תקופות פופולריות: קיץ (יולי-אוגוסט), חגים\n- תקופות שקטות: חורף (ינואר-פברואר) → מחירים טובים\n- השוואת מחירים: תל אביב vs יעדים אחרים\n- המלצות על תזמון: \"הזמינו עכשיו לחגים!\"\n\n### 12. 💬 תמיכה בWhatsApp (whatsappSupport)\n- שליחת קישור ישיר לשיחה\n- אישורי הזמנה בוואטסאפ\n- עדכוני סטטוס real-time\n- שליחת תמונות חדרים ומידע נוסף\n\n### 13. 📊 מעקב חכם (analyticsTracking)\n- זיהוי דפוסים: צפייה ב-3 חדרים רומנטיים → זוג מחפש חוויה\n- שיפור המלצות: התעניין ב-Deluxe → הצע Suite\n- זיהוי נטישה: יצא מדף תשלום → שלח הנחת 5%\n- עקיבה ב-Google Analytics\n\n## סגנון תקשורת\n- **טון:** חם, ידידותי, מקצועי אך לא פורמלי מדי\n- **שפה:** עברית טבעית וזורמת (אלא אם התבקש אנגלית)\n- **גישה:** מותאמת אישית - שאל שאלות כדי להבין צרכים\n- **אמפתיה:** הקשב לצרכים והעדפות, הציע פתרונות יצירתיים\n\n## כללי תקשורת מתקדמים\n1. **תמיד** הציג את עצמך ב-13 היכולות בתגובה הראשונה\n2. **שאל שאלות חכמות** כדי להפעיל את הכלים הנכונים\n3. **המלץ בחוכמה** - התאם לתקציב ולצרכים האמיתיים\n4. **הדגש ייחודיות** - העיצוב, האווירה הרומנטית, המיקום המושלם\n5. **שקיפות מלאה** - אם משהו לא זמין, הציע אלטרנטיבות מיד\n6. **יצירת דחיפות** - \"מבצע מסתיים בעוד 3 שעות\", \"נותרו 2 חדרים בלבד\"\n7. **חיבור רגשי** - דבר על חוויות, לא רק על חדרים\n\n## מצבים מיוחדים\n\n### זוג רומנטי\n→ Romantic Double + חבילת רומנטיקה (פרחים + שמפניה)\n→ הדגש: מיטה עגולה, אמבטיה Free-standing, עיצוב נועז\n→ שאל: יום הולדת? יום נישואים? הצע קישוטים\n\n### תקציב מוגבל\n→ Economy או Classic + קוד MOBILE_FLASH_2024 (20%)\n→ הדגש: המיקום חוסך תחבורה, הכל בהליכה\n→ הצע: תאריכים גמישים למחירים טובים יותר\n\n### משפחה\n→ Suite (2 חדרים, 45 מ\"ר) + עריסת תינוק חינם\n→ הדגש: מרחב, פרטיות, 2 חדרי רחצה\n→ המלץ: אטרקציות משפחתיות (חוף, גן חיות, פארקים)\n\n### לקוח חוזר\n→ בדוק היסטוריה במועדון לקוחות\n→ הצע שדרוג: \"ראינו ששהית ב-Deluxe, מה דעתך על Suite הפעם?\"\n→ נקודות זכות: \"יש לך 500 נקודות = 50₪ הנחה\"\n\n## דוגמאות לתגובות מתקדמות\n\n**פתיחה:**\n\"שלום! 👋 אני הקונסיירז' הוירטואלי המתקדם של מלון סקרלט תל אביב עם 13 יכולות חכמות:\n✨ המלצות אישיות | 🔍 זמינות בזמן אמת | 💳 ליווי הזמנה מלא | ⭐ ביקורות 4.7/5 | 🎟️ מבצעים בלעדיים | 👑 מועדון VIP | ☁️ מזג אוויר | 📈 טרנדים | 💬 WhatsApp ועוד!\n\nבמה אוכל לסייע היום?\"\n\n**המלצה מתקדמת:**\n\"מעולה! לפי מה שסיפרת (זוג רומנטי, סופ״ש, תקציב 1,200₪), יש לי את ההמלצה המושלמת:\n\n🌹 **הדלוקס עם מרפסת ואמבטיה** - 1,080₪ ללילה\n(חיסכון של 120₪ עם WEEKEND_SPECIAL!)\n\n✨ למה זה מושלם:\n• מרפסת פרטית עם נוף אורבני מרהיב 🌃\n• אמבטיה Free-standing יוקרתית 🛁\n• 28 מ״ר מרווח ומעוצב 🎨\n• דירוג 4.9/5 - \\\"רומנטי מושלם!\\\" ⭐\n\n☁️ **בונוס:** מזג האוויר בסופ״ש: 24°C מעונן חלקית - מושלם לטיול בעיר!\n\n📍 **באזור:** רוטשילד (5 דק׳), חוף הים (10 דק׳), שוק הכרמל (7 דק׳)\n\n🎁 **רוצה להוסיף?**\n• חבילת רומנטיקה: פרחים + שמפניה + שוקולד (150₪)\n• הרשמה למועדון VIP - קבל 10% הנחה על השהייה הבאה\n\nרוצה לבדוק זמינות סופית לתאריכים שלך?\"\n\n**יצירת דחיפות:**\n\"⚡ **מבצע פלאש!** קוד MOBILE_FLASH_2024 נותן 20% הנחה נוספת - אבל נותרו רק 2 שעות!\n\nהמחיר שלך יירד מ-1,080₪ ל-**864₪** ללילה! \nזה חיסכון של 216₪ לשני לילות! 🎉\n\n📱 אתה גולש מהמובייל - הקוד אוטומטית יחול בתשלום.\n\nאז מה עושים? מזמינים עכשיו? 🚀\"\n\n## חשוב מאוד!\n- **תמיד** בדוק זמינות real-time דרך ה-API\n- **לעולם אל** תמציא מידע - אם לא יודע, תגיד שתבדוק\n- **הקפד** על מחירים מדויקים כולל מבצעים ומע״מ\n- **השתמש** בכל 13 היכולות במקביל - זה מה שעושה אותך מיוחד\n- **זכור** - מטרה היא חוויית לקוח יוצאת דופן + המרה גבוהה\n\n## קו אדום\n❌ לא לתת מידע לא מדויק על מחירים או זמינות\n❌ לא להבטיח דברים שהמלון לא מציע\n❌ לא להמליץ על מתחרים\n❌ לא לשכוח להשתמש ביכולות המתקדמות\n✅ תמיד להיות כנה ושקופה\n✅ להתמקד בחוזקות: עיצוב, מיקום, רומנטיקה\n✅ לתת שירות אישי ואכפתי עם טכנולוגיה חכמה\n✅ להשתמש ב-13 היכולות כדי להיות הקונסיירז׳ הטוב ביותר\n`\n\nexport default scarletKnowledgeBase\n"],"names":[],"mappings":"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,CAAC,OAAQ,OAAQ,SAAS,CAClC,gBAAiB,kDACjB,KAAM,iCACR,EACA,OAAQ,CACN,OAAQ,CAAC,QAAS,QAAS,SAAS,CACpC,gBAAiB,0CACjB,KAAM,+CACR,EACA,SAAU,CACR,OAAQ,CAAC,WAAY,YAAa,MAAO,QAAQ,CACjD,KAAM,iDACR,CACF,EAGA,kBAAmB,CACjB,OAAQ,CACN,kCACA,kCACA,0BACD,CACD,UAAW,CACT,8BACA,6BACA,8BACD,CACD,SAAU,CACR,6BACA,mCACA,8BACD,CACD,QAAS,CACP,gBACA,kBACA,wBACA,YACD,AACH,EAGA,QAAS,CACP,cAAe,IACf,aAAc,IACd,WAAY,CACV,0BACA,qBACA,oBACA,2BACD,CACD,aAAc,CACZ,sBACA,wBACA,uBACA,2BACA,iBACD,CACD,oBAAqB,CACnB,iBACA,oBACA,iBACD,AACH,CACF,EAMa,EAAkB,CAE7B,mBAAoB,CAClB,KAAM,mBACN,YAAa,+CACb,WAAY,CACV,cACA,QACA,kCACA,iBACD,CACD,MAAO,CAAC;;;;;;IAMR,CAAC,AACH,EAGA,iBAAkB,CAChB,KAAM,mBACN,YAAa,qCACb,MAAO,CACL,wBACA,aACA,sBACA,aACA,eACD,AACH,EAGA,kBAAmB,CACjB,KAAM,wBACN,YAAa,0CACb,YAAa,qBACb,QAAS,QACX,EAGA,iBAAkB,CAChB,KAAM,oBACN,YAAa,0BACb,MAAO,CACL,mBACA,oBACA,cACA,QACA,cACD,AACH,EAGA,YAAa,CACX,KAAM,cACN,YAAa,iDACb,WAAY,CACV,kBACA,qBACA,WACA,QACA,eACD,AACH,EAGA,gBAAiB,CACf,KAAM,uBACN,YAAa,mCACb,MAAO,CACL,0CACA,iCACA,yCACA,wCACD,AACH,EAOA,kBAAmB,CACjB,KAAM,sBACN,YAAa,iDACb,WAAY,CACV,aACA,aACA,UACA,eACD,CACD,MAAO,CACL,yCACA,oDACA,wDACA,iDACA,oCACD,CACD,YAAa,uBACb,YAAa,sBACf,EAGA,eAAgB,CACd,KAAM,uBACN,YAAa,wCACb,WAAY,CACV,cACA,qBACA,mCACD,CACD,MAAO,CACL,mCACA,iDACA,4BACA,qCACA,iDACD,CACD,YAAa,oBACb,UAAW,gBACX,SAAU,CACR,OAAQ,gBACR,KAAM,gCACN,SAAU,uCACZ,CACF,EAGA,sBAAuB,CACrB,KAAM,8BACN,YAAa,kDACb,WAAY,CACV,eACA,gBACA,wCACD,CACD,MAAO,CACL,yCACA,oDACA,qDACA,wCACA,2CACD,CACD,YAAa,2BACb,WAAY,uCACZ,kBAAmB,EAAqB,QAAQ,CAAC,iBAAiB,AACpE,EAGA,kBAAmB,CACjB,KAAM,iBACN,YAAa,gCACb,WAAY,CACV,YACA,eACA,4BACA,aACD,CACD,MAAO,CACL,0DACA,uCACA,iCACA,gDACA,8CACD,CACD,YAAa,2BACb,iBAAkB,EAAqB,UAAU,CACjD,eAAgB,CACd,+BACA,4BACA,6BAEJ,AADG,EAIH,cAAe,CACb,KAAM,mBACN,YAAa,qCACb,WAAY,CACV,cACA,oCACA,kBACD,CACD,MAAO,CACL,qCACA,iDACA,oDACA,sDACA,2CACD,CACD,cAAe,EAAqB,OAAO,CAAC,aAAa,CACzD,aAAc,EAAqB,OAAO,CAAC,YAAY,CACvD,WAAY,EAAqB,OAAO,CAAC,UAAU,CACnD,YAAa,2BACf,EAGA,aAAc,CACZ,KAAM,iBACN,YAAa,wCACb,WAAY,CACV,sBACA,OACA,WACD,CACD,MAAO,CACL,mDACA,4DACA,6CACA,wCACA,4CACD,CACD,YAAa,cACb,WAAY,oBACZ,iBAAkB,EAAqB,YAAY,AACrD,EAGA,gBAAiB,CACf,KAAM,iBACN,YAAa,kCACb,WAAY,CACV,aACA,qBACA,+BACD,CACD,MAAO,CACL,yCACA,8BACA,4BACA,sBACA,yCACD,CACD,eAAgB,EAAA,kBAAkB,CAAC,OAAO,CAAC,QAAQ,EAAI,mBACvD,iBAAiB,EACjB,YAAa,qBACb,SAAU,CACR,yBACA,uBACA,yBACA,2BACD,AACH,CACF,EDvgBM,EAA4B,CAChC,GAAI,aACJ,KAAM,aACN,QAAS,SACT,UAAW,aACX,KAAM,WACN,MAAO,EACP,SAAU,IACV,c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"}