module.exports=[76058,29457,30342,4272,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(81213);let e=(0,c.createContext)(void 0);function f({children:a,initialHotel:f}){let[g,h]=(0,c.useState)(f||null),[i,j]=(0,c.useState)({hotelId:f?.id||"",checkIn:new Date,checkOut:(0,d.addDays)(new Date,1),adults:2,children:0,childrenAges:[],rooms:1,city:"",hotelName:""}),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(1),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),E=Math.ceil((new Date(i.checkOut).getTime()-new Date(i.checkIn).getTime())/864e5),F=w?.priceConfirmed||w?.price||k.reduce((a,b)=>a+b.ratePlan.price*b.quantity*E,0),G=(a,b)=>{l(c=>c.filter(c=>c.room.id!==a||c.ratePlan.id!==b))};return(0,b.jsx)(e.Provider,{value:{hotel:g,setHotel:h,search:i,setSearch:j,selectedRooms:k,addRoom:a=>{l(b=>b.find(b=>b.room.id===a.room.id&&b.ratePlan.id===a.ratePlan.id)?b.map(b=>b.room.id===a.room.id&&b.ratePlan.id===a.ratePlan.id?{...b,quantity:b.quantity+a.quantity}:b):[...b,a])},removeRoom:G,updateRoomQuantity:(a,b,c)=>{c<=0?G(a,b):l(d=>d.map(d=>d.room.id===a&&d.ratePlan.id===b?{...d,quantity:c}:d))},clearRooms:()=>l([]),guestDetails:m,setGuestDetails:n,currentStep:o,setCurrentStep:p,nights:E,totalPrice:F,searchResults:q,setSearchResults:r,isSearching:s,setIsSearching:t,searchError:u,setSearchError:v,apiBookingData:w,setApiBookingData:x,isPreBooking:y,setIsPreBooking:z,preBookError:A,setPreBookError:B,bookingConfirmation:C,setBookingConfirmation:D},children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useBooking must be used within a BookingProvider");return a}a.s(["BookingProvider",()=>f,"useBooking",()=>g],76058);let h={he:{checkIn:"צ'ק-אין",checkOut:"צ'ק-אאוט",selectDate:"בחר תאריך",guests:"אורחים",adults:"מבוגרים",children:"ילדים",childrenAges:"גיל 0-17",adultsAge:"גיל 18+",rooms:"חדרים",confirm:"אישור",searchAvailability:"חפש זמינות",upToGuests:"עד {count} אורחים",sqm:"מ״ר",roomsLeft:"נותרו {count} חדרים!",select:"בחר",nights:"לילות",night:"לילה",forNights:"ל-{count} {nightsText}",roomOnly:"לינה בלבד",breakfast:"כולל ארוחת בוקר",halfBoard:"חצי פנסיון",fullBoard:"פנסיון מלא",allInclusive:"הכל כלול",freeCancellation:"ביטול חינם",nonRefundable:"ללא החזר",partialRefund:"ביטול חלקי",bookingSummary:"סיכום הזמנה",noRoomsSelected:"טרם נבחרו חדרים",totalRooms:"סה״כ חדרים",vat:"מע״מ (17%)",totalToPay:"סה״כ לתשלום",continueToBooking:"המשך להזמנה",guestDetails:"פרטי האורח",firstName:"שם פרטי",lastName:"שם משפחה",email:"אימייל",phone:"טלפון",country:"מדינה",estimatedArrival:"שעת הגעה משוערת",selectTime:"בחר שעה",specialRequests:"בקשות מיוחדות",specialRequestsPlaceholder:"קומה גבוהה, מיטת תינוק, אלרגיות...",specialRequestsNote:"בקשות מיוחדות כפופות לזמינות ואינן מובטחות",checkInPolicy:"מדיניות הצ'ק-אין של {hotelName}",continueToPayment:"המשך לתשלום",requiredField:"שדה חובה",invalidEmail:"כתובת אימייל לא תקינה",invalidPhone:"מספר טלפון לא תקין",later:"מאוחר יותר",securePayment:"פרטי תשלום מאובטח",securePaymentStripe:"תשלום מאובטח באמצעות Stripe",encryptedSecure:"הפרטים שלך מוצפנים ומאובטחים בתקן PCI-DSS",termsAgree:"קראתי ואני מסכים/ה ל",bookingTerms:"תנאי ההזמנה",and:"ול",cancellationPolicy:"מדיניות הביטולים",mustAgreeTerms:"יש לאשר את תנאי ההזמנה",subtotal:"סכום ביניים",pay:"שלם",processingPayment:"מעבד תשלום...",loadingPaymentForm:"טוען טופס תשלום מאובטח...",paymentError:"שגיאה בעיבוד התשלום",paymentFormError:"שגיאה בטעינת טופס התשלום",bookingConfirmed:"ההזמנה אושרה!",confirmationSent:"אישור נשלח לכתובת:",paidViaStripe:"שולם באמצעות Stripe",confirmationNumber:"מספר אישור",paymentId:"מזהה תשלום:",bookedRooms:"חדרים שהוזמנו",stayDuration:"משך השהייה",guestName:"שם",printConfirmation:"הדפס אישור",downloadPdf:"הורד PDF",contactHelp:"לשאלות או שינויים בהזמנה, אנא צרו קשר:",totalPaid:"סה״כ שולם",from:"מ-",until:"עד",step1:"בחירת תאריכים",step2:"בחירת חדרים",step3:"פרטי אורח",step4:"תשלום",israel:"ישראל",usa:"ארצות הברית",uk:"בריטניה",germany:"גרמניה",france:"צרפת",italy:"איטליה",spain:"ספרד",russia:"רוסיה",language:"שפה",hebrew:"עברית",english:"English"},en:{checkIn:"Check-in",checkOut:"Check-out",selectDate:"Select date",guests:"Guests",adults:"Adults",children:"Children",childrenAges:"Ages 0-17",adultsAge:"Ages 18+",rooms:"Rooms",confirm:"Confirm",searchAvailability:"Search Availability",upToGuests:"Up to {count} guests",sqm:"sqm",roomsLeft:"Only {count} rooms left!",select:"Select",nights:"nights",night:"night",forNights:"for {count} {nightsText}",roomOnly:"Room only",breakfast:"Breakfast included",halfBoard:"Half board",fullBoard:"Full board",allInclusive:"All inclusive",freeCancellation:"Free cancellation",nonRefundable:"Non-refundable",partialRefund:"Partial refund",bookingSummary:"Booking Summary",noRoomsSelected:"No rooms selected",totalRooms:"Total rooms",vat:"VAT (17%)",totalToPay:"Total to pay",continueToBooking:"Continue to booking",guestDetails:"Guest Details",firstName:"First name",lastName:"Last name",email:"Email",phone:"Phone",country:"Country",estimatedArrival:"Estimated arrival time",selectTime:"Select time",specialRequests:"Special requests",specialRequestsPlaceholder:"High floor, baby crib, allergies...",specialRequestsNote:"Special requests are subject to availability",checkInPolicy:"{hotelName} check-in policy",continueToPayment:"Continue to payment",requiredField:"Required field",invalidEmail:"Invalid email address",invalidPhone:"Invalid phone number",later:"Later",securePayment:"Secure Payment Details",securePaymentStripe:"Secure payment via Stripe",encryptedSecure:"Your details are encrypted and PCI-DSS compliant",termsAgree:"I have read and agree to the",bookingTerms:"booking terms",and:"and",cancellationPolicy:"cancellation policy",mustAgreeTerms:"You must agree to the terms",subtotal:"Subtotal",pay:"Pay",processingPayment:"Processing payment...",loadingPaymentForm:"Loading secure payment form...",paymentError:"Payment processing error",paymentFormError:"Error loading payment form",bookingConfirmed:"Booking Confirmed!",confirmationSent:"Confirmation sent to:",paidViaStripe:"Paid via Stripe",confirmationNumber:"Confirmation number",paymentId:"Payment ID:",bookedRooms:"Booked rooms",stayDuration:"Stay duration",guestName:"Name",printConfirmation:"Print confirmation",downloadPdf:"Download PDF",contactHelp:"For questions or changes, please contact:",totalPaid:"Total paid",from:"From",until:"Until",step1:"Select dates",step2:"Select rooms",step3:"Guest details",step4:"Payment",israel:"Israel",usa:"United States",uk:"United Kingdom",germany:"Germany",france:"France",italy:"Italy",spain:"Spain",russia:"Russia",language:"Language",hebrew:"עברית",english:"English"}},i=(0,c.createContext)(void 0);function j({children:a,defaultLocale:d="he"}){let[e,f]=(0,c.useState)(d),g=(0,c.useCallback)((a,b)=>{let c=h[e][a]||h.he[a]||a;return b&&Object.entries(b).forEach(([a,b])=>{c=c.replace(`{${a}}`,String(b))}),c},[e]),j="he"===e?"rtl":"ltr",k="he"===e?"he-IL":"en-US";return(0,b.jsx)(i.Provider,{value:{locale:e,setLocale:f,t:g,dir:j,dateLocale:k},children:a})}function k(){let a=(0,c.useContext)(i);if(!a)throw Error("useI18n must be used within an I18nProvider");return a}a.s(["I18nProvider",()=>j,"useI18n",()=>k],29457);var l=a.i(7554),m=a.i(70121),n=a.i(50104),o=a.i(96743),p=a.i(86228),q=a.i(22297),r=a.i(92843),s=a.i(4691),t=a.i(92616),u=a.i(77192),v=a.i(30553),w=a.i(11011),x=a.i(25152),y=a.i(41852),z=a.i(52081),A="Popover",[B,C]=(0,n.createContextScope)(A,[s.createPopperScope]),D=(0,s.createPopperScope)(),[E,F]=B(A),G=a=>{let{__scopePopover:d,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!1}=a,j=D(d),k=c.useRef(null),[l,m]=c.useState(!1),[n=!1,o]=(0,x.useControllableState)({prop:f,defaultProp:g,onChange:h});return(0,b.jsx)(s.Root,{...j,children:(0,b.jsx)(E,{scope:d,contentId:(0,r.useId)(),triggerRef:k,open:n,onOpenChange:o,onOpenToggle:c.useCallback(()=>o(a=>!a),[o]),hasCustomAnchor:l,onCustomAnchorAdd:c.useCallback(()=>m(!0),[]),onCustomAnchorRemove:c.useCallback(()=>m(!1),[]),modal:i,children:e})})};G.displayName=A;var H="PopoverAnchor";c.forwardRef((a,d)=>{let{__scopePopover:e,...f}=a,g=F(H,e),h=D(e),{onCustomAnchorAdd:i,onCustomAnchorRemove:j}=g;return c.useEffect(()=>(i(),()=>j()),[i,j]),(0,b.jsx)(s.Anchor,{...h,...f,ref:d})}).displayName=H;var I="PopoverTrigger",J=c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=F(I,d),g=D(d),h=(0,m.useComposedRefs)(c,f.triggerRef),i=(0,b.jsx)(v.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":U(f.open),...e,ref:h,onClick:(0,l.composeEventHandlers)(a.onClick,f.onOpenToggle)});return f.hasCustomAnchor?i:(0,b.jsx)(s.Anchor,{asChild:!0,...g,children:i})});J.displayName=I;var K="PopoverPortal",[L,M]=B(K,{forceMount:void 0}),N=a=>{let{__scopePopover:c,forceMount:d,children:e,container:f}=a,g=F(K,c);return(0,b.jsx)(L,{scope:c,forceMount:d,children:(0,b.jsx)(u.Presence,{present:d||g.open,children:(0,b.jsx)(t.Portal,{asChild:!0,container:f,children:e})})})};N.displayName=K;var O="PopoverContent",P=c.forwardRef((a,c)=>{let d=M(O,a.__scopePopover),{forceMount:e=d.forceMount,...f}=a,g=F(O,a.__scopePopover);return(0,b.jsx)(u.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(Q,{...f,ref:c}):(0,b.jsx)(R,{...f,ref:c})})});P.displayName=O;var Q=c.forwardRef((a,d)=>{let e=F(O,a.__scopePopover),f=c.useRef(null),g=(0,m.useComposedRefs)(d,f),h=c.useRef(!1);return c.useEffect(()=>{let a=f.current;if(a)return(0,y.hideOthers)(a)},[]),(0,b.jsx)(z.RemoveScroll,{as:w.Slot,allowPinchZoom:!0,children:(0,b.jsx)(S,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,l.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),h.current||e.triggerRef.current?.focus()}),onPointerDownOutside:(0,l.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;h.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:(0,l.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),R=c.forwardRef((a,d)=>{let e=F(O,a.__scopePopover),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(S,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),S=c.forwardRef((a,c)=>{let{__scopePopover:d,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,disableOutsidePointerEvents:h,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onInteractOutside:l,...m}=a,n=F(O,d),r=D(d);return(0,p.useFocusGuards)(),(0,b.jsx)(q.FocusScope,{asChild:!0,loop:!0,trapped:e,onMountAutoFocus:f,onUnmountAutoFocus:g,children:(0,b.jsx)(o.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:h,onInteractOutside:l,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onDismiss:()=>n.onOpenChange(!1),children:(0,b.jsx)(s.Content,{"data-state":U(n.open),role:"dialog",id:n.contentId,...r,...m,ref:c,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),T="PopoverClose";function U(a){return a?"open":"closed"}c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=F(T,d);return(0,b.jsx)(v.Primitive.button,{type:"button",...e,ref:c,onClick:(0,l.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})}).displayName=T,c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=D(d);return(0,b.jsx)(s.Arrow,{...f,...e,ref:c})}).displayName="PopoverArrow";var V=a.i(97895);function W({...a}){return(0,b.jsx)(G,{"data-slot":"popover",...a})}function X({...a}){return(0,b.jsx)(J,{"data-slot":"popover-trigger",...a})}function Y({className:a,align:c="center",sideOffset:d=4,...e}){return(0,b.jsx)(N,{children:(0,b.jsx)(P,{"data-slot":"popover-content",align:c,sideOffset:d,className:(0,V.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",a),...e})})}a.s(["Popover",()=>W,"PopoverContent",()=>Y,"PopoverTrigger",()=>X],30342);var Z=a.i(40695);let $=()=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M8 2v4"}),(0,b.jsx)("path",{d:"M16 2v4"}),(0,b.jsx)("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),(0,b.jsx)("path",{d:"M3 10h18"})]}),_=()=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"m15 18-6-6 6-6"})}),aa=()=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"m9 18 6-6-6-6"})}),ab=["א'","ב'","ג'","ד'","ה'","ו'","ש'"],ac=["Su","Mo","Tu","We","Th","Fr","Sa"],ad=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],ae=["January","February","March","April","May","June","July","August","September","October","November","December"];function af({value:a,onChange:d,minDate:e,label:f,placeholder:g,dir:h="ltr"}){let i,j,k,[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(()=>a||new Date),p="rtl"===h,q=p?ad:ae;(0,c.useEffect)(()=>{a&&o(a)},[a]);let r=a=>{if(!e)return!1;let b=new Date(a);b.setHours(0,0,0,0);let c=new Date(e);return c.setHours(0,0,0,0),b<c},s=a=>{let b=new Date;return a.getDate()===b.getDate()&&a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()},t=b=>!!a&&b.getDate()===a.getDate()&&b.getMonth()===a.getMonth()&&b.getFullYear()===a.getFullYear(),u=a=>{let b=new Date(n.getFullYear(),n.getMonth(),a);r(b)||(d(b),m(!1))};return(0,b.jsxs)(W,{open:l,onOpenChange:m,children:[(0,b.jsx)(X,{asChild:!0,children:(0,b.jsxs)(Z.Button,{variant:"outline",className:(0,V.cn)("w-full justify-start h-14 px-4","rtl"===h?"text-right":"text-left",!a&&"text-muted-foreground"),children:[(0,b.jsxs)("div",{className:(0,V.cn)("flex flex-col gap-0.5 flex-1","items-start"),children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:f}),(0,b.jsx)("span",{className:"font-medium",children:a?(i=a.getDate(),j=q[a.getMonth()],k=a.getFullYear(),p?`${i} ${j}, ${k}`:`${j} ${i}, ${k}`):g})]}),(0,b.jsx)($,{})]})}),(0,b.jsx)(Y,{className:"w-auto p-0",align:"start",children:(0,b.jsxs)("div",{className:"p-3",dir:"ltr",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(Z.Button,{variant:"outline",size:"icon",className:"h-7 w-7 bg-transparent",onClick:()=>{o(new Date(n.getFullYear(),n.getMonth()-1,1))},children:(0,b.jsx)(_,{})}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:[q[n.getMonth()]," ",n.getFullYear()]}),(0,b.jsx)(Z.Button,{variant:"outline",size:"icon",className:"h-7 w-7 bg-transparent",onClick:()=>{o(new Date(n.getFullYear(),n.getMonth()+1,1))},children:(0,b.jsx)(aa,{})})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:(p?ab:ac).map(a=>(0,b.jsx)("div",{className:"h-9 w-9 flex items-center justify-center text-xs text-muted-foreground font-normal",children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let a=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),c=new Date(n.getFullYear(),n.getMonth(),1).getDay(),d=[];for(let a=0;a<c;a++)d.push((0,b.jsx)("div",{className:"h-9 w-9"},`empty-${a}`));for(let c=1;c<=a;c++){let a=new Date(n.getFullYear(),n.getMonth(),c),e=r(a),f=t(a),g=s(a);d.push((0,b.jsx)("button",{type:"button",onClick:()=>u(c),disabled:e,className:(0,V.cn)("h-9 w-9 rounded-md text-sm font-normal transition-colors","hover:bg-accent hover:text-accent-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",e&&"text-muted-foreground opacity-50 cursor-not-allowed hover:bg-transparent",f&&"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground",g&&!f&&"bg-accent text-accent-foreground"),children:c},c))}return d})()})]})})]})}a.s(["DatePickerInput",()=>af],4272)}];

//# sourceMappingURL=lib_booking-context_tsx_ba6efe3f._.js.map