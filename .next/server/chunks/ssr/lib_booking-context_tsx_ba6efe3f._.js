module.exports=[76058,30342,4272,a=>{"use strict";var b=a.i(82746),c=a.i(80940),d=a.i(81213);let e=(0,c.createContext)(void 0);function f({children:a,initialHotel:f}){let[g,h]=(0,c.useState)(f||null),[i,j]=(0,c.useState)({hotelId:f?.id||"",checkIn:new Date,checkOut:(0,d.addDays)(new Date,1),adults:2,children:0,childrenAges:[],rooms:1,city:"",hotelName:""}),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(1),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),E=Math.ceil((new Date(i.checkOut).getTime()-new Date(i.checkIn).getTime())/864e5),F=w?.priceConfirmed||w?.price||k.reduce((a,b)=>a+b.ratePlan.price*b.quantity*E,0),G=(a,b)=>{l(c=>c.filter(c=>c.room.id!==a||c.ratePlan.id!==b))};return(0,b.jsx)(e.Provider,{value:{hotel:g,setHotel:h,search:i,setSearch:j,selectedRooms:k,addRoom:a=>{l(b=>b.find(b=>b.room.id===a.room.id&&b.ratePlan.id===a.ratePlan.id)?b.map(b=>b.room.id===a.room.id&&b.ratePlan.id===a.ratePlan.id?{...b,quantity:b.quantity+a.quantity}:b):[...b,a])},removeRoom:G,updateRoomQuantity:(a,b,c)=>{c<=0?G(a,b):l(d=>d.map(d=>d.room.id===a&&d.ratePlan.id===b?{...d,quantity:c}:d))},clearRooms:()=>l([]),guestDetails:m,setGuestDetails:n,currentStep:o,setCurrentStep:p,nights:E,totalPrice:F,searchResults:q,setSearchResults:r,isSearching:s,setIsSearching:t,searchError:u,setSearchError:v,apiBookingData:w,setApiBookingData:x,isPreBooking:y,setIsPreBooking:z,preBookError:A,setPreBookError:B,bookingConfirmation:C,setBookingConfirmation:D},children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useBooking must be used within a BookingProvider");return a}a.s(["BookingProvider",()=>f,"useBooking",()=>g],76058);var h=a.i(38032),i=a.i(34051),j=a.i(55831),k=a.i(15904),l=a.i(34997),m=a.i(41282),n=a.i(33665),o=a.i(49584),p=a.i(17513),q=a.i(8995),r=a.i(79197),s=a.i(3339),t=a.i(50150),u=a.i(16164),v=a.i(10649),w="Popover",[x,y]=(0,j.createContextScope)(w,[o.createPopperScope]),z=(0,o.createPopperScope)(),[A,B]=x(w),C=a=>{let{__scopePopover:d,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!1}=a,j=z(d),k=c.useRef(null),[l,m]=c.useState(!1),[p=!1,q]=(0,t.useControllableState)({prop:f,defaultProp:g,onChange:h});return(0,b.jsx)(o.Root,{...j,children:(0,b.jsx)(A,{scope:d,contentId:(0,n.useId)(),triggerRef:k,open:p,onOpenChange:q,onOpenToggle:c.useCallback(()=>q(a=>!a),[q]),hasCustomAnchor:l,onCustomAnchorAdd:c.useCallback(()=>m(!0),[]),onCustomAnchorRemove:c.useCallback(()=>m(!1),[]),modal:i,children:e})})};C.displayName=w;var D="PopoverAnchor";c.forwardRef((a,d)=>{let{__scopePopover:e,...f}=a,g=B(D,e),h=z(e),{onCustomAnchorAdd:i,onCustomAnchorRemove:j}=g;return c.useEffect(()=>(i(),()=>j()),[i,j]),(0,b.jsx)(o.Anchor,{...h,...f,ref:d})}).displayName=D;var E="PopoverTrigger",F=c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=B(E,d),g=z(d),j=(0,i.useComposedRefs)(c,f.triggerRef),k=(0,b.jsx)(r.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":Q(f.open),...e,ref:j,onClick:(0,h.composeEventHandlers)(a.onClick,f.onOpenToggle)});return f.hasCustomAnchor?k:(0,b.jsx)(o.Anchor,{asChild:!0,...g,children:k})});F.displayName=E;var G="PopoverPortal",[H,I]=x(G,{forceMount:void 0}),J=a=>{let{__scopePopover:c,forceMount:d,children:e,container:f}=a,g=B(G,c);return(0,b.jsx)(H,{scope:c,forceMount:d,children:(0,b.jsx)(q.Presence,{present:d||g.open,children:(0,b.jsx)(p.Portal,{asChild:!0,container:f,children:e})})})};J.displayName=G;var K="PopoverContent",L=c.forwardRef((a,c)=>{let d=I(K,a.__scopePopover),{forceMount:e=d.forceMount,...f}=a,g=B(K,a.__scopePopover);return(0,b.jsx)(q.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(M,{...f,ref:c}):(0,b.jsx)(N,{...f,ref:c})})});L.displayName=K;var M=c.forwardRef((a,d)=>{let e=B(K,a.__scopePopover),f=c.useRef(null),g=(0,i.useComposedRefs)(d,f),j=c.useRef(!1);return c.useEffect(()=>{let a=f.current;if(a)return(0,u.hideOthers)(a)},[]),(0,b.jsx)(v.RemoveScroll,{as:s.Slot,allowPinchZoom:!0,children:(0,b.jsx)(O,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,h.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),j.current||e.triggerRef.current?.focus()}),onPointerDownOutside:(0,h.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;j.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:(0,h.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),N=c.forwardRef((a,d)=>{let e=B(K,a.__scopePopover),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(O,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),O=c.forwardRef((a,c)=>{let{__scopePopover:d,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,disableOutsidePointerEvents:h,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:n,onInteractOutside:p,...q}=a,r=B(K,d),s=z(d);return(0,l.useFocusGuards)(),(0,b.jsx)(m.FocusScope,{asChild:!0,loop:!0,trapped:e,onMountAutoFocus:f,onUnmountAutoFocus:g,children:(0,b.jsx)(k.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:h,onInteractOutside:p,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:n,onDismiss:()=>r.onOpenChange(!1),children:(0,b.jsx)(o.Content,{"data-state":Q(r.open),role:"dialog",id:r.contentId,...s,...q,ref:c,style:{...q.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),P="PopoverClose";function Q(a){return a?"open":"closed"}c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=B(P,d);return(0,b.jsx)(r.Primitive.button,{type:"button",...e,ref:c,onClick:(0,h.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})}).displayName=P,c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=z(d);return(0,b.jsx)(o.Arrow,{...f,...e,ref:c})}).displayName="PopoverArrow";var R=a.i(97895);function S({...a}){return(0,b.jsx)(C,{"data-slot":"popover",...a})}function T({...a}){return(0,b.jsx)(F,{"data-slot":"popover-trigger",...a})}function U({className:a,align:c="center",sideOffset:d=4,...e}){return(0,b.jsx)(J,{children:(0,b.jsx)(L,{"data-slot":"popover-content",align:c,sideOffset:d,className:(0,R.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",a),...e})})}a.s(["Popover",()=>S,"PopoverContent",()=>U,"PopoverTrigger",()=>T],30342);var V=a.i(40695);let W=()=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M8 2v4"}),(0,b.jsx)("path",{d:"M16 2v4"}),(0,b.jsx)("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),(0,b.jsx)("path",{d:"M3 10h18"})]}),X=()=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"m15 18-6-6 6-6"})}),Y=()=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"m9 18 6-6-6-6"})}),Z=["א'","ב'","ג'","ד'","ה'","ו'","ש'"],$=["Su","Mo","Tu","We","Th","Fr","Sa"],_=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],aa=["January","February","March","April","May","June","July","August","September","October","November","December"];function ab({value:a,onChange:d,minDate:e,label:f,placeholder:g,dir:h="ltr"}){let i,j,k,[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(()=>a||new Date),p="rtl"===h,q=p?_:aa;(0,c.useEffect)(()=>{a&&o(a)},[a]);let r=a=>{if(!e)return!1;let b=new Date(a);b.setHours(0,0,0,0);let c=new Date(e);return c.setHours(0,0,0,0),b<c},s=a=>{let b=new Date;return a.getDate()===b.getDate()&&a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()},t=b=>!!a&&b.getDate()===a.getDate()&&b.getMonth()===a.getMonth()&&b.getFullYear()===a.getFullYear(),u=a=>{let b=new Date(n.getFullYear(),n.getMonth(),a);r(b)||(d(b),m(!1))};return(0,b.jsxs)(S,{open:l,onOpenChange:m,children:[(0,b.jsx)(T,{asChild:!0,children:(0,b.jsxs)(V.Button,{variant:"outline",className:(0,R.cn)("w-full justify-start h-14 px-4","rtl"===h?"text-right":"text-left",!a&&"text-muted-foreground"),children:[(0,b.jsxs)("div",{className:(0,R.cn)("flex flex-col gap-0.5 flex-1","items-start"),children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:f}),(0,b.jsx)("span",{className:"font-medium",children:a?(i=a.getDate(),j=q[a.getMonth()],k=a.getFullYear(),p?`${i} ${j}, ${k}`:`${j} ${i}, ${k}`):g})]}),(0,b.jsx)(W,{})]})}),(0,b.jsx)(U,{className:"w-auto p-0",align:"start",children:(0,b.jsxs)("div",{className:"p-3",dir:"ltr",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(V.Button,{variant:"outline",size:"icon",className:"h-7 w-7 bg-transparent",onClick:()=>{o(new Date(n.getFullYear(),n.getMonth()-1,1))},children:(0,b.jsx)(X,{})}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:[q[n.getMonth()]," ",n.getFullYear()]}),(0,b.jsx)(V.Button,{variant:"outline",size:"icon",className:"h-7 w-7 bg-transparent",onClick:()=>{o(new Date(n.getFullYear(),n.getMonth()+1,1))},children:(0,b.jsx)(Y,{})})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:(p?Z:$).map(a=>(0,b.jsx)("div",{className:"h-9 w-9 flex items-center justify-center text-xs text-muted-foreground font-normal",children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let a=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),c=new Date(n.getFullYear(),n.getMonth(),1).getDay(),d=[];for(let a=0;a<c;a++)d.push((0,b.jsx)("div",{className:"h-9 w-9"},`empty-${a}`));for(let c=1;c<=a;c++){let a=new Date(n.getFullYear(),n.getMonth(),c),e=r(a),f=t(a),g=s(a);d.push((0,b.jsx)("button",{type:"button",onClick:()=>u(c),disabled:e,className:(0,R.cn)("h-9 w-9 rounded-md text-sm font-normal transition-colors","hover:bg-accent hover:text-accent-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",e&&"text-muted-foreground opacity-50 cursor-not-allowed hover:bg-transparent",f&&"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground",g&&!f&&"bg-accent text-accent-foreground"),children:c},c))}return d})()})]})})]})}a.s(["DatePickerInput",()=>ab],4272)}];

//# sourceMappingURL=lib_booking-context_tsx_ba6efe3f._.js.map