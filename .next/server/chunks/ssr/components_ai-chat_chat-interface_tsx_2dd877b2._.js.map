{"version":3,"sources":["../../../../components/ai-chat/booking-flow.tsx","../../../../components/ai-chat/chat-interface.tsx","../../../../node_modules/lucide-react/src/icons/ban.ts","../../../../node_modules/lucide-react/src/icons/wine.ts"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { useSession, signIn } from \"next-auth/react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n// Types\r\ninterface BookingRoom {\r\n  code: string\r\n  name: string\r\n  hotelName: string\r\n  hotelId: number\r\n  roomType: string\r\n  price: number\r\n  currency: string\r\n  board: string\r\n  cancellation: string\r\n  dateFrom: string\r\n  dateTo: string\r\n  adults: number\r\n  children: number[]\r\n  image?: string\r\n}\r\n\r\ninterface GuestDetails {\r\n  title: \"MR\" | \"MRS\" | \"MS\"\r\n  firstName: string\r\n  lastName: string\r\n  email: string\r\n  phone: string\r\n  country: string\r\n  city: string\r\n  address: string\r\n  zip: string\r\n}\r\n\r\ninterface BookingFlowProps {\r\n  room: BookingRoom\r\n  isRtl: boolean\r\n  onComplete: (result: { success: boolean; confirmationNumber?: string; error?: string }) => void\r\n  onCancel: () => void\r\n}\r\n\r\n// Icons\r\nconst CheckIcon = () => (\r\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n  </svg>\r\n)\r\n\r\nconst LoadingSpinner = () => (\r\n  <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n    <path\r\n      className=\"opacity-75\"\r\n      fill=\"currentColor\"\r\n      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n    />\r\n  </svg>\r\n)\r\n\r\nconst LockIcon = () => (\r\n  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\r\n    />\r\n  </svg>\r\n)\r\n\r\nconst CalendarIcon = () => (\r\n  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\r\n    />\r\n  </svg>\r\n)\r\n\r\nconst UserIcon = () => (\r\n  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\r\n    />\r\n  </svg>\r\n)\r\n\r\ntype BookingStep = \"confirm_price\" | \"guest_details\" | \"payment\" | \"complete\"\r\n\r\nexport function BookingFlow({ room, isRtl, onComplete, onCancel }: BookingFlowProps) {\r\n  const { data: session } = useSession()\r\n  const [step, setStep] = useState<BookingStep>(\"confirm_price\")\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [prebookToken, setPrebookToken] = useState<string>(\"\")\r\n  const [prebookId, setPrebookId] = useState<number>(0)\r\n  const [confirmedPrice, setConfirmedPrice] = useState<number>(room.price)\r\n  const [error, setError] = useState<string>(\"\")\r\n\r\n  const [guestDetails, setGuestDetails] = useState<GuestDetails>({\r\n    title: \"MR\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    country: \"IL\",\r\n    city: \"\",\r\n    address: \"\",\r\n    zip: \"\",\r\n  })\r\n\r\n  // Auto-fill form from Google session\r\n  useEffect(() => {\r\n    if (session?.user) {\r\n      const nameParts = session.user.name?.split(\" \") || []\r\n      setGuestDetails((prev) => ({\r\n        ...prev,\r\n        firstName: nameParts[0] || prev.firstName,\r\n        lastName: nameParts.slice(1).join(\" \") || prev.lastName,\r\n        email: session.user.email || prev.email,\r\n      }))\r\n    }\r\n  }, [session])\r\n\r\n  // Step 1: PreBook - Confirm Price\r\n  const handlePreBook = async () => {\r\n    setIsLoading(true)\r\n    setError(\"\")\r\n\r\n    try {\r\n      console.log(\"[v0] Starting PreBook with room:\", room)\r\n\r\n      const response = await fetch(\"/api/booking/prebook\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          code: room.code,\r\n          dateFrom: room.dateFrom,\r\n          dateTo: room.dateTo,\r\n          hotelId: room.hotelId,\r\n          adults: room.adults,\r\n          children: room.children || [],\r\n        }),\r\n      })\r\n\r\n      const data = await response.json()\r\n      console.log(\"[v0] PreBook response:\", data)\r\n\r\n      if (data.success || data.token || data.preBookId) {\r\n        setPrebookToken(data.token || \"\")\r\n        setPrebookId(data.preBookId || 0)\r\n        setConfirmedPrice(data.priceConfirmed || room.price)\r\n        setStep(\"guest_details\")\r\n      } else {\r\n        setError(\r\n          data.error || (isRtl ? \"לא ניתן לאשר את המחיר כרגע. נסה שוב.\" : \"Unable to confirm price. Please try again.\"),\r\n        )\r\n      }\r\n    } catch (err: any) {\r\n      console.error(\"[v0] PreBook error:\", err)\r\n      setError(isRtl ? \"שגיאה בתקשורת. נסה שוב.\" : \"Connection error. Please try again.\")\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  // Step 2: Validate Guest Details\r\n  const validateGuestDetails = (): boolean => {\r\n    if (!guestDetails.firstName || !guestDetails.lastName) {\r\n      setError(isRtl ? \"נא למלא שם מלא\" : \"Please enter full name\")\r\n      return false\r\n    }\r\n    if (!guestDetails.email || !guestDetails.email.includes(\"@\")) {\r\n      setError(isRtl ? \"נא למלא אימייל תקין\" : \"Please enter valid email\")\r\n      return false\r\n    }\r\n    if (!guestDetails.phone) {\r\n      setError(isRtl ? \"נא למלא מספר טלפון\" : \"Please enter phone number\")\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  const handleGuestDetailsSubmit = () => {\r\n    if (validateGuestDetails()) {\r\n      setError(\"\")\r\n      setStep(\"payment\")\r\n    }\r\n  }\r\n\r\n  // Step 3: Complete Booking\r\n  const handleCompleteBooking = async () => {\r\n    setIsLoading(true)\r\n    setError(\"\")\r\n\r\n    try {\r\n      console.log(\"[v0] Starting Book with:\", { room, prebookToken, prebookId, guestDetails })\r\n\r\n      const response = await fetch(\"/api/booking/book\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          code: room.code,\r\n          token: prebookToken,\r\n          preBookId: prebookId,\r\n          dateFrom: room.dateFrom,\r\n          dateTo: room.dateTo,\r\n          hotelId: room.hotelId,\r\n          adults: room.adults,\r\n          children: room.children || [],\r\n          customer: guestDetails,\r\n        }),\r\n      })\r\n\r\n      const data = await response.json()\r\n      console.log(\"[v0] Book response:\", data)\r\n\r\n      if (data.success) {\r\n        setStep(\"complete\")\r\n        onComplete({\r\n          success: true,\r\n          confirmationNumber: data.bookingId || data.supplierReference,\r\n        })\r\n      } else {\r\n        setError(data.error || (isRtl ? \"ההזמנה נכשלה. נסה שוב.\" : \"Booking failed. Please try again.\"))\r\n      }\r\n    } catch (err: any) {\r\n      console.error(\"[v0] Book error:\", err)\r\n      setError(isRtl ? \"שגיאה בתקשורת. נסה שוב.\" : \"Connection error. Please try again.\")\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  // Calculate nights\r\n  const nights = Math.ceil(\r\n    (new Date(room.dateTo).getTime() - new Date(room.dateFrom).getTime()) / (1000 * 60 * 60 * 24),\r\n  )\r\n\r\n  return (\r\n    <Card className=\"overflow-hidden bg-slate-800/90 backdrop-blur-sm border-white/10\">\r\n      {/* Progress Steps */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-white/10 bg-slate-900/50\">\r\n        {[\"confirm_price\", \"guest_details\", \"payment\", \"complete\"].map((s, idx) => {\r\n          const stepLabels = isRtl\r\n            ? [\"אישור מחיר\", \"פרטי אורח\", \"תשלום\", \"אישור\"]\r\n            : [\"Price\", \"Guest Info\", \"Payment\", \"Done\"]\r\n          const isActive = step === s\r\n          const isPast = [\"confirm_price\", \"guest_details\", \"payment\", \"complete\"].indexOf(step) > idx\r\n\r\n          return (\r\n            <div key={s} className=\"flex items-center\">\r\n              <div\r\n                className={cn(\r\n                  \"flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-all\",\r\n                  isActive && \"bg-emerald-500 text-white\",\r\n                  isPast && \"bg-emerald-500/20 text-emerald-400\",\r\n                  !isActive && !isPast && \"bg-slate-700 text-slate-400\",\r\n                )}\r\n              >\r\n                {isPast ? <CheckIcon /> : idx + 1}\r\n              </div>\r\n              <span\r\n                className={cn(\r\n                  \"mx-2 text-xs hidden sm:block\",\r\n                  isActive && \"text-emerald-400 font-medium\",\r\n                  !isActive && \"text-slate-500\",\r\n                )}\r\n              >\r\n                {stepLabels[idx]}\r\n              </span>\r\n              {idx < 3 && <div className={cn(\"w-8 h-0.5 mx-1\", isPast ? \"bg-emerald-500/50\" : \"bg-slate-700\")} />}\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      {/* Room Summary - Always visible */}\r\n      <div className=\"p-4 border-b border-white/10 bg-gradient-to-r from-slate-800/50 to-slate-900/50\">\r\n        <div className=\"flex gap-4\">\r\n          {room.image && (\r\n            <img\r\n              src={room.image || \"/placeholder.svg\"}\r\n              alt={room.hotelName}\r\n              className=\"w-20 h-20 rounded-lg object-cover\"\r\n            />\r\n          )}\r\n          <div className=\"flex-1 min-w-0\">\r\n            <h4 className=\"font-semibold text-white truncate\">{room.hotelName}</h4>\r\n            <p className=\"text-sm text-slate-400\">{room.roomType}</p>\r\n            <div className=\"flex items-center gap-3 mt-2 text-xs text-slate-500\">\r\n              <span className=\"flex items-center gap-1\">\r\n                <CalendarIcon />\r\n                {room.dateFrom} - {room.dateTo}\r\n              </span>\r\n              <span className=\"flex items-center gap-1\">\r\n                <UserIcon />\r\n                {room.adults} {isRtl ? \"מבוגרים\" : \"adults\"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <p className=\"text-2xl font-bold text-emerald-400\">${confirmedPrice.toFixed(0)}</p>\r\n            <p className=\"text-xs text-slate-500\">\r\n              {nights} {isRtl ? \"לילות\" : \"nights\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"mx-4 mt-4 p-3 bg-rose-500/10 border border-rose-500/30 rounded-lg\">\r\n          <p className=\"text-sm text-rose-400\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step Content */}\r\n      <div className=\"p-4\">\r\n        {/* Step 1: Confirm Price */}\r\n        {step === \"confirm_price\" && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"text-center py-4\">\r\n              <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-emerald-500/10 flex items-center justify-center\">\r\n                <LockIcon />\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-white mb-2\">\r\n                {isRtl ? \"אישור מחיר והזמינות\" : \"Confirm Price & Availability\"}\r\n              </h3>\r\n              <p className=\"text-sm text-slate-400\">\r\n                {isRtl\r\n                  ? \"לחץ להמשך כדי לנעול את המחיר ולאשר זמינות\"\r\n                  : \"Click continue to lock in price and confirm availability\"}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"flex-1 border-slate-600 text-slate-300 hover:bg-slate-700 bg-transparent\"\r\n                onClick={onCancel}\r\n              >\r\n                {isRtl ? \"חזור\" : \"Back\"}\r\n              </Button>\r\n              <Button\r\n                className=\"flex-1 bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-500 hover:to-cyan-500\"\r\n                onClick={handlePreBook}\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? <LoadingSpinner /> : isRtl ? \"המשך\" : \"Continue\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 2: Guest Details */}\r\n        {step === \"guest_details\" && (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-white mb-4\">{isRtl ? \"פרטי האורח\" : \"Guest Details\"}</h3>\r\n\r\n            {/* Google Sign In Button */}\r\n            {!session?.user && (\r\n              <div className=\"space-y-3\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  className=\"w-full gap-2 border-slate-600 text-slate-300 hover:bg-slate-700\"\r\n                  onClick={() => signIn(\"google\")}\r\n                >\r\n                  <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\r\n                    <path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" />\r\n                    <path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" />\r\n                    <path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" />\r\n                    <path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" />\r\n                  </svg>\r\n                  {isRtl ? \"התחבר עם Google למילוי מהיר\" : \"Sign in with Google for quick fill\"}\r\n                </Button>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-0 flex items-center\">\r\n                    <Separator className=\"w-full bg-slate-700\" />\r\n                  </div>\r\n                  <div className=\"relative flex justify-center text-xs uppercase\">\r\n                    <span className=\"px-2 bg-slate-800 text-slate-400\">{isRtl ? \"או מלא ידנית\" : \"Or fill manually\"}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Show user info if logged in */}\r\n            {session?.user && (\r\n              <div className=\"flex items-center gap-3 p-3 rounded-lg bg-emerald-900/20 border border-emerald-500/30\">\r\n                {session.user.image && (\r\n                  <img src={session.user.image} alt={session.user.name || \"\"} className=\"h-10 w-10 rounded-full\" />\r\n                )}\r\n                <div className=\"flex-1\">\r\n                  <p className=\"text-sm font-medium text-emerald-400\">{isRtl ? \"מחובר כ-\" : \"Signed in as \"}{session.user.name}</p>\r\n                  <p className=\"text-xs text-emerald-300/70\">{session.user.email}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Title */}\r\n            <div className=\"flex gap-2\">\r\n              {([\"MR\", \"MRS\", \"MS\"] as const).map((t) => (\r\n                <Button\r\n                  key={t}\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  className={cn(\r\n                    \"flex-1\",\r\n                    guestDetails.title === t\r\n                      ? \"bg-emerald-500/20 border-emerald-500 text-emerald-400\"\r\n                      : \"border-slate-600 text-slate-400\",\r\n                  )}\r\n                  onClick={() => setGuestDetails({ ...guestDetails, title: t })}\r\n                >\r\n                  {t}\r\n                </Button>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Name */}\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <Label className=\"text-slate-400 text-xs\">{isRtl ? \"שם פרטי\" : \"First Name\"}</Label>\r\n                <Input\r\n                  value={guestDetails.firstName}\r\n                  onChange={(e) => setGuestDetails({ ...guestDetails, firstName: e.target.value })}\r\n                  className=\"bg-slate-900/50 border-slate-700 text-white\"\r\n                  placeholder={isRtl ? \"ישראל\" : \"John\"}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label className=\"text-slate-400 text-xs\">{isRtl ? \"שם משפחה\" : \"Last Name\"}</Label>\r\n                <Input\r\n                  value={guestDetails.lastName}\r\n                  onChange={(e) => setGuestDetails({ ...guestDetails, lastName: e.target.value })}\r\n                  className=\"bg-slate-900/50 border-slate-700 text-white\"\r\n                  placeholder={isRtl ? \"ישראלי\" : \"Doe\"}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Contact */}\r\n            <div>\r\n              <Label className=\"text-slate-400 text-xs\">{isRtl ? \"אימייל\" : \"Email\"}</Label>\r\n              <Input\r\n                type=\"email\"\r\n                value={guestDetails.email}\r\n                onChange={(e) => setGuestDetails({ ...guestDetails, email: e.target.value })}\r\n                className=\"bg-slate-900/50 border-slate-700 text-white\"\r\n                placeholder=\"email@example.com\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label className=\"text-slate-400 text-xs\">{isRtl ? \"טלפון\" : \"Phone\"}</Label>\r\n              <Input\r\n                type=\"tel\"\r\n                value={guestDetails.phone}\r\n                onChange={(e) => setGuestDetails({ ...guestDetails, phone: e.target.value })}\r\n                className=\"bg-slate-900/50 border-slate-700 text-white\"\r\n                placeholder=\"+972-50-1234567\"\r\n              />\r\n            </div>\r\n\r\n            {/* Address */}\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <Label className=\"text-slate-400 text-xs\">{isRtl ? \"עיר\" : \"City\"}</Label>\r\n                <Input\r\n                  value={guestDetails.city}\r\n                  onChange={(e) => setGuestDetails({ ...guestDetails, city: e.target.value })}\r\n                  className=\"bg-slate-900/50 border-slate-700 text-white\"\r\n                  placeholder={isRtl ? \"תל אביב\" : \"Tel Aviv\"}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label className=\"text-slate-400 text-xs\">{isRtl ? \"מיקוד\" : \"Zip\"}</Label>\r\n                <Input\r\n                  value={guestDetails.zip}\r\n                  onChange={(e) => setGuestDetails({ ...guestDetails, zip: e.target.value })}\r\n                  className=\"bg-slate-900/50 border-slate-700 text-white\"\r\n                  placeholder=\"12345\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Label className=\"text-slate-400 text-xs\">{isRtl ? \"כתובת\" : \"Address\"}</Label>\r\n              <Input\r\n                value={guestDetails.address}\r\n                onChange={(e) => setGuestDetails({ ...guestDetails, address: e.target.value })}\r\n                className=\"bg-slate-900/50 border-slate-700 text-white\"\r\n                placeholder={isRtl ? \"רחוב הרצל 1\" : \"123 Main St\"}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 pt-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"flex-1 border-slate-600 text-slate-300 hover:bg-slate-700 bg-transparent\"\r\n                onClick={() => setStep(\"confirm_price\")}\r\n              >\r\n                {isRtl ? \"חזור\" : \"Back\"}\r\n              </Button>\r\n              <Button\r\n                className=\"flex-1 bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-500 hover:to-cyan-500\"\r\n                onClick={handleGuestDetailsSubmit}\r\n              >\r\n                {isRtl ? \"המשך לתשלום\" : \"Continue to Payment\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 3: Payment */}\r\n        {step === \"payment\" && (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-white mb-4\">{isRtl ? \"אישור ותשלום\" : \"Confirm & Pay\"}</h3>\r\n\r\n            {/* Summary */}\r\n            <div className=\"p-4 bg-slate-900/50 rounded-lg space-y-3\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-slate-400\">{isRtl ? \"מחיר ללילה\" : \"Price per night\"}</span>\r\n                <span className=\"text-white\">${(confirmedPrice / nights).toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-slate-400\">{isRtl ? \"מספר לילות\" : \"Nights\"}</span>\r\n                <span className=\"text-white\">{nights}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-sm border-t border-slate-700 pt-3\">\r\n                <span className=\"text-white font-medium\">{isRtl ? \"סה״כ\" : \"Total\"}</span>\r\n                <span className=\"text-emerald-400 font-bold text-lg\">${confirmedPrice.toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Guest Info Summary */}\r\n            <div className=\"p-4 bg-slate-900/50 rounded-lg\">\r\n              <p className=\"text-sm text-slate-400 mb-2\">{isRtl ? \"פרטי האורח\" : \"Guest Info\"}</p>\r\n              <p className=\"text-white\">\r\n                {guestDetails.title} {guestDetails.firstName} {guestDetails.lastName}\r\n              </p>\r\n              <p className=\"text-sm text-slate-500\">{guestDetails.email}</p>\r\n              <p className=\"text-sm text-slate-500\">{guestDetails.phone}</p>\r\n            </div>\r\n\r\n            {/* Payment Notice */}\r\n            <div className=\"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg\">\r\n              <p className=\"text-xs text-amber-400\">\r\n                {isRtl\r\n                  ? \"התשלום יתבצע ישירות במלון בעת ההגעה\"\r\n                  : \"Payment will be made directly at the hotel upon arrival\"}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 pt-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"flex-1 border-slate-600 text-slate-300 hover:bg-slate-700 bg-transparent\"\r\n                onClick={() => setStep(\"guest_details\")}\r\n              >\r\n                {isRtl ? \"חזור\" : \"Back\"}\r\n              </Button>\r\n              <Button\r\n                className=\"flex-1 bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-500 hover:to-cyan-500\"\r\n                onClick={handleCompleteBooking}\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? <LoadingSpinner /> : isRtl ? \"אשר הזמנה\" : \"Confirm Booking\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 4: Complete */}\r\n        {step === \"complete\" && (\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"w-20 h-20 mx-auto mb-6 rounded-full bg-emerald-500/20 flex items-center justify-center\">\r\n              <svg className=\"w-10 h-10 text-emerald-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-2xl font-bold text-white mb-2\">{isRtl ? \"ההזמנה אושרה!\" : \"Booking Confirmed!\"}</h3>\r\n            <p className=\"text-slate-400 mb-6\">\r\n              {isRtl ? \"אישור נשלח לאימייל שלך\" : \"Confirmation sent to your email\"}\r\n            </p>\r\n            <Button className=\"bg-gradient-to-r from-emerald-600 to-cyan-600\" onClick={onCancel}>\r\n              {isRtl ? \"סגור\" : \"Close\"}\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport { useHotelConfig } from \"@/lib/hotel-config-context\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { BookingFlow } from \"./booking-flow\"\r\nimport {\r\n  Wifi,\r\n  Waves,\r\n  UtensilsCrossed,\r\n  Wine,\r\n  Car,\r\n  Dumbbell,\r\n  Sparkles,\r\n  Wind,\r\n  Ban,\r\n  Coffee,\r\n  Building2,\r\n  MapPin,\r\n  Star,\r\n  Bed,\r\n  ArrowLeft,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Heart,\r\n  Check,\r\n} from \"lucide-react\"\r\n\r\ninterface Message {\r\n  id: string\r\n  role: \"user\" | \"assistant\"\r\n  content: string\r\n  timestamp: Date\r\n  bookingData?: {\r\n    type: \"search_results\" | \"booking_confirmation\" | \"room_selection\"\r\n    data: any\r\n  }\r\n}\r\n\r\ninterface ChatInterfaceProps {\r\n  hotelId?: string\r\n  language?: \"he\" | \"en\"\r\n  embedded?: boolean\r\n  agentName?: string\r\n  agentAvatar?: string\r\n  darkMode?: boolean\r\n}\r\n\r\nfunction HotelCard({\r\n  hotel,\r\n  isRtl,\r\n  onSelect,\r\n  searchContext,\r\n  darkMode = true,\r\n}: {\r\n  hotel: any\r\n  isRtl: boolean\r\n  onSelect: (room: BookingRoom) => void\r\n  searchContext?: { dateFrom: string; dateTo: string; adults: number; children: number[] }\r\n  darkMode?: boolean\r\n}) {\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0)\r\n  const [liked, setLiked] = useState(false)\r\n  const [showDetails, setShowDetails] = useState(false)\r\n  const [imageError, setImageError] = useState(false)\r\n\r\n  const images = hotel.images?.length > 0 ? hotel.images : hotel.image ? [hotel.image] : []\r\n\r\n  const hasImages = images.length > 0 && !imageError\r\n  const currentImage = hasImages ? images[currentImageIndex] : null\r\n  const placeholderImage = `/placeholder.svg?height=300&width=400&query=${encodeURIComponent(hotel.name + \" hotel\")}`\r\n\r\n  const facilityIcons: Record<string, React.ReactNode> = {\r\n    wifi: <Wifi className=\"h-4 w-4\" />,\r\n    internet: <Wifi className=\"h-4 w-4\" />,\r\n    \"free internet\": <Wifi className=\"h-4 w-4\" />,\r\n    pool: <Waves className=\"h-4 w-4\" />,\r\n    \"swimming pool\": <Waves className=\"h-4 w-4\" />,\r\n    restaurant: <UtensilsCrossed className=\"h-4 w-4\" />,\r\n    bar: <Wine className=\"h-4 w-4\" />,\r\n    parking: <Car className=\"h-4 w-4\" />,\r\n    gym: <Dumbbell className=\"h-4 w-4\" />,\r\n    fitness: <Dumbbell className=\"h-4 w-4\" />,\r\n    spa: <Sparkles className=\"h-4 w-4\" />,\r\n    \"air condition\": <Wind className=\"h-4 w-4\" />,\r\n    \"no smoking\": <Ban className=\"h-4 w-4\" />,\r\n    breakfast: <Coffee className=\"h-4 w-4\" />,\r\n  }\r\n\r\n  const facilities = hotel.facilities || []\r\n  const rating = hotel.rating || hotel.stars || 4\r\n  const description = hotel.description || \"\"\r\n\r\n  const handleSelectRoom = () => {\r\n    onSelect({\r\n      code: hotel.code || \"\",\r\n      name: hotel.name,\r\n      hotelName: hotel.hotelName || hotel.name,\r\n      hotelId: hotel.hotelId || 0,\r\n      roomType: hotel.roomType || hotel.room_type || \"Standard Room\",\r\n      price: hotel.price || hotel.pricePerNight || 0,\r\n      currency: hotel.currency || \"USD\",\r\n      board: hotel.board || hotel.meals || \"RO\",\r\n      cancellation: hotel.cancellation?.type || hotel.cancellation || \"non-refundable\",\r\n      dateFrom: searchContext?.dateFrom || \"\",\r\n      dateTo: searchContext?.dateTo || \"\",\r\n      adults: searchContext?.adults || 2,\r\n      children: searchContext?.children || [],\r\n      image: currentImage || placeholderImage,\r\n    })\r\n  }\r\n\r\n  const nextImage = () => {\r\n    if (images.length > 1) {\r\n      setCurrentImageIndex((prev) => (prev + 1) % images.length)\r\n    }\r\n  }\r\n\r\n  const prevImage = () => {\r\n    if (images.length > 1) {\r\n      setCurrentImageIndex((prev) => (prev - 1 + images.length) % images.length)\r\n    }\r\n  }\r\n\r\n  const bgColor = darkMode ? \"bg-slate-800/90\" : \"bg-white\"\r\n  const textColor = darkMode ? \"text-white\" : \"text-gray-900\"\r\n  const subtextColor = darkMode ? \"text-gray-300\" : \"text-gray-600\"\r\n  const borderColor = darkMode ? \"border-slate-700\" : \"border-gray-200\"\r\n\r\n  return (\r\n    <div\r\n      className={`rounded-xl overflow-hidden ${bgColor} border ${borderColor} shadow-lg hover:shadow-xl transition-all duration-300`}\r\n    >\r\n      {/* Image Section */}\r\n      <div className=\"relative h-48 bg-slate-700\">\r\n        {hasImages ? (\r\n          <>\r\n            <img\r\n              src={currentImage || \"/placeholder.svg\"}\r\n              alt={hotel.name}\r\n              className=\"w-full h-full object-cover\"\r\n              onError={() => setImageError(true)}\r\n            />\r\n            {/* Image Navigation */}\r\n            {images.length > 1 && (\r\n              <>\r\n                <button\r\n                  onClick={prevImage}\r\n                  className=\"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1.5 rounded-full transition-colors\"\r\n                >\r\n                  <ChevronLeft className=\"h-4 w-4\" />\r\n                </button>\r\n                <button\r\n                  onClick={nextImage}\r\n                  className=\"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1.5 rounded-full transition-colors\"\r\n                >\r\n                  <ChevronRight className=\"h-4 w-4\" />\r\n                </button>\r\n                {/* Image Dots */}\r\n                <div className=\"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1\">\r\n                  {images.slice(0, 5).map((_, idx) => (\r\n                    <div\r\n                      key={idx}\r\n                      className={`w-1.5 h-1.5 rounded-full transition-colors ${\r\n                        idx === currentImageIndex ? \"bg-white\" : \"bg-white/50\"\r\n                      }`}\r\n                    />\r\n                  ))}\r\n                  {images.length > 5 && <span className=\"text-white text-xs ml-1\">+{images.length - 5}</span>}\r\n                </div>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-600 to-slate-800\">\r\n            <Building2 className=\"h-16 w-16 text-slate-500\" />\r\n          </div>\r\n        )}\r\n\r\n        {/* Badges */}\r\n        <div className=\"absolute top-3 left-3 flex gap-2\">\r\n          {hotel.cancellation === \"fully-refundable\" && (\r\n            <span className=\"bg-emerald-500 text-white text-xs px-2 py-1 rounded-full font-medium\">\r\n              {isRtl ? \"ביטול חינם\" : \"Free Cancel\"}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Like Button */}\r\n        <button\r\n          onClick={() => setLiked(!liked)}\r\n          className=\"absolute top-3 right-3 bg-white/20 backdrop-blur-sm hover:bg-white/30 p-2 rounded-full transition-colors\"\r\n        >\r\n          <Heart className={`h-4 w-4 ${liked ? \"fill-red-500 text-red-500\" : \"text-white\"}`} />\r\n        </button>\r\n\r\n        {/* Price Badge */}\r\n        <div className=\"absolute bottom-3 left-3 bg-black/70 backdrop-blur-sm px-3 py-1.5 rounded-lg\">\r\n          <span className=\"text-emerald-400 font-bold text-xl\">${hotel.price}</span>\r\n          <span className=\"text-gray-300 text-sm\">/{isRtl ? \"לילה\" : \"night\"}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content Section */}\r\n      <div className={`p-4 ${textColor}`}>\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between mb-2\">\r\n          <div className={isRtl ? \"text-right\" : \"text-left\"}>\r\n            <h3 className=\"font-bold text-lg\">{hotel.hotelName || hotel.name}</h3>\r\n            <div className={`flex items-center gap-1 ${subtextColor} text-sm`}>\r\n              <MapPin className=\"h-3.5 w-3.5\" />\r\n              <span>{hotel.location || hotel.address}</span>\r\n            </div>\r\n          </div>\r\n          {/* Star Rating */}\r\n          <div className=\"flex items-center gap-0.5\">\r\n            {Array.from({ length: rating }).map((_, i) => (\r\n              <Star key={i} className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Room Type & Board */}\r\n        <div className={`flex items-center gap-2 ${subtextColor} text-sm mb-3`}>\r\n          <Bed className=\"h-4 w-4\" />\r\n          <span>{hotel.roomType}</span>\r\n          <span className=\"text-gray-500\">•</span>\r\n          <span>\r\n            {hotel.board === \"RO\"\r\n              ? isRtl\r\n                ? \"ללא ארוחות\"\r\n                : \"Room Only\"\r\n              : hotel.board === \"BB\"\r\n                ? isRtl\r\n                  ? \"ארוחת בוקר\"\r\n                  : \"Breakfast\"\r\n                : hotel.board}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Facilities */}\r\n        {facilities.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-2 mb-3\">\r\n            {facilities.slice(0, 5).map((facility: string, idx: number) => {\r\n              const icon = facilityIcons[facility.toLowerCase()]\r\n              return (\r\n                <span\r\n                  key={idx}\r\n                  className={`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${\r\n                    darkMode ? \"bg-slate-700 text-gray-300\" : \"bg-gray-100 text-gray-600\"\r\n                  }`}\r\n                >\r\n                  {icon || <Check className=\"h-3 w-3\" />}\r\n                  <span className=\"capitalize\">{facility}</span>\r\n                </span>\r\n              )\r\n            })}\r\n          </div>\r\n        )}\r\n\r\n        {/* Description (expandable) */}\r\n        {description && (\r\n          <div className=\"mb-3\">\r\n            <p className={`text-sm ${subtextColor} ${showDetails ? \"\" : \"line-clamp-2\"}`}>{description}</p>\r\n            {description.length > 100 && (\r\n              <button\r\n                onClick={() => setShowDetails(!showDetails)}\r\n                className=\"text-emerald-500 text-sm hover:underline mt-1\"\r\n              >\r\n                {showDetails ? (isRtl ? \"הצג פחות\" : \"Show less\") : isRtl ? \"קרא עוד\" : \"Read more\"}\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Book Button */}\r\n        <button\r\n          onClick={handleSelectRoom}\r\n          className=\"w-full bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white font-medium py-3 rounded-lg transition-all duration-200 flex items-center justify-center gap-2\"\r\n        >\r\n          {isRtl ? \"בחר והמשך\" : \"Select & Continue\"}\r\n          <ArrowLeft className={`h-4 w-4 ${isRtl ? \"\" : \"rotate-180\"}`} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface BookingRoom {\r\n  code: string\r\n  name: string\r\n  hotelName: string\r\n  hotelId: number\r\n  roomType: string\r\n  price: number\r\n  currency: string\r\n  board: string\r\n  cancellation: string\r\n  dateFrom: string\r\n  dateTo: string\r\n  adults: number\r\n  children: number[]\r\n  image?: string\r\n}\r\n\r\nexport function ChatInterface({\r\n  hotelId,\r\n  language = \"he\",\r\n  embedded = false,\r\n  agentName,\r\n  agentAvatar,\r\n  darkMode = true,\r\n}: ChatInterfaceProps) {\r\n  const { currentHotel } = useHotelConfig()\r\n  const [messages, setMessages] = useState<Message[]>([])\r\n  const [input, setInput] = useState(\"\")\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [selectedRoom, setSelectedRoom] = useState<BookingRoom | null>(null)\r\n  const [searchContext, setSearchContext] = useState<{\r\n    dateFrom: string\r\n    dateTo: string\r\n    adults: number\r\n    children: number[]\r\n  } | null>(null)\r\n  const [jsonRequest, setJsonRequest] = useState<string | null>(null)\r\n  const [preBookData, setPreBookData] = useState<any>(null)\r\n  const [selectedRoomForBooking, setSelectedRoomForBooking] = useState<any>(null)\r\n  const messagesEndRef = useRef<HTMLDivElement>(null)\r\n  const inputRef = useRef<HTMLInputElement>(null)\r\n\r\n  const isRtl = language === \"he\"\r\n  const hotel = currentHotel || {\r\n    id: \"demo-hotel\",\r\n    name: agentName || (isRtl ? \"מלון הדוגמה\" : \"Demo Hotel\"),\r\n    city: isRtl ? \"תל אביב\" : \"Tel Aviv\",\r\n    apiSettings: {\r\n      provider: \"medici\" as const,\r\n      mediciHotelName: \"Dizengoff Inn\",\r\n      mediciCity: \"Tel Aviv\",\r\n    },\r\n    aiChatSettings: {\r\n      welcomeMessage: \"Hello! I'm your AI booking assistant. How can I help you find the perfect room?\",\r\n      welcomeMessageHe: \"שלום! אני העוזר החכם שלך להזמנות. איך אוכל לעזור לך למצוא את החדר המושלם?\",\r\n      suggestedQuestions: [],\r\n      systemInstructions: \"\",\r\n      knowledgeBase: \"\",\r\n    },\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (messages.length === 0 && hotel) {\r\n      const displayName = agentName || hotel.name\r\n      const welcomeMessage = isRtl\r\n        ? hotel.aiChatSettings?.welcomeMessageHe || `שלום! אני ${displayName}. איך אוכל לעזור לך היום?`\r\n        : hotel.aiChatSettings?.welcomeMessage || `Hello! I'm ${displayName}. How can I help you today?`\r\n\r\n      setMessages([\r\n        {\r\n          id: \"welcome\",\r\n          role: \"assistant\",\r\n          content: welcomeMessage,\r\n          timestamp: new Date(),\r\n        },\r\n      ])\r\n    }\r\n  }, [hotel, isRtl, messages.length, agentName])\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n  }, [messages])\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!input.trim() || isLoading) return\r\n\r\n    const userMessage: Message = {\r\n      id: Date.now().toString(),\r\n      role: \"user\",\r\n      content: input.trim(),\r\n      timestamp: new Date(),\r\n    }\r\n\r\n    setMessages((prev) => [...prev, userMessage])\r\n    setInput(\"\")\r\n    setIsLoading(true)\r\n\r\n    try {\r\n      const response = await fetch(\"/api/ai/booking-chat\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          messages: [...messages, userMessage].map((m) => ({\r\n            role: m.role,\r\n            content: m.content,\r\n          })),\r\n          hotelConfig: hotel,\r\n          language,\r\n          bookingState: {\r\n            searchContext,\r\n            jsonRequest,\r\n            preBookData,\r\n            selectedRoom: selectedRoomForBooking,\r\n          },\r\n        }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (data.searchContext) {\r\n        setSearchContext(data.searchContext)\r\n      }\r\n\r\n      // Save jsonRequest from search results\r\n      if (data.bookingData?.type === \"search_results\" && data.bookingData?.data?.jsonRequest) {\r\n        setJsonRequest(data.bookingData.data.jsonRequest)\r\n      }\r\n\r\n      // Save preBook data\r\n      if (data.bookingData?.type === \"prebook_complete\" && data.bookingData?.data?.preBookData) {\r\n        setPreBookData(data.bookingData.data.preBookData)\r\n        setSelectedRoomForBooking(data.bookingData.data.selectedRoom)\r\n      }\r\n\r\n      const assistantMessage: Message = {\r\n        id: (Date.now() + 1).toString(),\r\n        role: \"assistant\",\r\n        content: data.message,\r\n        timestamp: new Date(),\r\n        bookingData: data.bookingData,\r\n      }\r\n\r\n      setMessages((prev) => [...prev, assistantMessage])\r\n    } catch (error) {\r\n      console.error(\"Chat error:\", error)\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: (Date.now() + 1).toString(),\r\n          role: \"assistant\",\r\n          content: isRtl ? \"מצטער, אירעה שגיאה. אנא נסה שוב.\" : \"Sorry, an error occurred. Please try again.\",\r\n          timestamp: new Date(),\r\n        },\r\n      ])\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleSelectRoom = (room: BookingRoom) => {\r\n    setSelectedRoom(room)\r\n  }\r\n\r\n  const handleBookingComplete = (result: { success: boolean; confirmationNumber?: string; error?: string }) => {\r\n    if (result.success) {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          role: \"assistant\",\r\n          content: isRtl\r\n            ? `מעולה! ההזמנה אושרה בהצלחה! מספר אישור: ${result.confirmationNumber}. אישור נשלח לאימייל שלך.`\r\n            : `Excellent! Your booking is confirmed! Confirmation number: ${result.confirmationNumber}. Confirmation sent to your email.`,\r\n          timestamp: new Date(),\r\n          bookingData: {\r\n            type: \"booking_confirmation\",\r\n            data: { confirmationNumber: result.confirmationNumber },\r\n          },\r\n        },\r\n      ])\r\n    }\r\n    setSelectedRoom(null)\r\n  }\r\n\r\n  const quickActions = isRtl\r\n    ? [\"חפש חדר בדובאי\", \"מה הזמינות לסוף השבוע?\", \"כמה עולה חדר זוגי?\", \"האם יש בריכה?\"]\r\n    : [\"Search room in Dubai\", \"Weekend availability?\", \"Double room price?\", \"Is there a pool?\"]\r\n\r\n  if (selectedRoom) {\r\n    return (\r\n      <div\r\n        className={cn(\r\n          \"flex flex-col h-full p-4\",\r\n          darkMode ? \"bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950\" : \"bg-slate-50\",\r\n          embedded ? \"rounded-2xl overflow-hidden shadow-2xl\" : \"\",\r\n        )}\r\n        dir={isRtl ? \"rtl\" : \"ltr\"}\r\n      >\r\n        <BookingFlow\r\n          room={selectedRoom}\r\n          isRtl={isRtl}\r\n          onComplete={handleBookingComplete}\r\n          onCancel={() => setSelectedRoom(null)}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex flex-col h-full\",\r\n        darkMode ? \"bg-black\" : \"bg-slate-50\",\r\n        embedded ? \"rounded-2xl overflow-hidden shadow-2xl\" : \"\",\r\n      )}\r\n      dir={isRtl ? \"rtl\" : \"ltr\"}\r\n    >\r\n      {/* Header with Agent Info */}\r\n      <div className={cn(\"relative overflow-hidden border-b\", darkMode ? \"border-white/10\" : \"border-slate-200\")}>\r\n        <div\r\n          className={cn(\r\n            \"absolute inset-0\",\r\n            darkMode\r\n              ? \"bg-gradient-to-r from-emerald-600/10 via-cyan-600/10 to-emerald-600/10\"\r\n              : \"bg-gradient-to-r from-emerald-50 to-cyan-50\",\r\n          )}\r\n        />\r\n        <div className=\"relative flex items-center gap-4 p-5 backdrop-blur-xl\">\r\n          <div className=\"relative\">\r\n            {agentAvatar ? (\r\n              <img\r\n                src={agentAvatar || \"/placeholder.svg\"}\r\n                alt={agentName || \"Agent\"}\r\n                className=\"w-12 h-12 rounded-full object-cover shadow-lg\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-emerald-400 via-cyan-400 to-emerald-500 flex items-center justify-center shadow-lg shadow-emerald-500/30\">\r\n                <ArrowLeft className=\"h-4 w-4\" />\r\n              </div>\r\n            )}\r\n            <span\r\n              className={cn(\r\n                \"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-emerald-400 rounded-full\",\r\n                darkMode ? \"border-2 border-black\" : \"border-2 border-white\",\r\n              )}\r\n            />\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h3 className={cn(\"font-bold text-lg\", darkMode ? \"text-white\" : \"text-slate-900\")}>\r\n              {agentName || hotel?.name || \"AI Assistant\"}\r\n            </h3>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"flex items-center gap-1 text-xs text-emerald-500\">\r\n                <span className=\"w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse\" />\r\n                {isRtl ? \"מקוון\" : \"Online\"}\r\n              </span>\r\n              <span className={darkMode ? \"text-slate-600\" : \"text-slate-400\"}>•</span>\r\n              <span className={cn(\"text-xs\", darkMode ? \"text-slate-400\" : \"text-slate-500\")}>\r\n                {isRtl ? \"זמן תגובה: מיידי\" : \"Response: Instant\"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages Area */}\r\n      <div className=\"flex-1 overflow-y-auto p-5 space-y-5\">\r\n        {messages.map((message) => (\r\n          <div key={message.id} className={cn(\"flex gap-3\", message.role === \"user\" ? \"justify-end\" : \"justify-start\")}>\r\n            {message.role === \"assistant\" &&\r\n              (agentAvatar ? (\r\n                <img\r\n                  src={agentAvatar || \"/placeholder.svg\"}\r\n                  alt={agentName || \"Agent\"}\r\n                  className=\"w-9 h-9 rounded-full object-cover flex-shrink-0 shadow-lg\"\r\n                />\r\n              ) : (\r\n                <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-emerald-400 to-cyan-500 flex-shrink-0 flex items-center justify-center shadow-lg shadow-emerald-500/20\">\r\n                  <ArrowLeft className=\"h-4 w-4\" />\r\n                </div>\r\n              ))}\r\n\r\n            <div className={cn(\"max-w-[85%] space-y-3\")}>\r\n              <div\r\n                className={cn(\r\n                  \"rounded-2xl px-4 py-3 shadow-lg\",\r\n                  message.role === \"user\"\r\n                    ? \"bg-gradient-to-r from-emerald-600 to-cyan-600 text-white rounded-br-md\"\r\n                    : darkMode\r\n                      ? \"bg-slate-800/80 backdrop-blur-sm text-slate-100 border border-white/5 rounded-bl-md\"\r\n                      : \"bg-white text-slate-900 border border-slate-200 rounded-bl-md\",\r\n                )}\r\n              >\r\n                <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">{message.content}</p>\r\n              </div>\r\n\r\n              {message.bookingData?.type === \"search_results\" && message.bookingData.data.rooms && (\r\n                <div className=\"grid gap-4 mt-4\">\r\n                  {message.bookingData.data.rooms.map((room: any, idx: number) => (\r\n                    <HotelCard\r\n                      key={idx}\r\n                      hotel={room}\r\n                      isRtl={isRtl}\r\n                      onSelect={handleSelectRoom}\r\n                      searchContext={searchContext || message.bookingData?.data.searchContext}\r\n                      darkMode={darkMode}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {message.bookingData?.type === \"booking_confirmation\" && (\r\n                <Card\r\n                  className={cn(\r\n                    \"mt-3 p-5 backdrop-blur-sm\",\r\n                    darkMode\r\n                      ? \"bg-gradient-to-r from-emerald-900/40 to-cyan-900/40 border-emerald-500/30\"\r\n                      : \"bg-gradient-to-r from-emerald-50 to-cyan-50 border-emerald-200\",\r\n                  )}\r\n                >\r\n                  <div className=\"flex items-center gap-4 mb-4\">\r\n                    <div\r\n                      className={cn(\r\n                        \"w-12 h-12 rounded-full flex items-center justify-center\",\r\n                        darkMode ? \"bg-emerald-500/20\" : \"bg-emerald-100\",\r\n                      )}\r\n                    >\r\n                      <ArrowLeft className=\"h-4 w-4\" />\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-semibold text-emerald-500 text-lg\">\r\n                        {isRtl ? \"ההזמנה אושרה!\" : \"Booking Confirmed!\"}\r\n                      </p>\r\n                      <p className={cn(\"text-sm\", darkMode ? \"text-slate-400\" : \"text-slate-600\")}>\r\n                        {isRtl\r\n                          ? `מספר אישור: ${message.bookingData.data.confirmationNumber}`\r\n                          : `Confirmation: ${message.bookingData.data.confirmationNumber}`}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              )}\r\n\r\n              <p className={cn(\"text-[10px] px-1\", darkMode ? \"text-slate-600\" : \"text-slate-400\")}>\r\n                {message.timestamp.toLocaleTimeString(isRtl ? \"he-IL\" : \"en-US\", {\r\n                  hour: \"2-digit\",\r\n                  minute: \"2-digit\",\r\n                })}\r\n              </p>\r\n            </div>\r\n\r\n            {message.role === \"user\" && (\r\n              <div\r\n                className={cn(\r\n                  \"w-9 h-9 rounded-xl flex-shrink-0 flex items-center justify-center\",\r\n                  darkMode\r\n                    ? \"bg-gradient-to-br from-slate-600 to-slate-700\"\r\n                    : \"bg-gradient-to-br from-slate-200 to-slate-300\",\r\n                )}\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n\r\n        {isLoading && (\r\n          <div className=\"flex gap-3\">\r\n            {agentAvatar ? (\r\n              <img\r\n                src={agentAvatar || \"/placeholder.svg\"}\r\n                alt={agentName || \"Agent\"}\r\n                className=\"w-9 h-9 rounded-full object-cover flex-shrink-0 shadow-lg\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-emerald-400 to-cyan-500 flex-shrink-0 flex items-center justify-center shadow-lg shadow-emerald-500/20\">\r\n                <ArrowLeft className=\"h-4 w-4\" />\r\n              </div>\r\n            )}\r\n            <div\r\n              className={cn(\r\n                \"rounded-2xl rounded-bl-md px-4 py-3 border\",\r\n                darkMode ? \"bg-slate-800/80 backdrop-blur-sm border-white/5\" : \"bg-white border-slate-200\",\r\n              )}\r\n            >\r\n              <div className=\"flex gap-1.5\">\r\n                <span\r\n                  className=\"w-2 h-2 bg-emerald-400 rounded-full animate-bounce\"\r\n                  style={{ animationDelay: \"0ms\" }}\r\n                />\r\n                <span\r\n                  className=\"w-2 h-2 bg-emerald-400 rounded-full animate-bounce\"\r\n                  style={{ animationDelay: \"150ms\" }}\r\n                />\r\n                <span\r\n                  className=\"w-2 h-2 bg-emerald-400 rounded-full animate-bounce\"\r\n                  style={{ animationDelay: \"300ms\" }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      {messages.length <= 1 && (\r\n        <div className=\"px-5 pb-3\">\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {quickActions.map((action, idx) => (\r\n              <button\r\n                key={idx}\r\n                onClick={() => setInput(action)}\r\n                className={cn(\r\n                  \"px-3 py-1.5 text-xs rounded-full transition-colors border\",\r\n                  darkMode\r\n                    ? \"text-slate-300 bg-slate-800/50 hover:bg-slate-700/50 border-white/5\"\r\n                    : \"text-slate-600 bg-white hover:bg-slate-100 border-slate-200\",\r\n                )}\r\n              >\r\n                {action}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Input Area */}\r\n      <div\r\n        className={cn(\r\n          \"p-4 border-t backdrop-blur-xl\",\r\n          darkMode ? \"border-white/10 bg-slate-900/50\" : \"border-slate-200 bg-white/50\",\r\n        )}\r\n      >\r\n        <form onSubmit={handleSubmit} className=\"flex gap-3\">\r\n          <input\r\n            ref={inputRef}\r\n            type=\"text\"\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            placeholder={isRtl ? \"כתוב הודעה...\" : \"Type a message...\"}\r\n            className={cn(\r\n              \"flex-1 rounded-xl px-4 py-3 focus:outline-none transition-colors border\",\r\n              darkMode\r\n                ? \"bg-slate-800/50 border-white/10 text-white placeholder-slate-500 focus:border-emerald-500/50\"\r\n                : \"bg-slate-100 border-slate-200 text-slate-900 placeholder-slate-400 focus:border-emerald-500/50\",\r\n            )}\r\n            disabled={isLoading}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            disabled={isLoading || !input.trim()}\r\n            className=\"w-12 h-12 rounded-xl bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-500 hover:to-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Ban\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtNC45IDQuOSAxNC4yIDE0LjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/ban\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Ban = createLucideIcon('Ban', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm4.9 4.9 14.2 14.2', key: '1m5liu' }],\n]);\n\nexport default Ban;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Wine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAyMmg4IiAvPgogIDxwYXRoIGQ9Ik03IDEwaDEwIiAvPgogIDxwYXRoIGQ9Ik0xMiAxNXY3IiAvPgogIDxwYXRoIGQ9Ik0xMiAxNWE1IDUgMCAwIDAgNS01YzAtMi0uNS00LTItOEg5Yy0xLjUgNC0yIDYtMiA4YTUgNSAwIDAgMCA1IDVaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/wine\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wine = createLucideIcon('Wine', [\n  ['path', { d: 'M8 22h8', key: 'rmew8v' }],\n  ['path', { d: 'M7 10h10', key: '1101jm' }],\n  ['path', { d: 'M12 15v7', key: 't2xh3l' }],\n  [\n    'path',\n    { d: 'M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z', key: '10ffi3' },\n  ],\n]);\n\nexport default Wine;\n"],"names":[],"mappings":"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","ignoreList":[2,3]}