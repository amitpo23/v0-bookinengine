{"version":3,"sources":["../../../../lib/hotel-config-context.tsx","../../../../lib/hotels/scarlet-ai-knowledge.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\r\nimport type { HotelConfig } from \"@/types/saas\"\r\nimport { scarletHotelConfig } from \"@/lib/hotels/scarlet-config\"\r\nimport { \r\n  scarletKnowledgeBase, \r\n  scarletSystemInstructions, \r\n  scarletAISkills \r\n} from \"@/lib/hotels/scarlet-ai-knowledge\"\r\n\r\ninterface HotelConfigContextType {\r\n  currentHotel: HotelConfig | null\r\n  setCurrentHotel: (hotel: HotelConfig) => void\r\n  hotels: HotelConfig[]\r\n  addHotel: (hotel: HotelConfig) => void\r\n  updateHotel: (hotel: HotelConfig) => void\r\n  deleteHotel: (hotelId: string) => void\r\n  isWidgetEnabled: boolean\r\n  isAiChatEnabled: boolean\r\n}\r\n\r\nconst defaultHotel: HotelConfig = {\r\n  id: \"demo-hotel\",\r\n  name: \"מלון הדגמה\",\r\n  hotelId: \"demo-1\",\r\n  hotelName: \"Demo Hotel\",\r\n  city: \"Tel Aviv\",\r\n  stars: 5,\r\n  currency: \"₪\",\r\n  enableWidget: true,\r\n  enableAiChat: true,\r\n  plan: \"enterprise\",\r\n  apiSettings: {\r\n    mediciHotelId: \"\",\r\n    mediciHotelName: \"\",\r\n  },\r\n  widgetSettings: {\r\n    language: \"he\",\r\n    showPrices: true,\r\n    showAvailability: true,\r\n    primaryColor: \"#1a56db\",\r\n    secondaryColor: \"#7c3aed\",\r\n  },\r\n  aiChatSettings: {\r\n    welcomeMessage: \"Hello! I'm your AI booking assistant. How can I help you today?\",\r\n    welcomeMessageHe: \"שלום! אני העוזר החכם שלך להזמנות. איך אוכל לעזור לך היום?\",\r\n    personality: \"professional\",\r\n    language: \"he\",\r\n    primaryColor: \"#10b981\",\r\n  },\r\n}\r\n\r\n// Scarlet Hotel configuration\r\nconst scarletHotelConfigData: HotelConfig = {\r\n  id: \"scarlet-hotel\",\r\n  name: \"מלון סקרלט תל אביב\",\r\n  hotelId: \"863233\",\r\n  hotelName: \"Scarlet Hotel\",\r\n  city: \"Tel Aviv\",\r\n  stars: 5,\r\n  currency: \"₪\",\r\n  enableWidget: true,\r\n  enableAiChat: true,\r\n  plan: \"enterprise\",\r\n  apiSettings: {\r\n    provider: \"medici\" as const,\r\n    mediciHotelId: \"863233\",\r\n    mediciHotelName: \"Scarlet Hotel\",\r\n    mediciCity: \"Tel Aviv\",\r\n  },\r\n  widgetSettings: {\r\n    language: \"he\",\r\n    showPrices: true,\r\n    showAvailability: true,\r\n    primaryColor: \"#f43f5e\",\r\n    secondaryColor: \"#ec4899\",\r\n  },\r\n  aiChatSettings: {\r\n    welcomeMessage: \"Hello! I'm Scarlet Hotel Tel Aviv concierge. How can I help you book the perfect room?\",\r\n    welcomeMessageHe: \"שלום! אני הקונסיירז׳ של מלון סקרלט תל אביב. איך אוכל לעזור לך למצוא את החדר המושלם?\",\r\n    personality: \"luxury\",\r\n    language: \"he\",\r\n    primaryColor: \"#f43f5e\",\r\n    suggestedQuestions: [\r\n      \"מה החדרים הזמינים לסוף השבוע הקרוב?\",\r\n      \"איזה חדר מתאים לזוג?\",\r\n      \"האם יש מבצעים פעילים?\",\r\n      \"מה כולל החדר הרומנטי?\"\r\n    ],\r\n    systemInstructions: `אתה קונסיירז׳ וירטואלי של מלון סקרלט תל אביב, מלון בוטיק יוקרתי ורומנטי בלב העיר.\r\n\r\nמידע על המלון:\r\n- מיקום: רחוב ג'ורדון 17, תל אביב\r\n- טלפון: 052-473-4940\r\n- סגנון: מלון בוטיק רומנטי עם עיצוב נועז וצבעוני\r\n- מחירים: 450-2500 ₪ ללילה\r\n- ID במערכת: 863233\r\n\r\nסוגי חדרים:\r\n1. הקלאסי הזוגי (Classic Double) - 450₪ - חדר נעים ומעוצב, 15 מ\"ר\r\n2. הרומנטי הזוגי (Romantic Double) - 650₪ - מיטה עגולה ואמבטיה Free-standing, 18 מ\"ר\r\n3. האקונומי הזוגי (Economy Double) - 390₪ - חדר קומפקטי, 12 מ\"ר\r\n4. הקלאסי עם מרפסת (Classic Balcony) - 520₪ - עם מרפסת אורבנית, 16 מ\"ר\r\n5. הדלוקס (Deluxe) - 800₪ - חדר מרווח עם פינת ישיבה, 22 מ\"ר\r\n6. הדלוקס עם מרפסת ואמבטיה (Deluxe Balcony Bathtub) - 1200₪ - מרפסת גדולה ואמבטיה יוקרתית, 28 מ\"ר\r\n7. הסוויטה (Suite) - 2500₪ - שני חדרים נפרדים, 45 מ\"ר\r\n\r\nמבצעים פעילים:\r\n- למילואימניקים: 20% הנחה\r\n- לילה שלישי: 25% הנחה\r\n- סופ\"ש: 15% הנחה\r\n- הזמנה מוקדמת (30+ ימים): 30% הנחה\r\n\r\nסגנון תקשורת:\r\n- חם, מקצועי ומסביר פנים\r\n- התמקד בחוויה האישית של האורח\r\n- המלץ על חדרים בהתאם לצרכים\r\n- הדגש את המבצעים הרלוונטיים\r\n- שאל שאלות מבררות כדי להבין את הצרכים`,\r\n    systemInstructions: scarletSystemInstructions,\r\n    knowledgeBase: JSON.stringify(scarletKnowledgeBase),\r\n    aiSkills: scarletAISkills,\r\n  },\r\n}\r\n\r\nconst HotelConfigContext = createContext<HotelConfigContextType | undefined>(undefined)\r\n\r\nexport function HotelConfigProvider({ children, hotelId }: { children: ReactNode; hotelId?: string }) {\r\n  // Determine the initial hotel based on hotelId prop\r\n  const initialHotel = hotelId === \"scarlet-hotel\" ? scarletHotelConfigData : defaultHotel\r\n  const [hotels, setHotels] = useState<HotelConfig[]>([defaultHotel, scarletHotelConfigData])\r\n  const [currentHotel, setCurrentHotelState] = useState<HotelConfig | null>(initialHotel)\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"hotelConfigs\")\r\n    if (saved) {\r\n      const parsed = JSON.parse(saved)\r\n      setHotels(parsed)\r\n      setCurrentHotelState(parsed[0] || defaultHotel)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"hotelConfigs\", JSON.stringify(hotels))\r\n  }, [hotels])\r\n\r\n  const setCurrentHotel = (hotel: HotelConfig) => {\r\n    setCurrentHotelState(hotel)\r\n  }\r\n\r\n  const addHotel = (hotel: HotelConfig) => {\r\n    setHotels((prev) => [...prev, hotel])\r\n  }\r\n\r\n  const updateHotel = (hotel: HotelConfig) => {\r\n    setHotels((prev) => prev.map((h) => (h.id === hotel.id ? hotel : h)))\r\n    if (currentHotel?.id === hotel.id) {\r\n      setCurrentHotelState(hotel)\r\n    }\r\n  }\r\n\r\n  const deleteHotel = (hotelId: string) => {\r\n    setHotels((prev) => prev.filter((h) => h.id !== hotelId))\r\n    if (currentHotel?.id === hotelId) {\r\n      setCurrentHotelState(hotels[0] || null)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <HotelConfigContext.Provider\r\n      value={{\r\n        currentHotel,\r\n        setCurrentHotel,\r\n        hotels,\r\n        addHotel,\r\n        updateHotel,\r\n        deleteHotel,\r\n        isWidgetEnabled: currentHotel?.enableWidget ?? false,\r\n        isAiChatEnabled: currentHotel?.enableAiChat ?? false,\r\n      }}\r\n    >\r\n      {children}\r\n    </HotelConfigContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useHotelConfig() {\r\n  const context = useContext(HotelConfigContext)\r\n  if (!context) {\r\n    throw new Error(\"useHotelConfig must be used within HotelConfigProvider\")\r\n  }\r\n  return context\r\n}\r\n","/**\r\n * Scarlet Hotel Tel Aviv - Complete Knowledge Base\r\n * Advanced AI Agent Configuration with Skills and Instructions\r\n */\r\n\r\nimport { scarletHotelConfig, scarletRoomTypes } from \"./scarlet-config\"\r\n\r\n// ============================================\r\n// SCARLET HOTEL KNOWLEDGE BASE\r\n// ============================================\r\n\r\nexport const scarletKnowledgeBase = {\r\n  // Hotel Identity & Brand\r\n  identity: {\r\n    name: \"מלון סקרלט תל אביב\",\r\n    englishName: \"Scarlet Hotel Tel Aviv\",\r\n    tagline: \"היכן שהאורבני פוגש את הרומנטי\",\r\n    taglineEnglish: \"Where Urban Meets Romantic\",\r\n    concept: \"מלון בוטיק רומנטי עם עיצוב נועז וצבעוני בלב תל אביב\",\r\n    personality: [\r\n      \"רומנטי\",\r\n      \"מודרני\",\r\n      \"אורבני\",\r\n      \"צעיר ברוח\",\r\n      \"מסביר פנים\",\r\n      \"אינטימי\"\r\n    ],\r\n    targetAudience: \"זוגות, מטיילים צעירים, אנשי עסקים שמחפשים חוויה ייחודית\",\r\n    uniqueSellingPoints: [\r\n      \"עיצוב צבעוני ונועז - כל חדר עם אווירה ייחודית\",\r\n      \"מיקום מרכזי - 5 דקות מרוטשילד, 10 דקות מחוף הים\",\r\n      \"חוויה רומנטית - חדרים עם אמבטיות Free-standing ומיטות עגולות\",\r\n      \"שירות אישי - צוות קטן ומסור\",\r\n      \"גמישות - אפשרות להוספת שירותים וחבילות\"\r\n    ]\r\n  },\r\n\r\n  // Location & Accessibility\r\n  location: {\r\n    address: \"רחוב ג'וֹרדוֹן 17, תל אביב-יפו\",\r\n    neighborhood: \"לב העיר, ליד רוטשילד\",\r\n    coordinates: {\r\n      lat: 32.0667,\r\n      lng: 34.7833\r\n    },\r\n    nearbyAttractions: [\r\n      { name: \"שדרות רוטשילד\", distance: \"5 דקות הליכה\", description: \"שדרה מרכזית עם בתי קפה ומסעדות\" },\r\n      { name: \"חוף הים של תל אביב\", distance: \"10 דקות הליכה\", description: \"טיילת וחוף ים\" },\r\n      { name: \"שוק הכרמל\", distance: \"7 דקות הליכה\", description: \"שוק עממי תוסס\" },\r\n      { name: \"שוק הנמל\", distance: \"15 דקות הליכה\", description: \"שוק אוכל ואומנות\" },\r\n      { name: \"יפו העתיקה\", distance: \"20 דקות נסיעה\", description: \"עיר עתיקה מרהיבה\" },\r\n      { name: \"שכונת נווה צדק\", distance: \"12 דקות הליכה\", description: \"שכונה מקסימה עם בוטיקים\" }\r\n    ],\r\n    transportation: {\r\n      fromAirport: \"30-40 דקות מנתב\\\"ג במונית/שירות הסעות\",\r\n      publicTransport: \"תחנת אוטובוס 2 דקות הליכה\",\r\n      parking: \"חניה ציבורית בסביבה (בתשלום)\",\r\n      bikeRental: \"עמדות Tel-O-Fun בקרבת מקום\"\r\n    }\r\n  },\r\n\r\n  // Room Types - Complete Details\r\n  rooms: scarletRoomTypes.map(room => ({\r\n    ...room,\r\n    detailedFeatures: {\r\n      bedding: room.id === 'romantic-double' \r\n        ? \"מיטה עגולה ייחודית במרכז החדר\" \r\n        : room.id === 'suite'\r\n        ? \"מיטה קינג סייז + ספה מתקפלת\"\r\n        : \"מיטה זוגית איכותית\",\r\n      bathroom: room.id === 'romantic-double' || room.id === 'deluxe-balcony-bathtub'\r\n        ? \"אמבטיה Free-standing יוקרתית\"\r\n        : room.id === 'suite'\r\n        ? \"2 חדרי רחצה מלאים\"\r\n        : \"מקלחת עם פינוק\",\r\n      view: room.id.includes('balcony') \r\n        ? \"נוף אורבני מרהיב מהמרפסת\" \r\n        : \"נוף אורבני או חצר פנימית שקטה\",\r\n      technology: [\r\n        \"טלוויזיה חכמה 43\\\"\",\r\n        \"WiFi מהיר (ללא הגבלה)\",\r\n        \"שקעי USB בכל מקום\",\r\n        \"כספת אישית\",\r\n        \"מיזוג אוויר חכם\"\r\n      ],\r\n      amenities: [\r\n        \"מיני בר (בתשלום)\",\r\n        \"פינת קפה ותה חינם\",\r\n        \"מוצרי טיפוח איכותיים\",\r\n        \"מגבות רכות ומצעים איכותיים\",\r\n        \"מייבש שיער\",\r\n        \"כלי גיהוץ (לפי בקשה)\"\r\n      ]\r\n    },\r\n    idealFor: room.id === 'romantic-double'\r\n      ? [\"זוגות רומנטיים\", \"חגיגות מיוחדות\", \"ירח דבש\"]\r\n      : room.id === 'suite'\r\n      ? [\"משפחות קטנות\", \"שהיות ארוכות\", \"אירוח אורחים\"]\r\n      : room.id === 'economy-double'\r\n      ? [\"תקציב מוגבל\", \"עסקים קצרים\", \"טיולים סולו\"]\r\n      : room.id.includes('deluxe')\r\n      ? [\"חוויה יוקרתית\", \"שהייה מפנקת\", \"אירועים מיוחדים\"]\r\n      : [\"שהייה רגילה\", \"עסקים\", \"טיולים קצרים\"],\r\n    restrictions: room.id === 'economy-double'\r\n      ? [\"מתאים למקסימום 2 אורחים\", \"אין אפשרות להוספת מיטה\"]\r\n      : room.maxGuests >= 4\r\n      ? [\"ניתן להוסיף עריסה לתינוק\"]\r\n      : []\r\n  })),\r\n\r\n  // Services & Amenities\r\n  services: {\r\n    frontDesk: {\r\n      hours: \"24/7\",\r\n      languages: [\"עברית\", \"אנגלית\", \"רוסית\"],\r\n      services: [\r\n        \"צ'ק-אין מהיר (14:00)\",\r\n        \"צ'ק-אאוט גמיש (עד 11:00, אפשרות להארכה)\",\r\n        \"שמירת כבודה חינם\",\r\n        \"המלצות מקומיות\",\r\n        \"עזרה בהזמנת מוניות ומסעדות\",\r\n        \"שירות קונסיירז'\"\r\n      ]\r\n    },\r\n    inRoom: [\r\n      \"שירות חדרים (7:00-23:00)\",\r\n      \"ניקיון יומי\",\r\n      \"החלפת מצעים ומגבות\",\r\n      \"כביסה (בתשלום)\",\r\n      \"שירותי קונסיירז'\"\r\n    ],\r\n    hotelFacilities: [\r\n      \"אינטרנט אלחוטי מהיר בכל המלון\",\r\n      \"לובי מעוצב עם פינת ישיבה\",\r\n      \"מרפסת גג משותפת\",\r\n      \"חדר כושר קטן (לפי תיאום)\",\r\n      \"אחסון אופניים\",\r\n      \"מזגן מרכזי\",\r\n      \"מערכת כיבוי אש ובטיחות\"\r\n    ],\r\n    specialServices: [\r\n      \"ארגון טיולים ופעילויות\",\r\n      \"הסעות מ/לשדה התעופה (בתשלום)\",\r\n      \"שירותי עיסוי (בתיאום מראש)\",\r\n      \"חבילות רומנטיות\",\r\n      \"ארוחת בוקר לחדר (בתוספת תשלום)\",\r\n      \"אירוח חיות מחמד (לפי אישור)\"\r\n    ]\r\n  },\r\n\r\n  // Dining Options\r\n  dining: {\r\n    breakfast: {\r\n      available: false,\r\n      note: \"המלון לא כולל ארוחת בוקר\",\r\n      alternatives: [\r\n        \"המלצות מטובמון לבתי קפה בקרבת מקום\",\r\n        \"אפשרות להזמנת ארוחת בוקר לחדר ממסעדות שותפות\",\r\n        \"פינת קפה ותה בחדר\"\r\n      ]\r\n    },\r\n    nearbyRestaurants: [\r\n      { name: \"שוק הכרמל\", type: \"שוק אוכל\", distance: \"7 דקות\", cuisine: \"מגוון\" },\r\n      { name: \"רוטשילד\", type: \"רחוב מסעדות\", distance: \"5 דקות\", cuisine: \"בינלאומי\" },\r\n      { name: \"שוק הנמל\", type: \"שוק אוכל\", distance: \"15 דקות\", cuisine: \"אומנות אוכל\" }\r\n    ]\r\n  },\r\n\r\n  // Promotions & Special Offers\r\n  promotions: scarletHotelConfig.activePromotions,\r\n\r\n  // Policies\r\n  policies: {\r\n    checkIn: \"14:00 (אפשרות צ'ק-אין מוקדם בכפוף לזמינות)\",\r\n    checkOut: \"11:00 (אפשרות להארכה עד 13:00 בתוספת תשלום)\",\r\n    cancellation: [\r\n      \"ביטול חינם עד 48 שעות לפני ההגעה\",\r\n      \"ביטול באיחור - חיוב לילה אחד\",\r\n      \"אי הגעה - חיוב מלא\"\r\n    ],\r\n    payment: [\r\n      \"כרטיסי אשראי: Visa, Mastercard, American Express\",\r\n      \"תשלום במזומן (שקלים בלבד)\",\r\n      \"העברה בנקאית (בתיאום מראש)\"\r\n    ],\r\n    childrenAndPets: {\r\n      children: \"ילדים מכל גיל מוזמנים\",\r\n      infants: \"עריסה לתינוק - חינם (לפי בקשה מראש)\",\r\n      pets: \"חיות מחמד - בכפוף לאישור מראש (ייתכן תוספת תשלום)\"\r\n    },\r\n    smoking: \"אסור לעשן בחדרים - יש מרפסת ייעודית למעשנים\"\r\n  },\r\n\r\n  // Contact Information\r\n  contact: scarletHotelConfig.contact,\r\n\r\n  // FAQ - Common Questions\r\n  faq: [\r\n    {\r\n      q: \"האם יש חניה במלון?\",\r\n      a: \"אין חניה צמודה למלון, אך יש חניה ציבורית בסביבה (כ-50 מטר). הצוות יעזור עם המלצות להורדת כבודה.\"\r\n    },\r\n    {\r\n      q: \"האם יש ארוחת בוקר?\",\r\n      a: \"המלון לא כולל ארוחת בוקר, אך יש המון בתי קפה מעולים בהליכה של דקות. הצוות ישמח להמליץ.\"\r\n    },\r\n    {\r\n      q: \"האם יש בריכה?\",\r\n      a: \"אין בריכה במלון, אך חוף הים במרחק 10 דקות הליכה.\"\r\n    },\r\n    {\r\n      q: \"מה המרחק לשדה התעופה?\",\r\n      a: \"30-40 דקות נסיעה בהתאם לתנועה. אנחנו יכולים לארגן הסעה מראש.\"\r\n    },\r\n    {\r\n      q: \"האם אפשר לעשן בחדרים?\",\r\n      a: \"אסור לעשן בחדרים. יש מרפסת ייעודית למעשנים.\"\r\n    },\r\n    {\r\n      q: \"מה הגיל המינימלי לצ'ק-אין?\",\r\n      a: \"18 שנים. נדרש תעודה מזהה בצ'ק-אין.\"\r\n    }\r\n  ],\r\n\r\n  // Seasonal Information\r\n  seasonalInfo: {\r\n    summer: {\r\n      months: [\"יוני\", \"יולי\", \"אוגוסט\"],\r\n      characteristics: \"עונת שיא - מזג אוויר חם, מומלץ חדר עם מיזוג טוב\",\r\n      tips: \"הזמינו מראש! העיר עמוסה בתיירים\"\r\n    },\r\n    winter: {\r\n      months: [\"דצמבר\", \"ינואר\", \"פברואר\"],\r\n      characteristics: \"עונה שקטה - מזג אוויר נעים, פחות תיירים\",\r\n      tips: \"מחירים טובים יותר, אפשר לנסות לקבל שדרוג חינם\"\r\n    },\r\n    holidays: {\r\n      jewish: [\"ראש השנה\", \"יום כיפור\", \"פסח\", \"סוכות\"],\r\n      note: \"במהלך חגים - מחירים גבוהים יותר, יש להזמין מראש\"\r\n    }\r\n  },\r\n\r\n  // Neighborhood Guide\r\n  neighborhoodGuide: {\r\n    dining: [\r\n      \"רוטשילד - מסעדות יוקרה ובתי קפה\",\r\n      \"שוק הכרמל - אוכל רחוב זול וטעים\",\r\n      \"נווה צדק - מסעדות בוטיק\"\r\n    ],\r\n    nightlife: [\r\n      \"רחוב אלנבי - ברים ומועדונים\",\r\n      \"הנמל - בילויי לילה מול הים\",\r\n      \"פלורנטין - ברים אלטרנטיביים\"\r\n    ],\r\n    shopping: [\r\n      \"דיזנגוף סנטר - קניון מרכזי\",\r\n      \"שוק הכרמל - קניות באווירה מקומית\",\r\n      \"נווה צדק - בוטיקים ייחודיים\"\r\n    ],\r\n    culture: [\r\n      \"תיאטרון הבימה\",\r\n      \"מוזיאון תל אביב\",\r\n      \"גלריות אמנות ברוטשילד\",\r\n      \"בית אגרון\"\r\n    ]\r\n  },\r\n\r\n  // Reviews & Testimonials\r\n  reviews: {\r\n    averageRating: 4.7,\r\n    totalReviews: 342,\r\n    highlights: [\r\n      \"מיקום מעולה - 95% חיובי\",\r\n      \"ניקיון - 92% חיובי\",\r\n      \"שירות - 89% חיובי\",\r\n      \"עיצוב ייחודי - 94% חיובי\"\r\n    ],\r\n    commonPraise: [\r\n      \"עיצוב מדהים וצבעוני\",\r\n      \"צוות מסביר פנים ועוזר\",\r\n      \"מיקום מושלם למטיילים\",\r\n      \"חדרים נקיים ומעוצבים יפה\",\r\n      \"אווירה רומנטית\"\r\n    ],\r\n    areasForImprovement: [\r\n      \"אין ארוחת בוקר\",\r\n      \"חדרים קטנים בחלקם\",\r\n      \"אין חניה צמודה\"\r\n    ]\r\n  }\r\n}\r\n\r\n// ============================================\r\n// AI AGENT SKILLS & CAPABILITIES\r\n// ============================================\r\n\r\nexport const scarletAISkills = {\r\n  // Skill 1: Room Recommendation Engine\r\n  roomRecommendation: {\r\n    name: \"המלצת חדרים חכמה\",\r\n    description: \"ניתוח צרכי האורח והמלצה על החדר המתאים ביותר\",\r\n    parameters: [\r\n      \"מספר אורחים\",\r\n      \"תקציב\",\r\n      \"מטרת הטיול (רומנטי/עסקים/משפחה)\",\r\n      \"העדפות מיוחדות\"\r\n    ],\r\n    logic: `\r\n      1. זוג רומנטי + תקציב גבוה → הרומנטי או הסוויטה\r\n      2. משפחה קטנה → הסוויטה או הדלוקס\r\n      3. תקציב מוגבל → האקונומי או הקלאסי\r\n      4. חוויה יוקרתית → הדלוקס עם מרפסת ואמבטיה\r\n      5. שהייה ארוכה → הסוויטה (יותר מרחב)\r\n    `\r\n  },\r\n\r\n  // Skill 2: Price Calculator\r\n  priceCalculation: {\r\n    name: \"חישוב מחיר מדויק\",\r\n    description: \"חישוב מחיר סופי כולל מבצעים והנחות\",\r\n    steps: [\r\n      \"מחיר בסיס לפי סוג חדר\",\r\n      \"מספר לילות\",\r\n      \"בדיקת מבצעים פעילים\",\r\n      \"החלת הנחות\",\r\n      \"סה\\\"כ + פירוט\"\r\n    ]\r\n  },\r\n\r\n  // Skill 3: Availability Checker\r\n  availabilityCheck: {\r\n    name: \"בדיקת זמינות בזמן אמת\",\r\n    description: \"חיבור ל-Knowaa API לבדיקת זמינות אמיתית\",\r\n    apiEndpoint: \"/api/hotels/search\",\r\n    hotelId: \"863233\"\r\n  },\r\n\r\n  // Skill 4: Booking Assistant\r\n  bookingAssistant: {\r\n    name: \"סיוע בתהליך הזמנה\",\r\n    description: \"ליווי מלא בתהליך ההזמנה\",\r\n    steps: [\r\n      \"איסוף פרטי האורח\",\r\n      \"PreBook (30 דקות)\",\r\n      \"מילוי פרטים\",\r\n      \"תשלום\",\r\n      \"אישור הזמנה\"\r\n    ]\r\n  },\r\n\r\n  // Skill 5: Local Expert\r\n  localExpert: {\r\n    name: \"מומחה מקומי\",\r\n    description: \"המלצות על מסעדות, אטרקציות, ופעילויות בתל אביב\",\r\n    categories: [\r\n      \"מסעדות ובתי קפה\",\r\n      \"אטרקציות תיירותיות\",\r\n      \"חיי לילה\",\r\n      \"קניות\",\r\n      \"תרבות ואמנות\"\r\n    ]\r\n  },\r\n\r\n  // Skill 6: Special Requests Handler\r\n  specialRequests: {\r\n    name: \"טיפול בבקשות מיוחדות\",\r\n    description: \"רישום והעברת בקשות מיוחדות לצוות\",\r\n    types: [\r\n      \"חבילות רומנטיות (פרחים, שמפניה, שוקולד)\",\r\n      \"חגיגות (עוגה, בלונים, קישוטים)\",\r\n      \"צרכים מיוחדים (אלרגיות, דיאטה, נגישות)\",\r\n      \"שירותים נוספים (עיסוי, הסעות, טיולים)\"\r\n    ]\r\n  },\r\n\r\n  // ============================================\r\n  // NEW ADVANCED SKILLS\r\n  // ============================================\r\n\r\n  // Skill 7: Analytics & Behavior Tracking\r\n  analyticsTracking: {\r\n    name: \"מעקב והתנהגות משתמש\",\r\n    description: \"עוקב אחרי התנהגות המשתמש ומשפר את ההמלצות לפיה\",\r\n    parameters: [\r\n      \"דפי הצפייה\",\r\n      \"חדרים שצפה\",\r\n      \"זמן בדף\",\r\n      \"שאלות שנשאלו\"\r\n    ],\r\n    logic: [\r\n      \"1. עקוב אחרי חדרים שהמשתמש התעניין בהם\",\r\n      \"2. זהה דפוסי עניין (הרבה שאלות על רומנטיקה → זוג)\",\r\n      \"3. שפר המלצות לפי היסטוריה (צפה ב-Deluxe → הצע Suite)\",\r\n      \"4. זהה נקודות נטישה (יצא מדף תשלום → הצע הנחה)\",\r\n      \"5. שלח אירועים ל-Google Analytics\"\r\n    ],\r\n    apiEndpoint: \"/api/analytics/track\",\r\n    integration: \"Google Analytics GA4\"\r\n  },\r\n\r\n  // Skill 8: Loyalty Program Management\r\n  loyaltyProgram: {\r\n    name: \"מועדון לקוחות והטבות\",\r\n    description: \"מנהל רישום למועדון לקוחות ומציע הטבות\",\r\n    parameters: [\r\n      \"אימייל לקוח\",\r\n      \"מספר הזמנות קודמות\",\r\n      \"רמת חברות (Silver/Gold/Platinum)\"\r\n    ],\r\n    logic: [\r\n      \"1. בדוק אם הלקוח כבר חבר במועדון\",\r\n      \"2. הצע הרשמה עם הטבות (10% הנחה על הזמנה הבאה)\",\r\n      \"3. הצג נקודות זכות קיימות\",\r\n      \"4. הצע שדרוג רמה (5 הזמנות → Gold)\",\r\n      \"5. שלח הטבות אקסקלוסיביות (צ'ק-אין מוקדם חינם)\"\r\n    ],\r\n    apiEndpoint: \"/api/loyalty/join\",\r\n    component: \"LoyaltySignup\",\r\n    benefits: {\r\n      silver: \"5% הנחה קבועה\",\r\n      gold: \"10% הנחה + צ'ק-אין מוקדם חינם\",\r\n      platinum: \"15% הנחה + שדרוג חינם + Late checkout\"\r\n    }\r\n  },\r\n\r\n  // Skill 9: Weather & Local Attractions\r\n  weatherAndAttractions: {\r\n    name: \"מזג אוויר ואטרקציות מקומיות\",\r\n    description: \"מספק מידע על מזג אוויר ואטרקציות בתאריכי השהייה\",\r\n    parameters: [\r\n      \"תאריכי שהייה\",\r\n      \"יעד (תל אביב)\",\r\n      \"סוג אטרקציות (מוזיאונים/חופים/מסעדות)\"\r\n    ],\r\n    logic: [\r\n      \"1. שלוף תחזית מזג אוויר לתאריכי השהייה\",\r\n      \"2. המלץ על פעילויות לפי מזג האוויר (חם → חוף הים)\",\r\n      \"3. הצג אטרקציות בהליכה מהמלון (רוטשילד, שוק הכרמל)\",\r\n      \"4. המלץ על מסעדות ובתי קפה בקרבת מקום\",\r\n      \"5. התראה על אירועים מיוחדים בתאריכים אלה\"\r\n    ],\r\n    apiEndpoint: \"/api/destination/weather\",\r\n    dataSource: \"Tavily API + Internal Knowledge Base\",\r\n    nearbyAttractions: scarletKnowledgeBase.location.nearbyAttractions\r\n  },\r\n\r\n  // Skill 10: Promotions & Discount Manager\r\n  promotionsManager: {\r\n    name: \"קופונים והנחות\",\r\n    description: \"מנהל קודי קופון והנחות זמינות\",\r\n    parameters: [\r\n      \"קוד קופון\",\r\n      \"תאריכי שהייה\",\r\n      \"סוג מכשיר (מובייל/דסקטופ)\",\r\n      \"מספר לילות\"\r\n    ],\r\n    logic: [\r\n      \"1. בדוק קופונים פעילים (MOBILE_FLASH_2024 → 20% מובייל)\",\r\n      \"2. אמת תקפות הקופון (תאריכים, תנאים)\",\r\n      \"3. חשב הנחה (אחוזים/סכום קבוע)\",\r\n      \"4. הצע מבצעים רלוונטיים (הזמנה מוקדמת, סופ״ש)\",\r\n      \"5. הצג שורת הזמן (מבצע מסתיים בעוד 3 שעות!)\"\r\n    ],\r\n    apiEndpoint: \"/api/promotions/validate\",\r\n    activePromotions: scarletKnowledgeBase.promotions,\r\n    urgencyTactics: [\r\n      \"מבצע פלאש - נותרו רק 3 שעות!\",\r\n      \"עוד 2 חדרים בלבד במחיר זה\",\r\n      \"הזמינו היום וקבלו 15% נוסף\"\r\n    ]\r\n  },\r\n\r\n  // Skill 11: Reviews & Ratings Display\r\n  reviewsSystem: {\r\n    name: \"ביקורות ודירוגים\",\r\n    description: \"מציג ביקורות אמיתיות ומנתח דירוגים\",\r\n    parameters: [\r\n      \"מספר כוכבים\",\r\n      \"קטגוריות (ניקיון/מיקום/שירות/ערך)\",\r\n      \"ביקורות אחרונות\"\r\n    ],\r\n    logic: [\r\n      \"1. הצג דירוג כולל של המלון (4.7/5)\",\r\n      \"2. פרק לפי קטגוריות (מיקום: 5/5, שירות: 4.5/5)\",\r\n      \"3. הדגש ביקורות חיוביות רלוונטיות (\\\"מיקום מושלם\\\")\",\r\n      \"4. ענה על חששות (\\\"אין חניה\\\" → הסבר על חניה ציבורית)\",\r\n      \"5. הזמן לקוחות להשאיר ביקורת אחרי השהייה\"\r\n    ],\r\n    averageRating: scarletKnowledgeBase.reviews.averageRating,\r\n    totalReviews: scarletKnowledgeBase.reviews.totalReviews,\r\n    highlights: scarletKnowledgeBase.reviews.highlights,\r\n    apiEndpoint: \"/api/reviews/hotel/863233\"\r\n  },\r\n\r\n  // Skill 12: Travel Trends & Insights\r\n  travelTrends: {\r\n    name: \"תובנות וטרנדים\",\r\n    description: \"מציג טרנדים פופולריים ויעדי טיול חמים\",\r\n    parameters: [\r\n      \"יעד נוכחי (תל אביב)\",\r\n      \"עונה\",\r\n      \"סוג טיול\"\r\n    ],\r\n    logic: [\r\n      \"1. הצג טרנדים פופולריים בתל אביב (חיפושים עולים)\",\r\n      \"2. המלץ על תקופות טובות לביקור (אוקטובר → מזג אוויר נעים)\",\r\n      \"3. שתף אירועים קרובים (פסטיבלים, קונצרטים)\",\r\n      \"4. הצע יעדים חלופיים אם תל אביב עמוסה\",\r\n      \"5. הצג מחירים יחסיים (תל אביב vs ירושלים)\"\r\n    ],\r\n    apiEndpoint: \"/api/trends\",\r\n    dataSource: \"Google Trends API\",\r\n    seasonalInsights: scarletKnowledgeBase.seasonalInfo\r\n  },\r\n\r\n  // Skill 13: WhatsApp Business Integration\r\n  whatsappSupport: {\r\n    name: \"תמיכה בוואטסאפ\",\r\n    description: \"מאפשר שירות לקוחות דרך WhatsApp\",\r\n    parameters: [\r\n      \"מספר טלפון\",\r\n      \"שפה (עברית/אנגלית)\",\r\n      \"סוג פנייה (שאלה/הזמנה/שינוי)\"\r\n    ],\r\n    logic: [\r\n      \"1. הצע המשך שיחה בוואטסאפ (קישור ישיר)\",\r\n      \"2. שלח אישור הזמנה בוואטסאפ\",\r\n      \"3. עדכונים על סטטוס הזמנה\",\r\n      \"4. תמיכה מהירה 24/7\",\r\n      \"5. שליחה של תמונות חדרים ופרטים נוספים\"\r\n    ],\r\n    whatsappNumber: scarletHotelConfig.contact.whatsapp || \"+972-XX-XXX-XXXX\",\r\n    businessAccount: true,\r\n    apiEndpoint: \"/api/whatsapp/send\",\r\n    features: [\r\n      \"שליחת הודעות אוטומטיות\",\r\n      \"תמיכה בעברית ואנגלית\",\r\n      \"העברת שיחה לצוות אנושי\",\r\n      \"שליחת מדיה (תמונות, PDF)\"\r\n    ]\r\n  }\r\n}\r\n\r\n// ============================================\r\n// SYSTEM INSTRUCTIONS\r\n// ============================================\r\n\r\nexport const scarletSystemInstructions = `\r\n# מלון סקרלט תל אביב - קונסיירז' וירטואלי מתקדם\r\n\r\n## זהות ותפקיד\r\nאתה הקונסיירז' הוירטואלי המתקדם של מלון סקרלט תל אביב - מלון בוטיק רומנטי ומיוחד בלב העיר.\r\nתפקידך הוא לספק שירות אישי, חם ומקצועי לאורחים פוטנציאליים ונוכחיים עם 13 יכולות מתקדמות.\r\n\r\n## 13 היכולות החכמות שלך\r\n\r\n### 1. 🔍 חיפוש חכם (availabilityCheck)\r\n- חיבור ישיר ל-Knowaa API (hotelId: 863233)\r\n- בדיקת זמינות בזמן אמת\r\n- מחירים מעודכנים לתאריכים ספציפיים\r\n- הצגת אפשרויות חלופיות אם אין זמינות\r\n\r\n### 2. ❤️ המלצות אישיות (roomRecommendation)\r\n- ניתוח צרכים: זוג רומנטי → Romantic Double\r\n- התאמת תקציב: מוגבל → Economy, גבוה → Suite/Deluxe\r\n- העדפות מיוחדות: מרפסת → Deluxe Balcony, אמבטיה → Romantic/Deluxe Bathtub\r\n- תמיד הצע 2-3 אפשרויות עם הסברים ברורים\r\n\r\n### 3. 🧮 חישוב מחירים (priceCalculation)\r\n- מחיר בסיס × מספר לילות\r\n- בדיקה אוטומטית של מבצעים פעילים\r\n- החלת קודי קופון והנחות\r\n- הצגת פירוט ברור של הסכום הסופי\r\n\r\n### 4. 💳 ליווי הזמנה (bookingAssistant)\r\n- הסבר על תהליך ה-PreBook (30 דקות)\r\n- ליווי במילוי פרטים אישיים\r\n- סיוע בתשלום ואבטחה\r\n- שליחת אישור מיידי\r\n\r\n### 5. 📍 מומחה מקומי (localExpert)\r\n- המלצות מסעדות: רוטשילד (5 דק׳), שוק הכרמל (7 דק׳)\r\n- אטרקציות: חוף הים (10 דק׳), יפו העתיקה (20 דק׳)\r\n- חיי לילה: רחוב אלנבי, הנמל, פלורנטין\r\n- טיפים מקומיים: תחבורה, שעות, אירועים\r\n\r\n### 6. ✨ בקשות מיוחדות (specialRequests)\r\n- חבילות רומנטיות: פרחים, שמפניה, שוקולד\r\n- חגיגות: עוגה, בלונים, קישוטים\r\n- צרכים מיוחדים: אלרגיות, נגישות, דיאטה\r\n- שירותים: עיסוי, הסעות, טיולים מאורגנים\r\n\r\n### 7. ⭐ ביקורות ודירוגים (reviewsSystem)\r\n- דירוג כולל: 4.7/5 (342 ביקורות)\r\n- פירוט: מיקום 5/5, ניקיון 5/5, שירות 4.5/5, ערך 4.2/5\r\n- הדגשת נקודות חוזק: \"עיצוב מדהים\", \"מיקום מושלם\"\r\n- מענה לחששות: \"אין חניה\" → הסבר על חניה ציבורית קרובה\r\n\r\n### 8. 🎟️ מבצעים וקופונים (promotionsManager)\r\n- **MOBILE_FLASH_2024:** 20% מובייל (24 שעות!)\r\n- **EARLY_BIRD_2024:** 15% הזמנה מוקדמת (30+ ימים מראש)\r\n- **WEEKEND_SPECIAL:** 500₪ הנחה סופ\"ש\r\n- יצירת דחיפות: \"נותרו רק 3 שעות למבצע!\"\r\n\r\n### 9. 👑 מועדון VIP (loyaltyProgram)\r\n- **Silver:** 5% הנחה קבועה\r\n- **Gold:** 10% הנחה + צ׳ק-אין מוקדם חינם\r\n- **Platinum:** 15% הנחה + שדרוג חינם + Late checkout\r\n- הרשמה: הצע הטבת 10% על ההזמנה הבאה\r\n\r\n### 10. ☁️ מזג אוויר ואטרקציות (weatherAndAttractions)\r\n- תחזית מדויקת לתאריכי השהייה\r\n- המלצות לפי מזג אוויר: חם → חוף הים, קר → מוזיאונים\r\n- אירועים מיוחדים בתאריכים (פסטיבלים, חגים)\r\n- מפת אטרקציות בהליכה מהמלון\r\n\r\n### 11. 📈 טרנדים ותובנות (travelTrends)\r\n- תקופות פופולריות: קיץ (יולי-אוגוסט), חגים\r\n- תקופות שקטות: חורף (ינואר-פברואר) → מחירים טובים\r\n- השוואת מחירים: תל אביב vs יעדים אחרים\r\n- המלצות על תזמון: \"הזמינו עכשיו לחגים!\"\r\n\r\n### 12. 💬 תמיכה בWhatsApp (whatsappSupport)\r\n- שליחת קישור ישיר לשיחה\r\n- אישורי הזמנה בוואטסאפ\r\n- עדכוני סטטוס real-time\r\n- שליחת תמונות חדרים ומידע נוסף\r\n\r\n### 13. 📊 מעקב חכם (analyticsTracking)\r\n- זיהוי דפוסים: צפייה ב-3 חדרים רומנטיים → זוג מחפש חוויה\r\n- שיפור המלצות: התעניין ב-Deluxe → הצע Suite\r\n- זיהוי נטישה: יצא מדף תשלום → שלח הנחת 5%\r\n- עקיבה ב-Google Analytics\r\n\r\n## סגנון תקשורת\r\n- **טון:** חם, ידידותי, מקצועי אך לא פורמלי מדי\r\n- **שפה:** עברית טבעית וזורמת (אלא אם התבקש אנגלית)\r\n- **גישה:** מותאמת אישית - שאל שאלות כדי להבין צרכים\r\n- **אמפתיה:** הקשב לצרכים והעדפות, הציע פתרונות יצירתיים\r\n\r\n## כללי תקשורת מתקדמים\r\n1. **תמיד** הציג את עצמך ב-13 היכולות בתגובה הראשונה\r\n2. **שאל שאלות חכמות** כדי להפעיל את הכלים הנכונים\r\n3. **המלץ בחוכמה** - התאם לתקציב ולצרכים האמיתיים\r\n4. **הדגש ייחודיות** - העיצוב, האווירה הרומנטית, המיקום המושלם\r\n5. **שקיפות מלאה** - אם משהו לא זמין, הציע אלטרנטיבות מיד\r\n6. **יצירת דחיפות** - \"מבצע מסתיים בעוד 3 שעות\", \"נותרו 2 חדרים בלבד\"\r\n7. **חיבור רגשי** - דבר על חוויות, לא רק על חדרים\r\n\r\n## מצבים מיוחדים\r\n\r\n### זוג רומנטי\r\n→ Romantic Double + חבילת רומנטיקה (פרחים + שמפניה)\r\n→ הדגש: מיטה עגולה, אמבטיה Free-standing, עיצוב נועז\r\n→ שאל: יום הולדת? יום נישואים? הצע קישוטים\r\n\r\n### תקציב מוגבל\r\n→ Economy או Classic + קוד MOBILE_FLASH_2024 (20%)\r\n→ הדגש: המיקום חוסך תחבורה, הכל בהליכה\r\n→ הצע: תאריכים גמישים למחירים טובים יותר\r\n\r\n### משפחה\r\n→ Suite (2 חדרים, 45 מ\"ר) + עריסת תינוק חינם\r\n→ הדגש: מרחב, פרטיות, 2 חדרי רחצה\r\n→ המלץ: אטרקציות משפחתיות (חוף, גן חיות, פארקים)\r\n\r\n### לקוח חוזר\r\n→ בדוק היסטוריה במועדון לקוחות\r\n→ הצע שדרוג: \"ראינו ששהית ב-Deluxe, מה דעתך על Suite הפעם?\"\r\n→ נקודות זכות: \"יש לך 500 נקודות = 50₪ הנחה\"\r\n\r\n## דוגמאות לתגובות מתקדמות\r\n\r\n**פתיחה:**\r\n\"שלום! 👋 אני הקונסיירז' הוירטואלי המתקדם של מלון סקרלט תל אביב עם 13 יכולות חכמות:\r\n✨ המלצות אישיות | 🔍 זמינות בזמן אמת | 💳 ליווי הזמנה מלא | ⭐ ביקורות 4.7/5 | 🎟️ מבצעים בלעדיים | 👑 מועדון VIP | ☁️ מזג אוויר | 📈 טרנדים | 💬 WhatsApp ועוד!\r\n\r\nבמה אוכל לסייע היום?\"\r\n\r\n**המלצה מתקדמת:**\r\n\"מעולה! לפי מה שסיפרת (זוג רומנטי, סופ״ש, תקציב 1,200₪), יש לי את ההמלצה המושלמת:\r\n\r\n🌹 **הדלוקס עם מרפסת ואמבטיה** - 1,080₪ ללילה\r\n(חיסכון של 120₪ עם WEEKEND_SPECIAL!)\r\n\r\n✨ למה זה מושלם:\r\n• מרפסת פרטית עם נוף אורבני מרהיב 🌃\r\n• אמבטיה Free-standing יוקרתית 🛁\r\n• 28 מ״ר מרווח ומעוצב 🎨\r\n• דירוג 4.9/5 - \\\"רומנטי מושלם!\\\" ⭐\r\n\r\n☁️ **בונוס:** מזג האוויר בסופ״ש: 24°C מעונן חלקית - מושלם לטיול בעיר!\r\n\r\n📍 **באזור:** רוטשילד (5 דק׳), חוף הים (10 דק׳), שוק הכרמל (7 דק׳)\r\n\r\n🎁 **רוצה להוסיף?**\r\n• חבילת רומנטיקה: פרחים + שמפניה + שוקולד (150₪)\r\n• הרשמה למועדון VIP - קבל 10% הנחה על השהייה הבאה\r\n\r\nרוצה לבדוק זמינות סופית לתאריכים שלך?\"\r\n\r\n**יצירת דחיפות:**\r\n\"⚡ **מבצע פלאש!** קוד MOBILE_FLASH_2024 נותן 20% הנחה נוספת - אבל נותרו רק 2 שעות!\r\n\r\nהמחיר שלך יירד מ-1,080₪ ל-**864₪** ללילה! \r\nזה חיסכון של 216₪ לשני לילות! 🎉\r\n\r\n📱 אתה גולש מהמובייל - הקוד אוטומטית יחול בתשלום.\r\n\r\nאז מה עושים? מזמינים עכשיו? 🚀\"\r\n\r\n## חשוב מאוד!\r\n- **תמיד** בדוק זמינות real-time דרך ה-API\r\n- **לעולם אל** תמציא מידע - אם לא יודע, תגיד שתבדוק\r\n- **הקפד** על מחירים מדויקים כולל מבצעים ומע״מ\r\n- **השתמש** בכל 13 היכולות במקביל - זה מה שעושה אותך מיוחד\r\n- **זכור** - מטרה היא חוויית לקוח יוצאת דופן + המרה גבוהה\r\n\r\n## קו אדום\r\n❌ לא לתת מידע לא מדויק על מחירים או זמינות\r\n❌ לא להבטיח דברים שהמלון לא מציע\r\n❌ לא להמליץ על מתחרים\r\n❌ לא לשכוח להשתמש ביכולות המתקדמות\r\n✅ תמיד להיות כנה ושקופה\r\n✅ להתמקד בחוזקות: עיצוב, מיקום, רומנטיקה\r\n✅ לתת שירות אישי ואכפתי עם טכנולוגיה חכמה\r\n✅ להשתמש ב-13 היכולות כדי להיות הקונסיירז׳ הטוב ביותר\r\n`\r\n\r\nexport default scarletKnowledgeBase\r\n"],"names":[],"mappings":"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,CAAC,OAAQ,OAAQ,SAAS,CAClC,gBAAiB,kDACjB,KAAM,iCACR,EACA,OAAQ,CACN,OAAQ,CAAC,QAAS,QAAS,SAAS,CACpC,gBAAiB,0CACjB,KAAM,+CACR,EACA,SAAU,CACR,OAAQ,CAAC,WAAY,YAAa,MAAO,QAAQ,CACjD,KAAM,iDACR,CACF,EAGA,kBAAmB,CACjB,OAAQ,CACN,kCACA,kCACA,0BACD,CACD,UAAW,CACT,8BACA,6BACA,8BACD,CACD,SAAU,CACR,6BACA,mCACA,8BACD,CACD,QAAS,CACP,gBACA,kBACA,wBACA,YACD,AACH,EAGA,QAAS,CACP,cAAe,IACf,aAAc,IACd,WAAY,CACV,0BACA,qBACA,oBACA,2BACD,CACD,aAAc,CACZ,sBACA,wBACA,uBACA,2BACA,iBACD,CACD,oBAAqB,CACnB,iBACA,oBACA,iBACD,AACH,CACF,EAMa,EAAkB,CAE7B,mBAAoB,CAClB,KAAM,mBACN,YAAa,+CACb,WAAY,CACV,cACA,QACA,kCACA,iBACD,CACD,MAAO,CAAC;;;;;;IAMR,CAAC,AACH,EAGA,iBAAkB,CAChB,KAAM,mBACN,YAAa,qCACb,MAAO,CACL,wBACA,aACA,sBACA,aACA,eACD,AACH,EAGA,kBAAmB,CACjB,KAAM,wBACN,YAAa,0CACb,YAAa,qBACb,QAAS,QACX,EAGA,iBAAkB,CAChB,KAAM,oBACN,YAAa,0BACb,MAAO,CACL,mBACA,oBACA,cACA,QACA,cACD,AACH,EAGA,YAAa,CACX,KAAM,cACN,YAAa,iDACb,WAAY,CACV,kBACA,qBACA,WACA,QACA,eACD,AACH,EAGA,gBAAiB,CACf,KAAM,uBACN,YAAa,mCACb,MAAO,CACL,0CACA,iCACA,yCACA,wCACD,AACH,EAOA,kBAAmB,CACjB,KAAM,sBACN,YAAa,iDACb,WAAY,CACV,aACA,aACA,UACA,eACD,CACD,MAAO,CACL,yCACA,oDACA,wDACA,iDACA,oCACD,CACD,YAAa,uBACb,YAAa,sBACf,EAGA,eAAgB,CACd,KAAM,uBACN,YAAa,wCACb,WAAY,CACV,cACA,qBACA,mCACD,CACD,MAAO,CACL,mCACA,iDACA,4BACA,qCACA,iDACD,CACD,YAAa,oBACb,UAAW,gBACX,SAAU,CACR,OAAQ,gBACR,KAAM,gCACN,SAAU,uCACZ,CACF,EAGA,sBAAuB,CACrB,KAAM,8BACN,YAAa,kDACb,WAAY,CACV,eACA,gBACA,wCACD,CACD,MAAO,CACL,yCACA,oDACA,qDACA,wCACA,2CACD,CACD,YAAa,2BACb,WAAY,uCACZ,kBAAmB,EAAqB,QAAQ,CAAC,iBAAiB,AACpE,EAGA,kBAAmB,CACjB,KAAM,iBACN,YAAa,gCACb,WAAY,CACV,YACA,eACA,4BACA,aACD,CACD,MAAO,CACL,0DACA,uCACA,iCACA,gDACA,8CACD,CACD,YAAa,2BACb,iBAAkB,EAAqB,UAAU,CACjD,eAAgB,CACd,+BACA,4BACA,6BAEJ,AADG,EAIH,cAAe,CACb,KAAM,mBACN,YAAa,qCACb,WAAY,CACV,cACA,oCACA,kBACD,CACD,MAAO,CACL,qCACA,iDACA,oDACA,sDACA,2CACD,CACD,cAAe,EAAqB,OAAO,CAAC,aAAa,CACzD,aAAc,EAAqB,OAAO,CAAC,YAAY,CACvD,WAAY,EAAqB,OAAO,CAAC,UAAU,CACnD,YAAa,2BACf,EAGA,aAAc,CACZ,KAAM,iBACN,YAAa,wCACb,WAAY,CACV,sBACA,OACA,WACD,CACD,MAAO,CACL,mDACA,4DACA,6CACA,wCACA,4CACD,CACD,YAAa,cACb,WAAY,oBACZ,iBAAkB,EAAqB,YAAY,AACrD,EAGA,gBAAiB,CACf,KAAM,iBACN,YAAa,kCACb,WAAY,CACV,aACA,qBACA,+BACD,CACD,MAAO,CACL,yCACA,8BACA,4BACA,sBACA,yCACD,CACD,eAAgB,EAAA,kBAAkB,CAAC,OAAO,CAAC,QAAQ,EAAI,mBACvD,iBAAiB,EACjB,YAAa,qBACb,SAAU,CACR,yBACA,uBACA,yBACA,2BACD,AACH,CACF,EDvgBM,EAA4B,CAChC,GAAI,aACJ,KAAM,aACN,QAAS,SACT,UAAW,aACX,KAAM,WACN,MAAO,EACP,SAAU,IACV,c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"}