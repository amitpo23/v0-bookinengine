module.exports=[918622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},193695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},442315,(e,t,r)=>{"use strict";t.exports=e.r(918622)},347540,(e,t,r)=>{"use strict";t.exports=e.r(442315).vendored["react-rsc"].React},323831,e=>{"use strict";var t=e.i(224389);let r=[],s=null,o="\x1b[0m",a="\x1b[2m",n="\x1b[31m",i="\x1b[32m",l="\x1b[33m";function c(e,t=200){return e?e.length<=t?e:e.substring(0,t)+"...":""}class d{static instance;enabled=!0;constructor(){}static getInstance(){return d.instance||(d.instance=new d),d.instance}setEnabled(e){this.enabled=e}formatLogForConsole(e){var t;let r=new Date(e.timestamp).toLocaleTimeString("he-IL"),s=function(e){switch(e){case"api":return"ðŸŒ";case"medici":return"ðŸ¨";case"booking":return"ðŸ“‹";case"auth":return"ðŸ”";case"system":return"âš™ï¸";default:return"ðŸ“"}}(e.category),c=function(e){switch(e){case"debug":return a;case"info":return"\x1b[36m";case"warn":return l;case"error":return n;default:return"\x1b[37m"}}(e.level),d=`${a}[${r}]${o} ${s} ${c}[${e.level.toUpperCase()}]${o} `;if(d+=`\x1b[1m${e.action}${o}`,e.method&&e.endpoint){let t="GET"===e.method?i:"POST"===e.method?"\x1b[34m":"PUT"===e.method?l:n;d+=` ${t}${e.method}${o} ${e.endpoint}`}if(e.statusCode){let t=e.statusCode<300?i:e.statusCode<400?l:n;d+=` ${t}[${e.statusCode}]${o}`}return e.duration&&(d+=` \x1b[35m(${(t=e.duration)<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`})${o}`),d}async log(e){if(!this.enabled)return;let t={...e,timestamp:new Date().toISOString()};console.log(this.formatLogForConsole(t)),"error"===e.level&&e.error&&console.error(`${n}  Error: ${e.error}${o}`),e.requestBody&&("debug"===e.level||"error"===e.level)&&console.log(`${a}  Request: ${c(JSON.stringify(e.requestBody))}${o}`),e.responseBody&&"error"===e.level&&console.log(`${a}  Response: ${c(JSON.stringify(e.responseBody))}${o}`),r.push(t),r.length>1e3&&r.shift(),this.saveToSupabase(t).catch(()=>{})}async saveToSupabase(e){let r=(!s&&process.env.SUPABASE_SERVICE_KEY&&(s=(0,t.createClient)("https://wsmchexmtiijufemzzwu.supabase.co",process.env.SUPABASE_SERVICE_KEY)),s);if(r)try{await r.from("api_logs").insert({timestamp:e.timestamp,level:e.level,category:e.category,action:e.action,method:e.method,endpoint:e.endpoint,request_body:e.requestBody,response_body:e.responseBody,status_code:e.statusCode,duration_ms:e.duration,user_id:e.userId,session_id:e.sessionId,ip_address:e.ip,user_agent:e.userAgent,error_message:e.error,metadata:e.metadata})}catch(e){}}debug(e,t,r){this.log({level:"debug",category:e,action:t,metadata:r})}info(e,t,r){this.log({level:"info",category:e,action:t,metadata:r})}warn(e,t,r){this.log({level:"warn",category:e,action:t,metadata:r})}error(e,t,r,s){this.log({level:"error",category:e,action:t,error:r,metadata:s})}async logApiRequest(e){let t=e.statusCode>=500?"error":e.statusCode>=400?"warn":"info";await this.log({level:t,category:"api",action:"API Request",...e})}async logMediciCall(e){let t=e.statusCode>=500?"error":e.statusCode>=400?"warn":"info";await this.log({level:t,category:"medici",method:"POST",...e})}getRecentLogs(e=100,t){let s=[...r].reverse();return t&&(s=s.filter(e=>(!t.level||e.level===t.level)&&(!t.category||e.category===t.category)&&(!t.action||!!e.action.includes(t.action)))),s.slice(0,e)}clearBuffer(){r.length=0}}let u=d.getInstance();e.s(["apiLogger",0,u])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d7b266e0._.js.map