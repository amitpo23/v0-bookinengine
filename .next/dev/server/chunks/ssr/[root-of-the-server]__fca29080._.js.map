{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/97250/Desktop/booking%20engine/v0-bookinengine/components/providers/session-provider.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { SessionProvider as NextAuthSessionProvider } from 'next-auth/react'\r\nimport { ReactNode } from 'react'\r\n\r\nexport function SessionProvider({ children }: { children: ReactNode }) {\r\n  return (\r\n    <NextAuthSessionProvider>\r\n      {children}\r\n    </NextAuthSessionProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKO,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;IACnE,qBACE,8OAAC,iKAAuB;kBACrB;;;;;;AAGP"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/97250/Desktop/booking%20engine/v0-bookinengine/types/features.ts"],"sourcesContent":["/**\r\n * Feature Flags System\r\n * ××¢×¨×›×ª × ×™×”×•×œ ×ª×›×•× ×•×ª - ××“××™×Ÿ ×™×›×•×œ ×œ×”×¤×¢×™×œ/×œ×›×‘×•×ª ×ª×›×•× ×•×ª ×œ×›×œ ×˜××¤×œ×˜ ××• ×œ-AI\r\n */\r\n\r\nexport type FeatureId =\r\n  | 'email-notifications'\r\n  | 'sms-notifications'\r\n  | 'push-notifications'\r\n  | 'booking-reminders'\r\n  | 'price-alerts'\r\n  | 'price-history'\r\n  | 'best-time-to-book'\r\n  | 'reviews-system'\r\n  | 'photo-uploads'\r\n  | 'rating-aggregation'\r\n  | 'google-maps'\r\n  | 'nearby-attractions'\r\n  | 'street-view'\r\n  | 'loyalty-program'\r\n  | 'cashback'\r\n  | 'referral-program'\r\n  | 'group-bookings'\r\n  | 'split-payment'\r\n  | 'booking-modification'\r\n  | 'room-upgrade'\r\n  | 'multi-room-booking'\r\n  | 'advanced-analytics'\r\n  | 'export-pdf'\r\n  | 'qr-checkin'\r\n  | 'real-time-updates'\r\n  | 'chat-support'\r\n  | 'multilingual-support'\r\n  | 'currency-converter'\r\n  | 'weather-info'\r\n  | 'local-events'\r\n  | 'transportation-info';\r\n\r\nexport interface Feature {\r\n  id: FeatureId;\r\n  name: string;\r\n  nameHe: string;\r\n  description: string;\r\n  descriptionHe: string;\r\n  category: FeatureCategory;\r\n  icon: string;\r\n  enabled: boolean;\r\n  premium?: boolean; // ×¨×§ ×œ×× ×•×™×™ premium\r\n  requiredApis?: string[]; // APIs × ×“×¨×©×™× (Google Maps, SendGrid, etc.)\r\n}\r\n\r\nexport type FeatureCategory =\r\n  | 'notifications'\r\n  | 'pricing'\r\n  | 'reviews'\r\n  | 'location'\r\n  | 'loyalty'\r\n  | 'booking'\r\n  | 'analytics'\r\n  | 'support'\r\n  | 'localization'\r\n  | 'travel-info';\r\n\r\nexport interface TemplateFeatureConfig {\r\n  templateId: 'nara' | 'modern-dark' | 'luxury' | 'family';\r\n  templateName: string;\r\n  enabledFeatures: FeatureId[];\r\n  customization?: {\r\n    primaryColor?: string;\r\n    showLogo?: boolean;\r\n    showReviews?: boolean;\r\n    showMap?: boolean;\r\n    showWeather?: boolean;\r\n  };\r\n}\r\n\r\nexport interface AIAgentConfig {\r\n  agentId: string;\r\n  agentName: string;\r\n  enabledFeatures: FeatureId[];\r\n  personality?: {\r\n    tone: 'professional' | 'friendly' | 'casual';\r\n    language: 'en' | 'he' | 'both';\r\n  };\r\n  capabilities?: {\r\n    canSuggestPriceAlerts: boolean;\r\n    canShowMap: boolean;\r\n    canAccessReviews: boolean;\r\n    canOfferLoyaltyPoints: boolean;\r\n  };\r\n}\r\n\r\nexport interface FeatureConfig {\r\n  templates: TemplateFeatureConfig[];\r\n  aiAgent: AIAgentConfig;\r\n  globalSettings: {\r\n    defaultCurrency: string;\r\n    defaultLanguage: string;\r\n    maintenanceMode: boolean;\r\n    betaFeatures: boolean;\r\n  };\r\n}\r\n\r\n// ×¨×©×™××ª ×›×œ ×”×ª×›×•× ×•×ª ×”××¤×©×¨×™×•×ª\r\nexport const AVAILABLE_FEATURES: Feature[] = [\r\n  // Notifications\r\n  {\r\n    id: 'email-notifications',\r\n    name: 'Email Notifications',\r\n    nameHe: '×”×ª×¨××•×ª ××™××™×™×œ',\r\n    description: 'Send booking confirmations and updates via email',\r\n    descriptionHe: '×©×œ×™×—×ª ××™×©×•×¨×™ ×”×–×× ×” ×•×¢×“×›×•× ×™× ×‘××™××™×™×œ',\r\n    category: 'notifications',\r\n    icon: 'ğŸ“§',\r\n    enabled: false,\r\n    requiredApis: ['Resend', 'SendGrid'],\r\n  },\r\n  {\r\n    id: 'sms-notifications',\r\n    name: 'SMS Notifications',\r\n    nameHe: '×”×ª×¨××•×ª SMS',\r\n    description: 'Send booking updates via SMS',\r\n    descriptionHe: '×©×œ×™×—×ª ×¢×“×›×•× ×™ ×”×–×× ×” ×‘-SMS',\r\n    category: 'notifications',\r\n    icon: 'ğŸ’¬',\r\n    enabled: false,\r\n    premium: true,\r\n    requiredApis: ['Twilio', 'AWS SNS'],\r\n  },\r\n  {\r\n    id: 'push-notifications',\r\n    name: 'Push Notifications',\r\n    nameHe: '×”×ª×¨××•×ª Push',\r\n    description: 'Browser push notifications for updates',\r\n    descriptionHe: '×”×ª×¨××•×ª ×“×¤×“×¤×Ÿ ×œ×¢×“×›×•× ×™×',\r\n    category: 'notifications',\r\n    icon: 'ğŸ””',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'booking-reminders',\r\n    name: 'Booking Reminders',\r\n    nameHe: '×ª×–×›×•×¨×•×ª ×”×–×× ×”',\r\n    description: 'Automatic reminders before check-in',\r\n    descriptionHe: '×ª×–×›×•×¨×•×ª ××•×˜×•××˜×™×•×ª ×œ×¤× ×™ check-in',\r\n    category: 'notifications',\r\n    icon: 'â°',\r\n    enabled: false,\r\n  },\r\n\r\n  // Pricing\r\n  {\r\n    id: 'price-alerts',\r\n    name: 'Price Alerts',\r\n    nameHe: '×”×ª×¨××•×ª ××—×™×¨',\r\n    description: 'Alert users when prices drop',\r\n    descriptionHe: '×”×ª×¨××” ×œ××©×ª××©×™× ×›×©××—×™×¨×™× ×™×•×¨×“×™×',\r\n    category: 'pricing',\r\n    icon: 'ğŸ’°',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'price-history',\r\n    name: 'Price History',\r\n    nameHe: '×”×™×¡×˜×•×¨×™×™×ª ××—×™×¨×™×',\r\n    description: 'Show price trends over time',\r\n    descriptionHe: '×”×¦×’×ª ××’××•×ª ××—×™×¨ ×œ××•×¨×š ×–××Ÿ',\r\n    category: 'pricing',\r\n    icon: 'ğŸ“ˆ',\r\n    enabled: false,\r\n    premium: true,\r\n  },\r\n  {\r\n    id: 'best-time-to-book',\r\n    name: 'Best Time to Book',\r\n    nameHe: '×–××Ÿ ××•××œ×¥ ×œ×”×–×× ×”',\r\n    description: 'AI recommendations for best booking time',\r\n    descriptionHe: '×”××œ×¦×•×ª AI ×œ×–××Ÿ ×”×–×× ×” ××™×˜×‘×™',\r\n    category: 'pricing',\r\n    icon: 'ğŸ¯',\r\n    enabled: false,\r\n    premium: true,\r\n  },\r\n\r\n  // Reviews\r\n  {\r\n    id: 'reviews-system',\r\n    name: 'Reviews System',\r\n    nameHe: '××¢×¨×›×ª ×‘×™×§×•×¨×•×ª',\r\n    description: 'User reviews and ratings',\r\n    descriptionHe: '×‘×™×§×•×¨×•×ª ×•×“×™×¨×•×’×™ ××©×ª××©×™×',\r\n    category: 'reviews',\r\n    icon: 'â­',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'photo-uploads',\r\n    name: 'Photo Uploads',\r\n    nameHe: '×”×¢×œ××ª ×ª××•× ×•×ª',\r\n    description: 'Users can upload photos with reviews',\r\n    descriptionHe: '××©×ª××©×™× ×™×›×•×œ×™× ×œ×”×¢×œ×•×ª ×ª××•× ×•×ª ×¢× ×‘×™×§×•×¨×•×ª',\r\n    category: 'reviews',\r\n    icon: 'ğŸ“¸',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'rating-aggregation',\r\n    name: 'Rating Aggregation',\r\n    nameHe: '×¦×‘×™×¨×ª ×“×™×¨×•×’×™×',\r\n    description: 'Aggregate ratings from multiple sources',\r\n    descriptionHe: '×¦×‘×™×¨×ª ×“×™×¨×•×’×™× ×××§×•×¨×•×ª ×©×•× ×™×',\r\n    category: 'reviews',\r\n    icon: 'ğŸ“Š',\r\n    enabled: false,\r\n    requiredApis: ['Google Places', 'TripAdvisor'],\r\n  },\r\n\r\n  // Location\r\n  {\r\n    id: 'google-maps',\r\n    name: 'Google Maps',\r\n    nameHe: '×’×•×’×œ ××¤×•×ª',\r\n    description: 'Interactive maps with hotel location',\r\n    descriptionHe: '××¤×•×ª ××™× ×˜×¨××§×˜×™×‘×™×•×ª ×¢× ××™×§×•× ×”××œ×•×Ÿ',\r\n    category: 'location',\r\n    icon: 'ğŸ—ºï¸',\r\n    enabled: false,\r\n    requiredApis: ['Google Maps API'],\r\n  },\r\n  {\r\n    id: 'nearby-attractions',\r\n    name: 'Nearby Attractions',\r\n    nameHe: '××˜×¨×§×¦×™×•×ª ×‘×§×¨×‘×ª ××§×•×',\r\n    description: 'Show nearby points of interest',\r\n    descriptionHe: '×”×¦×’×ª × ×§×•×“×•×ª ×¢× ×™×™×Ÿ ×¡××•×›×•×ª',\r\n    category: 'location',\r\n    icon: 'ğŸ›ï¸',\r\n    enabled: false,\r\n    requiredApis: ['Google Places API'],\r\n  },\r\n  {\r\n    id: 'street-view',\r\n    name: 'Street View',\r\n    nameHe: '×ª×¦×•×’×ª ×¨×—×•×‘',\r\n    description: 'Google Street View integration',\r\n    descriptionHe: '××™× ×˜×’×¨×¦×™×” ×¢× Google Street View',\r\n    category: 'location',\r\n    icon: 'ğŸ‘ï¸',\r\n    enabled: false,\r\n    requiredApis: ['Google Maps API'],\r\n  },\r\n\r\n  // Loyalty\r\n  {\r\n    id: 'loyalty-program',\r\n    name: 'Loyalty Program',\r\n    nameHe: '×ª×•×›× ×™×ª × ××× ×•×ª',\r\n    description: 'Points and rewards for bookings',\r\n    descriptionHe: '× ×§×•×“×•×ª ×•×ª×’××•×œ×™× ×¢×œ ×”×–×× ×•×ª',\r\n    category: 'loyalty',\r\n    icon: 'ğŸ',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'cashback',\r\n    name: 'Cashback',\r\n    nameHe: '×”×—×–×¨ ×›×¡×¤×™',\r\n    description: 'Cashback on bookings',\r\n    descriptionHe: '×”×—×–×¨ ×›×¡×¤×™ ×¢×œ ×”×–×× ×•×ª',\r\n    category: 'loyalty',\r\n    icon: 'ğŸ’µ',\r\n    enabled: false,\r\n    premium: true,\r\n  },\r\n  {\r\n    id: 'referral-program',\r\n    name: 'Referral Program',\r\n    nameHe: '×ª×•×›× ×™×ª ×”××œ×¦×•×ª',\r\n    description: 'Earn rewards for referring friends',\r\n    descriptionHe: '×”×¨×•×•×™×— ×ª×’××•×œ×™× ×¢×œ ×”××œ×¦×ª ×—×‘×¨×™×',\r\n    category: 'loyalty',\r\n    icon: 'ğŸ¤',\r\n    enabled: false,\r\n  },\r\n\r\n  // Booking\r\n  {\r\n    id: 'group-bookings',\r\n    name: 'Group Bookings',\r\n    nameHe: '×”×–×× ×•×ª ×§×‘×•×¦×ª×™×•×ª',\r\n    description: 'Book multiple rooms at once',\r\n    descriptionHe: '×”×–×× ×ª ××¡×¤×¨ ×—×“×¨×™× ×‘×‘×ª ××—×ª',\r\n    category: 'booking',\r\n    icon: 'ğŸ‘¥',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'split-payment',\r\n    name: 'Split Payment',\r\n    nameHe: '×ª×©×œ×•× ××¤×•×¦×œ',\r\n    description: 'Split payment between multiple people',\r\n    descriptionHe: '×¤×™×¦×•×œ ×ª×©×œ×•× ×‘×™×Ÿ ××¡×¤×¨ ×× ×©×™×',\r\n    category: 'booking',\r\n    icon: 'ğŸ’³',\r\n    enabled: false,\r\n    premium: true,\r\n  },\r\n  {\r\n    id: 'booking-modification',\r\n    name: 'Booking Modification',\r\n    nameHe: '×¢×¨×™×›×ª ×”×–×× ×”',\r\n    description: 'Edit dates and room after booking',\r\n    descriptionHe: '×¢×¨×™×›×ª ×ª××¨×™×›×™× ×•×—×“×¨ ××—×¨×™ ×”×–×× ×”',\r\n    category: 'booking',\r\n    icon: 'âœï¸',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'room-upgrade',\r\n    name: 'Room Upgrade',\r\n    nameHe: '×©×“×¨×•×’ ×—×“×¨',\r\n    description: 'Upgrade to better room',\r\n    descriptionHe: '×©×“×¨×•×’ ×œ×—×“×¨ ×˜×•×‘ ×™×•×ª×¨',\r\n    category: 'booking',\r\n    icon: 'â¬†ï¸',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'multi-room-booking',\r\n    name: 'Multi-Room Booking',\r\n    nameHe: '×”×–×× ×ª ××¡×¤×¨ ×—×“×¨×™×',\r\n    description: 'Book different rooms in one transaction',\r\n    descriptionHe: '×”×–×× ×ª ×—×“×¨×™× ×©×•× ×™× ×‘×¢×¡×§×” ××—×ª',\r\n    category: 'booking',\r\n    icon: 'ğŸ¨',\r\n    enabled: false,\r\n  },\r\n\r\n  // Analytics\r\n  {\r\n    id: 'advanced-analytics',\r\n    name: 'Advanced Analytics',\r\n    nameHe: '×× ×œ×™×˜×™×§×¡ ××ª×§×“×',\r\n    description: 'Detailed booking analytics',\r\n    descriptionHe: '×× ×œ×™×˜×™×§×” ××¤×•×¨×˜×ª ×©×œ ×”×–×× ×•×ª',\r\n    category: 'analytics',\r\n    icon: 'ğŸ“Š',\r\n    enabled: false,\r\n    premium: true,\r\n  },\r\n  {\r\n    id: 'export-pdf',\r\n    name: 'Export to PDF',\r\n    nameHe: '×™×™×¦×•× ×œ-PDF',\r\n    description: 'Export bookings and reports to PDF',\r\n    descriptionHe: '×™×™×¦×•× ×”×–×× ×•×ª ×•×“×•×—×•×ª ×œ-PDF',\r\n    category: 'analytics',\r\n    icon: 'ğŸ“„',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'qr-checkin',\r\n    name: 'QR Check-in',\r\n    nameHe: '×¦\\'×§-××™×Ÿ QR',\r\n    description: 'QR code for contactless check-in',\r\n    descriptionHe: '×§×•×“ QR ×œ×¦\\'×§-××™×Ÿ ×œ×œ× ××’×¢',\r\n    category: 'booking',\r\n    icon: 'ğŸ“±',\r\n    enabled: false,\r\n  },\r\n\r\n  // Support & Communication\r\n  {\r\n    id: 'real-time-updates',\r\n    name: 'Real-time Updates',\r\n    nameHe: '×¢×“×›×•× ×™× ×‘×–××Ÿ ×××ª',\r\n    description: 'Live booking status updates',\r\n    descriptionHe: '×¢×“×›×•× ×™ ×¡×˜×˜×•×¡ ×”×–×× ×” ×‘×–××Ÿ ×××ª',\r\n    category: 'support',\r\n    icon: 'ğŸ”„',\r\n    enabled: false,\r\n    requiredApis: ['WebSocket', 'Pusher'],\r\n  },\r\n  {\r\n    id: 'chat-support',\r\n    name: 'Live Chat Support',\r\n    nameHe: '×ª××™×›×ª ×¦\\'××˜',\r\n    description: '24/7 live chat support',\r\n    descriptionHe: '×ª××™×›×ª ×¦\\'××˜ 24/7',\r\n    category: 'support',\r\n    icon: 'ğŸ’¬',\r\n    enabled: false,\r\n    requiredApis: ['Intercom', 'Zendesk'],\r\n  },\r\n\r\n  // Localization\r\n  {\r\n    id: 'multilingual-support',\r\n    name: 'Multilingual Support',\r\n    nameHe: '×ª××™×›×” ×¨×‘-×œ×©×•× ×™×ª',\r\n    description: 'Support for multiple languages',\r\n    descriptionHe: '×ª××™×›×” ×‘××¡×¤×¨ ×©×¤×•×ª',\r\n    category: 'localization',\r\n    icon: 'ğŸŒ',\r\n    enabled: false,\r\n  },\r\n  {\r\n    id: 'currency-converter',\r\n    name: 'Currency Converter',\r\n    nameHe: '×××™×¨ ××˜×‘×¢×•×ª',\r\n    description: 'Real-time currency conversion',\r\n    descriptionHe: '×”××¨×ª ××˜×‘×¢×•×ª ×‘×–××Ÿ ×××ª',\r\n    category: 'localization',\r\n    icon: 'ğŸ’±',\r\n    enabled: false,\r\n    requiredApis: ['Exchange Rates API'],\r\n  },\r\n\r\n  // Travel Info\r\n  {\r\n    id: 'weather-info',\r\n    name: 'Weather Information',\r\n    nameHe: '××™×“×¢ ××–×’ ××•×•×™×¨',\r\n    description: 'Weather forecast for travel dates',\r\n    descriptionHe: '×ª×—×–×™×ª ××–×’ ××•×•×™×¨ ×œ×ª××¨×™×›×™ ×”× ×¡×™×¢×”',\r\n    category: 'travel-info',\r\n    icon: 'ğŸŒ¤ï¸',\r\n    enabled: false,\r\n    requiredApis: ['OpenWeather API'],\r\n  },\r\n  {\r\n    id: 'local-events',\r\n    name: 'Local Events',\r\n    nameHe: '××™×¨×•×¢×™× ××§×•××™×™×',\r\n    description: 'Show local events during stay',\r\n    descriptionHe: '×”×¦×’×ª ××™×¨×•×¢×™× ××§×•××™×™× ×‘××”×œ×š ×”×©×”×™×™×”',\r\n    category: 'travel-info',\r\n    icon: 'ğŸ‰',\r\n    enabled: false,\r\n    requiredApis: ['Eventbrite API'],\r\n  },\r\n  {\r\n    id: 'transportation-info',\r\n    name: 'Transportation Info',\r\n    nameHe: '××™×“×¢ ×ª×—×‘×•×¨×”',\r\n    description: 'Public transport and taxi info',\r\n    descriptionHe: '××™×“×¢ ×ª×—×‘×•×¨×” ×¦×™×‘×•×¨×™×ª ×•××•× ×™×•×ª',\r\n    category: 'travel-info',\r\n    icon: 'ğŸš‡',\r\n    enabled: false,\r\n    requiredApis: ['Google Maps API'],\r\n  },\r\n];\r\n\r\n// ×§×•× ×¤×™×’×•×¨×¦×™×” ×“×™×¤×•×œ×˜×™×ª\r\nexport const DEFAULT_FEATURE_CONFIG: FeatureConfig = {\r\n  templates: [\r\n    {\r\n      templateId: 'nara',\r\n      templateName: 'NARA Template',\r\n      enabledFeatures: ['email-notifications', 'booking-reminders'],\r\n    },\r\n    {\r\n      templateId: 'modern-dark',\r\n      templateName: 'Modern Dark Template',\r\n      enabledFeatures: ['email-notifications', 'google-maps'],\r\n    },\r\n    {\r\n      templateId: 'luxury',\r\n      templateName: 'Luxury Template',\r\n      enabledFeatures: ['email-notifications', 'reviews-system', 'google-maps', 'loyalty-program'],\r\n    },\r\n    {\r\n      templateId: 'family',\r\n      templateName: 'Family Template',\r\n      enabledFeatures: ['email-notifications', 'google-maps', 'nearby-attractions', 'weather-info'],\r\n    },\r\n  ],\r\n  aiAgent: {\r\n    agentId: 'ai-booking-assistant',\r\n    agentName: 'AI Booking Assistant',\r\n    enabledFeatures: [\r\n      'email-notifications',\r\n      'price-alerts',\r\n      'reviews-system',\r\n      'google-maps',\r\n      'weather-info',\r\n    ],\r\n    personality: {\r\n      tone: 'friendly',\r\n      language: 'both',\r\n    },\r\n    capabilities: {\r\n      canSuggestPriceAlerts: true,\r\n      canShowMap: true,\r\n      canAccessReviews: true,\r\n      canOfferLoyaltyPoints: false,\r\n    },\r\n  },\r\n  globalSettings: {\r\n    defaultCurrency: 'USD',\r\n    defaultLanguage: 'en',\r\n    maintenanceMode: false,\r\n    betaFeatures: false,\r\n  },\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/97250/Desktop/booking%20engine/v0-bookinengine/lib/features-context.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport {\r\n  FeatureConfig,\r\n  FeatureId,\r\n  DEFAULT_FEATURE_CONFIG,\r\n  AVAILABLE_FEATURES,\r\n  TemplateFeatureConfig,\r\n  AIAgentConfig,\r\n} from '@/types/features';\r\n\r\ninterface FeaturesContextType {\r\n  config: FeatureConfig;\r\n  updateTemplateFeatures: (\r\n    templateId: string,\r\n    features: FeatureId[]\r\n  ) => Promise<void>;\r\n  updateAIAgentFeatures: (features: FeatureId[]) => Promise<void>;\r\n  isFeatureEnabled: (featureId: FeatureId, context?: 'template' | 'ai', templateId?: string) => boolean;\r\n  getEnabledFeatures: (context: 'template' | 'ai', templateId?: string) => FeatureId[];\r\n  saveConfig: () => Promise<void>;\r\n  loadConfig: () => Promise<void>;\r\n}\r\n\r\nconst FeaturesContext = createContext<FeaturesContextType | undefined>(\r\n  undefined\r\n);\r\n\r\nexport function FeaturesProvider({ children }: { children: React.ReactNode }) {\r\n  const [config, setConfig] = useState<FeatureConfig>(DEFAULT_FEATURE_CONFIG);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  // ×˜×¢×™× ×ª ×§×•× ×¤×™×’×•×¨×¦×™×” ×-localStorage ××• API\r\n  const loadConfig = async () => {\r\n    try {\r\n      // × ×¡×” ×œ×˜×¢×•×Ÿ ×-localStorage\r\n      const savedConfig = localStorage.getItem('features-config');\r\n      if (savedConfig) {\r\n        setConfig(JSON.parse(savedConfig));\r\n      } else {\r\n        // ×× ××™×Ÿ, × ×¡×” ×œ×˜×¢×•×Ÿ ××”×©×¨×ª\r\n        const response = await fetch('/api/admin/features');\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setConfig(data);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load features config:', error);\r\n      // ×× ×™×© ×©×’×™××”, ×”×©×ª××© ×‘×“×™×¤×•×œ×˜\r\n      setConfig(DEFAULT_FEATURE_CONFIG);\r\n    } finally {\r\n      setIsLoaded(true);\r\n    }\r\n  };\r\n\r\n  // ×©××™×¨×ª ×§×•× ×¤×™×’×•×¨×¦×™×”\r\n  const saveConfig = async () => {\r\n    try {\r\n      // ×©××•×¨ ×‘-localStorage\r\n      localStorage.setItem('features-config', JSON.stringify(config));\r\n      \r\n      // ×©××•×¨ ×’× ×‘×©×¨×ª\r\n      await fetch('/api/admin/features', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config),\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to save features config:', error);\r\n    }\r\n  };\r\n\r\n  // ×¢×“×›×•×Ÿ features ×œ×˜××¤×œ×˜\r\n  const updateTemplateFeatures = async (\r\n    templateId: string,\r\n    features: FeatureId[]\r\n  ) => {\r\n    setConfig((prev) => {\r\n      const newTemplates = prev.templates.map((t) =>\r\n        t.templateId === templateId\r\n          ? { ...t, enabledFeatures: features }\r\n          : t\r\n      );\r\n      return { ...prev, templates: newTemplates };\r\n    });\r\n    await saveConfig();\r\n  };\r\n\r\n  // ×¢×“×›×•×Ÿ features ×œ-AI Agent\r\n  const updateAIAgentFeatures = async (features: FeatureId[]) => {\r\n    setConfig((prev) => ({\r\n      ...prev,\r\n      aiAgent: {\r\n        ...prev.aiAgent,\r\n        enabledFeatures: features,\r\n      },\r\n    }));\r\n    await saveConfig();\r\n  };\r\n\r\n  // ×‘×“×™×§×” ×”×× feature ××•×¤×¢×œ\r\n  const isFeatureEnabled = (\r\n    featureId: FeatureId,\r\n    context?: 'template' | 'ai',\r\n    templateId?: string\r\n  ): boolean => {\r\n    if (context === 'template' && templateId) {\r\n      const template = config.templates.find((t) => t.templateId === templateId);\r\n      return template?.enabledFeatures.includes(featureId) ?? false;\r\n    }\r\n    \r\n    if (context === 'ai') {\r\n      return config.aiAgent.enabledFeatures.includes(featureId);\r\n    }\r\n    \r\n    // ×× ×œ× ×¦×•×™×Ÿ context, ×‘×“×•×§ ×‘×›×œ ×”××§×•××•×ª\r\n    const inTemplates = config.templates.some((t) =>\r\n      t.enabledFeatures.includes(featureId)\r\n    );\r\n    const inAI = config.aiAgent.enabledFeatures.includes(featureId);\r\n    return inTemplates || inAI;\r\n  };\r\n\r\n  // ×§×‘×œ×ª ×¨×©×™××ª features ××•×¤×¢×œ×™×\r\n  const getEnabledFeatures = (\r\n    context: 'template' | 'ai',\r\n    templateId?: string\r\n  ): FeatureId[] => {\r\n    if (context === 'template' && templateId) {\r\n      const template = config.templates.find((t) => t.templateId === templateId);\r\n      return template?.enabledFeatures ?? [];\r\n    }\r\n    \r\n    if (context === 'ai') {\r\n      return config.aiAgent.enabledFeatures;\r\n    }\r\n    \r\n    return [];\r\n  };\r\n\r\n  // ×˜×¢×Ÿ ××ª ×”×§×•× ×¤×™×’×•×¨×¦×™×” ×‘×¢×œ×™×™×ª ×”×§×•××¤×•× × ×˜×”\r\n  useEffect(() => {\r\n    loadConfig();\r\n  }, []);\r\n\r\n  // ×©××•×¨ ××•×˜×•××˜×™×ª ×›×©×™×© ×©×™× ×•×™×™×\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      saveConfig();\r\n    }\r\n  }, [config, isLoaded]);\r\n\r\n  return (\r\n    <FeaturesContext.Provider\r\n      value={{\r\n        config,\r\n        updateTemplateFeatures,\r\n        updateAIAgentFeatures,\r\n        isFeatureEnabled,\r\n        getEnabledFeatures,\r\n        saveConfig,\r\n        loadConfig,\r\n      }}\r\n    >\r\n      {children}\r\n    </FeaturesContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useFeatures() {\r\n  const context = useContext(FeaturesContext);\r\n  if (!context) {\r\n    throw new Error('useFeatures must be used within FeaturesProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n// Hook ×œ×‘×“×™×§×” ××”×™×¨×” ×× feature ××•×¤×¢×œ\r\nexport function useFeature(\r\n  featureId: FeatureId,\r\n  context?: 'template' | 'ai',\r\n  templateId?: string\r\n): boolean {\r\n  const { isFeatureEnabled } = useFeatures();\r\n  return isFeatureEnabled(featureId, context, templateId);\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/97250/Desktop/booking%20engine/v0-bookinengine/lib/saas-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\r\nimport type { HotelConfig, Tenant } from \"@/types/saas\"\r\n\r\ninterface SaaSContextType {\r\n  tenant: Tenant | null\r\n  currentHotel: HotelConfig | null\r\n  setCurrentHotel: (hotel: HotelConfig) => void\r\n  hotels: HotelConfig[]\r\n  isLoading: boolean\r\n  updateHotelConfig: (hotelId: string, config: Partial<HotelConfig>) => void\r\n}\r\n\r\nconst SaaSContext = createContext<SaaSContextType | undefined>(undefined)\r\n\r\n// Mock tenant data - in production this would come from API/DB\r\nconst mockTenant: Tenant = {\r\n  id: \"tenant-1\",\r\n  name: \"××œ×•× ×•×ª ×™×©×¨××œ ×‘×¢×´×\",\r\n  email: \"admin@hotels-israel.com\",\r\n  plan: \"professional\",\r\n  billingStatus: \"active\",\r\n  createdAt: new Date(),\r\n  hotels: [\r\n    {\r\n      id: \"hotel-1\",\r\n      name: \"××œ×•×Ÿ ×“×Ÿ ×ª×œ ××‘×™×‘\",\r\n      hotelId: \"medici-12345\",\r\n      hotelName: \"Dan Tel Aviv\",\r\n      city: \"Tel Aviv\",\r\n      stars: 5,\r\n      currency: \"ILS\",\r\n      primaryColor: \"#1e3a5f\",\r\n      secondaryColor: \"#d4af37\",\r\n      enableWidget: true,\r\n      enableAiChat: true,\r\n      plan: \"professional\",\r\n      apiSettings: {\r\n        mediciHotelId: \"12345\",\r\n        mediciHotelName: \"Dan Tel Aviv\",\r\n      },\r\n      widgetSettings: {\r\n        language: \"both\",\r\n        showPrices: true,\r\n        showAvailability: true,\r\n        primaryColor: \"#1e3a5f\",\r\n      },\r\n      aiChatSettings: {\r\n        welcomeMessage: \"Hello! I'm your personal booking assistant for Dan Tel Aviv Hotel. How can I help you today?\",\r\n        welcomeMessageHe: \"×©×œ×•×! ×× ×™ ×”×¢×•×–×¨ ×”××™×©×™ ×©×œ×š ×œ×”×–×× ×•×ª ×‘××œ×•×Ÿ ×“×Ÿ ×ª×œ ××‘×™×‘. ××™×š ××•×›×œ ×œ×¢×–×•×¨ ×œ×š ×”×™×•×?\",\r\n        personality: \"luxury\",\r\n        language: \"both\",\r\n      },\r\n    },\r\n    {\r\n      id: \"hotel-2\",\r\n      name: \"××œ×•×Ÿ ×”×¨×•×“×¡ ××™×œ×ª\",\r\n      hotelId: \"medici-67890\",\r\n      hotelName: \"Herods Eilat\",\r\n      city: \"Eilat\",\r\n      stars: 5,\r\n      currency: \"ILS\",\r\n      primaryColor: \"#0066cc\",\r\n      secondaryColor: \"#ff6600\",\r\n      enableWidget: true,\r\n      enableAiChat: false,\r\n      plan: \"basic\",\r\n      apiSettings: {\r\n        mediciHotelId: \"67890\",\r\n        mediciHotelName: \"Herods Eilat\",\r\n      },\r\n      widgetSettings: {\r\n        language: \"he\",\r\n        showPrices: true,\r\n        showAvailability: true,\r\n        primaryColor: \"#0066cc\",\r\n      },\r\n      aiChatSettings: {\r\n        welcomeMessage: \"Welcome to Herods Eilat!\",\r\n        welcomeMessageHe: \"×‘×¨×•×›×™× ×”×‘××™× ×œ××œ×•×Ÿ ×”×¨×•×“×¡ ××™×œ×ª!\",\r\n        personality: \"friendly\",\r\n        language: \"he\",\r\n      },\r\n    },\r\n    {\r\n      id: \"hotel-scarlet\",\r\n      name: \"××œ×•×Ÿ ×¡×§×¨×œ×˜ ×ª×œ ××‘×™×‘\",\r\n      hotelId: \"scarlet-tlv\",\r\n      hotelName: \"Scarlet Hotel Tel Aviv\",\r\n      city: \"Tel Aviv\",\r\n      stars: 5,\r\n      currency: \"ILS\",\r\n      primaryColor: \"#DC143C\",\r\n      secondaryColor: \"#2C3E50\",\r\n      enableWidget: true,\r\n      enableAiChat: true,\r\n      plan: \"enterprise\",\r\n      apiSettings: {\r\n        mediciHotelId: \"scarlet-001\",\r\n        mediciHotelName: \"Scarlet Hotel Tel Aviv\",\r\n      },\r\n      widgetSettings: {\r\n        language: \"both\",\r\n        showPrices: true,\r\n        showAvailability: true,\r\n        primaryColor: \"#DC143C\",\r\n        secondaryColor: \"#E74C3C\",\r\n      },\r\n      aiChatSettings: {\r\n        welcomeMessage: \"Welcome to Scarlet Hotel Tel Aviv! Where urban meets romance. How can I create an unforgettable experience for you today?\",\r\n        welcomeMessageHe: \"×‘×¨×•×›×™× ×”×‘××™× ×œ××œ×•×Ÿ ×¡×§×¨×œ×˜ ×ª×œ ××‘×™×‘! ×”×™×›×Ÿ ×©×”××•×¨×‘× ×™ ×¤×•×’×© ××ª ×”×¨×•×× ×˜×™. ××™×š ××•×›×œ ×œ×™×¦×•×¨ ×œ×›× ×—×•×•×™×” ×‘×œ×ª×™ × ×©×›×—×ª ×”×™×•×?\",\r\n        personality: \"romantic\",\r\n        language: \"both\",\r\n        primaryColor: \"#DC143C\",\r\n      },\r\n    },\r\n  ],\r\n}\r\n\r\nexport function SaaSProvider({ children }: { children: ReactNode }) {\r\n  const [tenant, setTenant] = useState<Tenant | null>(null)\r\n  const [currentHotel, setCurrentHotel] = useState<HotelConfig | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    // Simulate loading tenant data\r\n    setTimeout(() => {\r\n      setTenant(mockTenant)\r\n      setCurrentHotel(mockTenant.hotels[0])\r\n      setIsLoading(false)\r\n    }, 500)\r\n  }, [])\r\n\r\n  const updateHotelConfig = (hotelId: string, config: Partial<HotelConfig>) => {\r\n    if (!tenant) return\r\n\r\n    const updatedHotels = tenant.hotels.map((hotel) => (hotel.id === hotelId ? { ...hotel, ...config } : hotel))\r\n\r\n    setTenant({ ...tenant, hotels: updatedHotels })\r\n\r\n    if (currentHotel?.id === hotelId) {\r\n      setCurrentHotel({ ...currentHotel, ...config })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SaaSContext.Provider\r\n      value={{\r\n        tenant,\r\n        currentHotel,\r\n        setCurrentHotel,\r\n        hotels: tenant?.hotels || [],\r\n        isLoading,\r\n        updateHotelConfig,\r\n      }}\r\n    >\r\n      {children}\r\n    </SaaSContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useSaaS() {\r\n  const context = useContext(SaaSContext)\r\n  if (!context) {\r\n    throw new Error(\"useSaaS must be used within SaaSProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAcA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAE/D,+DAA+D;AAC/D,MAAM,aAAqB;IACzB,IAAI;IACJ,MAAM;IACN,OAAO;IACP,MAAM;IACN,eAAe;IACf,WAAW,IAAI;IACf,QAAQ;QACN;YACE,IAAI;YACJ,MAAM;YACN,SAAS;YACT,WAAW;YACX,MAAM;YACN,OAAO;YACP,UAAU;YACV,cAAc;YACd,gBAAgB;YAChB,cAAc;YACd,cAAc;YACd,MAAM;YACN,aAAa;gBACX,eAAe;gBACf,iBAAiB;YACnB;YACA,gBAAgB;gBACd,UAAU;gBACV,YAAY;gBACZ,kBAAkB;gBAClB,cAAc;YAChB;YACA,gBAAgB;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,aAAa;gBACb,UAAU;YACZ;QACF;QACA;YACE,IAAI;YACJ,MAAM;YACN,SAAS;YACT,WAAW;YACX,MAAM;YACN,OAAO;YACP,UAAU;YACV,cAAc;YACd,gBAAgB;YAChB,cAAc;YACd,cAAc;YACd,MAAM;YACN,aAAa;gBACX,eAAe;gBACf,iBAAiB;YACnB;YACA,gBAAgB;gBACd,UAAU;gBACV,YAAY;gBACZ,kBAAkB;gBAClB,cAAc;YAChB;YACA,gBAAgB;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,aAAa;gBACb,UAAU;YACZ;QACF;QACA;YACE,IAAI;YACJ,MAAM;YACN,SAAS;YACT,WAAW;YACX,MAAM;YACN,OAAO;YACP,UAAU;YACV,cAAc;YACd,gBAAgB;YAChB,cAAc;YACd,cAAc;YACd,MAAM;YACN,aAAa;gBACX,eAAe;gBACf,iBAAiB;YACnB;YACA,gBAAgB;gBACd,UAAU;gBACV,YAAY;gBACZ,kBAAkB;gBAClB,cAAc;gBACd,gBAAgB;YAClB;YACA,gBAAgB;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,aAAa;gBACb,UAAU;gBACV,cAAc;YAChB;QACF;KACD;AACH;AAEO,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IACpD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAqB;IACrE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,+BAA+B;QAC/B,WAAW;YACT,UAAU;YACV,gBAAgB,WAAW,MAAM,CAAC,EAAE;YACpC,aAAa;QACf,GAAG;IACL,GAAG,EAAE;IAEL,MAAM,oBAAoB,CAAC,SAAiB;QAC1C,IAAI,CAAC,QAAQ;QAEb,MAAM,gBAAgB,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,QAAW,MAAM,EAAE,KAAK,UAAU;gBAAE,GAAG,KAAK;gBAAE,GAAG,MAAM;YAAC,IAAI;QAErG,UAAU;YAAE,GAAG,MAAM;YAAE,QAAQ;QAAc;QAE7C,IAAI,cAAc,OAAO,SAAS;YAChC,gBAAgB;gBAAE,GAAG,YAAY;gBAAE,GAAG,MAAM;YAAC;QAC/C;IACF;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA,QAAQ,QAAQ,UAAU,EAAE;YAC5B;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/97250/Desktop/booking%20engine/v0-bookinengine/components/analytics/GoogleAnalytics.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Script from \"next/script\";\r\nimport { useEffect, Suspense } from \"react\";\r\nimport { usePathname, useSearchParams } from \"next/navigation\";\r\n\r\ninterface GoogleAnalyticsProps {\r\n  measurementId: string;\r\n}\r\n\r\nfunction GoogleAnalyticsInner({ measurementId }: GoogleAnalyticsProps) {\r\n  const pathname = usePathname();\r\n  const searchParams = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    if (!measurementId || typeof window === \"undefined\") return;\r\n\r\n    const url = pathname + searchParams.toString();\r\n    \r\n    // Track page view\r\n    window.gtag(\"config\", measurementId, {\r\n      page_path: url,\r\n    });\r\n  }, [pathname, searchParams, measurementId]);\r\n\r\n  return null;\r\n}\r\n\r\nexport function GoogleAnalytics({ measurementId }: GoogleAnalyticsProps) {\r\n  if (!measurementId) return null;\r\n\r\n  return (\r\n    <>\r\n      <Script\r\n        strategy=\"afterInteractive\"\r\n        src={`https://www.googletagmanager.com/gtag/js?id=${measurementId}`}\r\n      />\r\n      <Script\r\n        id=\"google-analytics\"\r\n        strategy=\"afterInteractive\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: `\r\n            window.dataLayer = window.dataLayer || [];\r\n            function gtag(){dataLayer.push(arguments);}\r\n            gtag('js', new Date());\r\n            gtag('config', '${measurementId}', {\r\n              page_path: window.location.pathname,\r\n              send_page_view: true,\r\n              cookie_flags: 'SameSite=None;Secure'\r\n            });\r\n          `,\r\n        }}\r\n      />\r\n      <Suspense fallback={null}>\r\n        <GoogleAnalyticsInner measurementId={measurementId} />\r\n      </Suspense>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUA,SAAS,qBAAqB,EAAE,aAAa,EAAwB;IACnE,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,eAAe,IAAA,qJAAe;IAEpC,IAAA,kNAAS,EAAC;QACR,wCAAqD;;;QAErD,MAAM;IAMR,GAAG;QAAC;QAAU;QAAc;KAAc;IAE1C,OAAO;AACT;AAEO,SAAS,gBAAgB,EAAE,aAAa,EAAwB;IACrE,IAAI,CAAC,eAAe,OAAO;IAE3B,qBACE;;0BACE,8OAAC,yIAAM;gBACL,UAAS;gBACT,KAAK,CAAC,4CAA4C,EAAE,eAAe;;;;;;0BAErE,8OAAC,yIAAM;gBACL,IAAG;gBACH,UAAS;gBACT,yBAAyB;oBACvB,QAAQ,CAAC;;;;4BAIS,EAAE,cAAc;;;;;UAKlC,CAAC;gBACH;;;;;;0BAEF,8OAAC,iNAAQ;gBAAC,UAAU;0BAClB,cAAA,8OAAC;oBAAqB,eAAe;;;;;;;;;;;;;AAI7C"}},
    {"offset": {"line": 905, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/97250/Desktop/booking%20engine/v0-bookinengine/components/analytics/AffiliateTracker.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, Suspense } from \"react\"\r\nimport { useSearchParams } from \"next/navigation\"\r\n\r\nfunction AffiliateTrackerInner() {\r\n  const searchParams = useSearchParams()\r\n\r\n  useEffect(() => {\r\n    const trackAffiliate = async () => {\r\n      // Get UTM parameters\r\n      const utmSource = searchParams?.get(\"utm_source\")\r\n      const utmMedium = searchParams?.get(\"utm_medium\")\r\n      const utmCampaign = searchParams?.get(\"utm_campaign\")\r\n      const utmTerm = searchParams?.get(\"utm_term\")\r\n      const utmContent = searchParams?.get(\"utm_content\")\r\n      const affiliateCode = searchParams?.get(\"ref\") || searchParams?.get(\"affiliate\")\r\n\r\n      // Skip if no tracking parameters\r\n      if (!utmSource && !utmMedium && !utmCampaign && !affiliateCode) {\r\n        return\r\n      }\r\n\r\n      // Only run in browser\r\n      if (typeof window === 'undefined') return\r\n\r\n      // Generate session ID (or get from localStorage)\r\n      let sessionId = localStorage.getItem(\"affiliate_session_id\")\r\n      if (!sessionId) {\r\n        sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\r\n        localStorage.setItem(\"affiliate_session_id\", sessionId)\r\n      }\r\n\r\n      // Store tracking data in localStorage for later use\r\n      const trackingData = {\r\n        sessionId,\r\n        utmSource,\r\n        utmMedium,\r\n        utmCampaign,\r\n        utmTerm,\r\n        utmContent,\r\n        affiliateCode,\r\n        referrerUrl: document.referrer,\r\n        landingPage: window.location.href,\r\n        timestamp: new Date().toISOString(),\r\n      }\r\n\r\n      localStorage.setItem(\"affiliate_tracking\", JSON.stringify(trackingData))\r\n\r\n      // Send to API\r\n      try {\r\n        await fetch(\"/api/affiliate/track\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(trackingData),\r\n        })\r\n      } catch (error) {\r\n        console.error(\"Affiliate tracking failed:\", error)\r\n      }\r\n    }\r\n\r\n    trackAffiliate()\r\n  }, [searchParams])\r\n\r\n  return null\r\n}\r\n\r\nexport function AffiliateTracker() {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <AffiliateTrackerInner />\r\n    </Suspense>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,SAAS;IACP,MAAM,eAAe,IAAA,qJAAe;IAEpC,IAAA,kNAAS,EAAC;QACR,MAAM,iBAAiB;YACrB,qBAAqB;YACrB,MAAM,YAAY,cAAc,IAAI;YACpC,MAAM,YAAY,cAAc,IAAI;YACpC,MAAM,cAAc,cAAc,IAAI;YACtC,MAAM,UAAU,cAAc,IAAI;YAClC,MAAM,aAAa,cAAc,IAAI;YACrC,MAAM,gBAAgB,cAAc,IAAI,UAAU,cAAc,IAAI;YAEpE,iCAAiC;YACjC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,eAAe,CAAC,eAAe;gBAC9D;YACF;YAEA,sBAAsB;YACtB,wCAAmC;;;YAEnC,iDAAiD;YACjD,IAAI;YAMJ,oDAAoD;YACpD,MAAM;QAyBR;QAEA;IACF,GAAG;QAAC;KAAa;IAEjB,OAAO;AACT;AAEO,SAAS;IACd,qBACE,8OAAC,iNAAQ;QAAC,UAAU;kBAClB,cAAA,8OAAC;;;;;;;;;;AAGP"}}]
}