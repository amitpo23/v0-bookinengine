module.exports=[132245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(441997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},307773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},297458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return h}});let d=a.r(187924),e=a.r(935112),f=a.r(556704),g=a.r(307773);function h({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}return 0===c.length?null:(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},969853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(187924),e=a.r(572131),f=a.r(132245),g=a.r(297458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},819721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(833354)._(a.r(969853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},288367,a=>{"use strict";let b;var c=a.i(187924),d=a.i(572131),e=a.i(358213),f=a.i(216591),g=a.i(497895),h=a.i(340695),i=a.i(807706),j=a.i(254161),k=a.i(507554),l=a.i(470121),m=a.i(750104),n=a.i(596743),o=a.i(392843),p=a.i(704691),q=a.i(692616),r=a.i(777192),s=a.i(30553),t=a.i(811011),u=a.i(225152),v=a.i(528094),[w,x]=(0,m.createContextScope)("Tooltip",[p.createPopperScope]),y=(0,p.createPopperScope)(),z="TooltipProvider",A="tooltip.open",[B,C]=w(z),D=a=>{let{__scopeTooltip:b,delayDuration:e=700,skipDelayDuration:f=300,disableHoverableContent:g=!1,children:h}=a,[i,j]=d.useState(!0),k=d.useRef(!1),l=d.useRef(0);return d.useEffect(()=>{let a=l.current;return()=>window.clearTimeout(a)},[]),(0,c.jsx)(B,{scope:b,isOpenDelayed:i,delayDuration:e,onOpen:d.useCallback(()=>{window.clearTimeout(l.current),j(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>j(!0),f)},[f]),isPointerInTransitRef:k,onPointerInTransitChange:d.useCallback(a=>{k.current=a},[]),disableHoverableContent:g,children:h})};D.displayName=z;var E="Tooltip",[F,G]=w(E),H=a=>{let{__scopeTooltip:b,children:e,open:f,defaultOpen:g=!1,onOpenChange:h,disableHoverableContent:i,delayDuration:j}=a,k=C(E,a.__scopeTooltip),l=y(b),[m,n]=d.useState(null),q=(0,o.useId)(),r=d.useRef(0),s=i??k.disableHoverableContent,t=j??k.delayDuration,v=d.useRef(!1),[w=!1,x]=(0,u.useControllableState)({prop:f,defaultProp:g,onChange:a=>{a?(k.onOpen(),document.dispatchEvent(new CustomEvent(A))):k.onClose(),h?.(a)}}),z=d.useMemo(()=>w?v.current?"delayed-open":"instant-open":"closed",[w]),B=d.useCallback(()=>{window.clearTimeout(r.current),r.current=0,v.current=!1,x(!0)},[x]),D=d.useCallback(()=>{window.clearTimeout(r.current),r.current=0,x(!1)},[x]),G=d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>{v.current=!0,x(!0),r.current=0},t)},[t,x]);return d.useEffect(()=>()=>{r.current&&(window.clearTimeout(r.current),r.current=0)},[]),(0,c.jsx)(p.Root,{...l,children:(0,c.jsx)(F,{scope:b,contentId:q,open:w,stateAttribute:z,trigger:m,onTriggerChange:n,onTriggerEnter:d.useCallback(()=>{k.isOpenDelayed?G():B()},[k.isOpenDelayed,G,B]),onTriggerLeave:d.useCallback(()=>{s?D():(window.clearTimeout(r.current),r.current=0)},[D,s]),onOpen:B,onClose:D,disableHoverableContent:s,children:e})})};H.displayName=E;var I="TooltipTrigger",J=d.forwardRef((a,b)=>{let{__scopeTooltip:e,...f}=a,g=G(I,e),h=C(I,e),i=y(e),j=d.useRef(null),m=(0,l.useComposedRefs)(b,j,g.onTriggerChange),n=d.useRef(!1),o=d.useRef(!1),q=d.useCallback(()=>n.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",q),[q]),(0,c.jsx)(p.Anchor,{asChild:!0,...i,children:(0,c.jsx)(s.Primitive.button,{"aria-describedby":g.open?g.contentId:void 0,"data-state":g.stateAttribute,...f,ref:m,onPointerMove:(0,k.composeEventHandlers)(a.onPointerMove,a=>{"touch"!==a.pointerType&&(o.current||h.isPointerInTransitRef.current||(g.onTriggerEnter(),o.current=!0))}),onPointerLeave:(0,k.composeEventHandlers)(a.onPointerLeave,()=>{g.onTriggerLeave(),o.current=!1}),onPointerDown:(0,k.composeEventHandlers)(a.onPointerDown,()=>{n.current=!0,document.addEventListener("pointerup",q,{once:!0})}),onFocus:(0,k.composeEventHandlers)(a.onFocus,()=>{n.current||g.onOpen()}),onBlur:(0,k.composeEventHandlers)(a.onBlur,g.onClose),onClick:(0,k.composeEventHandlers)(a.onClick,g.onClose)})})});J.displayName=I;var K="TooltipPortal",[L,M]=w(K,{forceMount:void 0}),N=a=>{let{__scopeTooltip:b,forceMount:d,children:e,container:f}=a,g=G(K,b);return(0,c.jsx)(L,{scope:b,forceMount:d,children:(0,c.jsx)(r.Presence,{present:d||g.open,children:(0,c.jsx)(q.Portal,{asChild:!0,container:f,children:e})})})};N.displayName=K;var O="TooltipContent",P=d.forwardRef((a,b)=>{let d=M(O,a.__scopeTooltip),{forceMount:e=d.forceMount,side:f="top",...g}=a,h=G(O,a.__scopeTooltip);return(0,c.jsx)(r.Presence,{present:e||h.open,children:h.disableHoverableContent?(0,c.jsx)(T,{side:f,...g,ref:b}):(0,c.jsx)(Q,{side:f,...g,ref:b})})}),Q=d.forwardRef((a,b)=>{let e=G(O,a.__scopeTooltip),f=C(O,a.__scopeTooltip),g=d.useRef(null),h=(0,l.useComposedRefs)(b,g),[i,j]=d.useState(null),{trigger:k,onClose:m}=e,n=g.current,{onPointerInTransitChange:o}=f,p=d.useCallback(()=>{j(null),o(!1)},[o]),q=d.useCallback((a,b)=>{let c,d=a.currentTarget,e={x:a.clientX,y:a.clientY},f=function(a,b){let c=Math.abs(b.top-a.y),d=Math.abs(b.bottom-a.y),e=Math.abs(b.right-a.x),f=Math.abs(b.left-a.x);switch(Math.min(c,d,e,f)){case f:return"left";case e:return"right";case c:return"top";case d:return"bottom";default:throw Error("unreachable")}}(e,d.getBoundingClientRect());j(((c=[...function(a,b,c=5){let d=[];switch(b){case"top":d.push({x:a.x-c,y:a.y+c},{x:a.x+c,y:a.y+c});break;case"bottom":d.push({x:a.x-c,y:a.y-c},{x:a.x+c,y:a.y-c});break;case"left":d.push({x:a.x+c,y:a.y-c},{x:a.x+c,y:a.y+c});break;case"right":d.push({x:a.x-c,y:a.y-c},{x:a.x-c,y:a.y+c})}return d}(e,f),...function(a){let{top:b,right:c,bottom:d,left:e}=a;return[{x:e,y:b},{x:c,y:b},{x:c,y:d},{x:e,y:d}]}(b.getBoundingClientRect())].slice()).sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:1*!!(a.y>b.y)),function(a){if(a.length<=1)return a.slice();let b=[];for(let c=0;c<a.length;c++){let d=a[c];for(;b.length>=2;){let a=b[b.length-1],c=b[b.length-2];if((a.x-c.x)*(d.y-c.y)>=(a.y-c.y)*(d.x-c.x))b.pop();else break}b.push(d)}b.pop();let c=[];for(let b=a.length-1;b>=0;b--){let d=a[b];for(;c.length>=2;){let a=c[c.length-1],b=c[c.length-2];if((a.x-b.x)*(d.y-b.y)>=(a.y-b.y)*(d.x-b.x))c.pop();else break}c.push(d)}return(c.pop(),1===b.length&&1===c.length&&b[0].x===c[0].x&&b[0].y===c[0].y)?b:b.concat(c)}(c))),o(!0)},[o]);return d.useEffect(()=>()=>p(),[p]),d.useEffect(()=>{if(k&&n){let a=a=>q(a,n),b=a=>q(a,k);return k.addEventListener("pointerleave",a),n.addEventListener("pointerleave",b),()=>{k.removeEventListener("pointerleave",a),n.removeEventListener("pointerleave",b)}}},[k,n,q,p]),d.useEffect(()=>{if(i){let a=a=>{let b=a.target,c={x:a.clientX,y:a.clientY},d=k?.contains(b)||n?.contains(b),e=!function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a].x,h=b[a].y,i=b[f].x,j=b[f].y;h>d!=j>d&&c<(i-g)*(d-h)/(j-h)+g&&(e=!e)}return e}(c,i);d?p():e&&(p(),m())};return document.addEventListener("pointermove",a),()=>document.removeEventListener("pointermove",a)}},[k,n,i,m,p]),(0,c.jsx)(T,{...a,ref:h})}),[R,S]=w(E,{isInside:!1}),T=d.forwardRef((a,b)=>{let{__scopeTooltip:e,children:f,"aria-label":g,onEscapeKeyDown:h,onPointerDownOutside:i,...j}=a,k=G(O,e),l=y(e),{onClose:m}=k;return d.useEffect(()=>(document.addEventListener(A,m),()=>document.removeEventListener(A,m)),[m]),d.useEffect(()=>{if(k.trigger){let a=a=>{let b=a.target;b?.contains(k.trigger)&&m()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[k.trigger,m]),(0,c.jsx)(n.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:a=>a.preventDefault(),onDismiss:m,children:(0,c.jsxs)(p.Content,{"data-state":k.stateAttribute,...l,...j,ref:b,style:{...j.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,c.jsx)(t.Slottable,{children:f}),(0,c.jsx)(R,{scope:e,isInside:!0,children:(0,c.jsx)(v.Root,{id:k.contentId,role:"tooltip",children:g||f})})]})})});P.displayName=O;var U="TooltipArrow",V=d.forwardRef((a,b)=>{let{__scopeTooltip:d,...e}=a,f=y(d);return S(U,d).isInside?null:(0,c.jsx)(p.Arrow,{...f,...e,ref:b})});function W({delayDuration:a=0,...b}){return(0,c.jsx)(D,{"data-slot":"tooltip-provider",delayDuration:a,...b})}function X({...a}){return(0,c.jsx)(W,{children:(0,c.jsx)(H,{"data-slot":"tooltip",...a})})}function Y({...a}){return(0,c.jsx)(J,{"data-slot":"tooltip-trigger",...a})}function Z({className:a,sideOffset:b=0,children:d,...e}){return(0,c.jsx)(N,{children:(0,c.jsxs)(P,{"data-slot":"tooltip-content",sideOffset:b,className:(0,g.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",a),...e,children:[d,(0,c.jsx)(V,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}V.displayName=U;let $=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09z"}),(0,c.jsx)("path",{d:"M18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456z"})]}),_=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("polyline",{points:"15 18 9 12 15 6"})}),aa=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,c.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,c.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),ab=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,c.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,c.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),ac=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,c.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,c.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,c.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,c.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,c.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,c.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,c.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,c.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),ad=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),ae=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,c.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,c.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,c.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),af=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),ag=[{id:"dashboard",label:"לוח בקרה",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1"}),(0,c.jsx)("rect",{x:"14",y:"3",width:"7",height:"5",rx:"1"}),(0,c.jsx)("rect",{x:"14",y:"12",width:"7",height:"9",rx:"1"}),(0,c.jsx)("rect",{x:"3",y:"16",width:"7",height:"5",rx:"1"})]})},{id:"bookings",label:"הזמנות",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,c.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,c.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,c.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),badge:3},{id:"rooms",label:"חדרים",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M2 4v16"}),(0,c.jsx)("path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}),(0,c.jsx)("path",{d:"M2 17h20"}),(0,c.jsx)("path",{d:"M6 8v9"})]})},{id:"roomtypes",label:"סוגי חדרים",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,c.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,c.jsx)("polyline",{points:"21 15 16 10 5 21"})]}),isNew:!0},{id:"showcase",label:"תצוגת חדרים",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),isNew:!0},{id:"pricing",label:"תמחור",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,c.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})},{id:"promotions",label:"מבצעים",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("line",{x1:"19",y1:"5",x2:"5",y2:"19"}),(0,c.jsx)("circle",{cx:"6.5",cy:"6.5",r:"2.5"}),(0,c.jsx)("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]}),isNew:!0},{id:"marketing",label:"שיווק ומכירות",icon:$,isNew:!0},{id:"features",label:"ניהול תכונות",icon:({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),isNew:!0},{id:"templates",label:"ניהול טמפלטים",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),(0,c.jsx)("polyline",{points:"2 17 12 22 22 17"}),(0,c.jsx)("polyline",{points:"2 12 12 17 22 12"})]}),isNew:!0,isPro:!0},{id:"activitylogs",label:"יומן פעילות",icon:af,isNew:!0},{id:"searchlogs",label:"יומן חיפושים",icon:af,isNew:!0},{id:"sessions",label:"כניסות משתמשים",icon:ae,isNew:!0},{id:"systemlogs",label:"לוגים",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,c.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,c.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,c.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,c.jsx)("polyline",{points:"10 9 9 9 8 9"})]}),isNew:!0},{id:"knowledge",label:"מרכז ידע",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,c.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),isNew:!0},{id:"permissions",label:"הרשאות",icon:({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),isNew:!0,isPro:!0},{id:"email",label:"הגדרות Email",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,c.jsx)("polyline",{points:"22,6 12,13 2,6"})]})},{id:"engines",label:"מנועי הזמנות",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M5 12h14"}),(0,c.jsx)("path",{d:"M12 5v14"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"10"})]})},{id:"agents",label:"ניהול סוכנים",icon:ae},{id:"aiconfig",label:"הגדרות AI",icon:$},{id:"aichat",label:"צ׳אט AI",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),(0,c.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,c.jsx)("path",{d:"M12 7v4"}),(0,c.jsx)("line",{x1:"8",y1:"16",x2:"8",y2:"16"}),(0,c.jsx)("line",{x1:"16",y1:"16",x2:"16",y2:"16"})]}),isPro:!0},{id:"embed",label:"הטמעה",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("polyline",{points:"16 18 22 12 16 6"}),(0,c.jsx)("polyline",{points:"8 6 2 12 8 18"})]})},{id:"settings",label:"הגדרות",icon:({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,c.jsx)("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]})}];function ah({activeTab:a,onTabChange:b,hotelName:e,collapsed:f=!1,onCollapsedChange:k}){let[l,m]=(0,d.useState)(!0);return(0,c.jsx)(W,{delayDuration:0,children:(0,c.jsxs)("aside",{className:(0,g.cn)("fixed right-0 top-0 z-40 h-screen bg-sidebar border-l border-sidebar-border transition-all duration-300 flex flex-col",f?"w-[72px]":"w-64"),dir:"rtl",children:[(0,c.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-sidebar-border",children:[!f&&(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center shadow-lg shadow-emerald-500/20",children:(0,c.jsx)("span",{className:"text-white font-bold text-lg",children:"B"})}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"font-semibold text-sidebar-foreground text-sm",children:"BookingEngine"}),(0,c.jsx)("span",{className:"text-xs text-sidebar-muted",children:"פאנל ניהול"})]})]}),f&&(0,c.jsx)("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center mx-auto shadow-lg shadow-emerald-500/20",children:(0,c.jsx)("span",{className:"text-white font-bold text-lg",children:"B"})}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>k?.(!f),className:(0,g.cn)("h-8 w-8 text-sidebar-muted hover:text-sidebar-foreground hover:bg-sidebar-accent",f&&"hidden"),children:(0,c.jsx)(_,{className:"h-4 w-4"})})]}),!f&&(0,c.jsx)("div",{className:"px-3 py-4 border-b border-sidebar-border",children:(0,c.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-sidebar-accent/50",children:[(0,c.jsxs)(i.Avatar,{className:"h-10 w-10",children:[(0,c.jsx)(i.AvatarImage,{src:"/grand-hotel-exterior.png"}),(0,c.jsx)(i.AvatarFallback,{className:"bg-primary/20 text-primary",children:e.charAt(0)})]}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:e}),(0,c.jsx)("p",{className:"text-xs text-sidebar-muted",children:"פעיל"})]})]})}),(0,c.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:ag.map(d=>{let e=d.icon,h=a===d.id,i=(0,c.jsxs)("button",{onClick:()=>b(d.id),className:(0,g.cn)("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",h?"bg-gradient-to-r from-emerald-600 to-cyan-600 text-white shadow-lg shadow-emerald-500/20":"text-sidebar-muted hover:text-sidebar-foreground hover:bg-sidebar-accent"),children:[(0,c.jsx)(e,{className:"h-5 w-5 flex-shrink-0"}),!f&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"flex-1 text-right",children:d.label}),d.badge&&(0,c.jsx)(j.Badge,{variant:h?"secondary":"default",className:(0,g.cn)("h-5 min-w-[20px] flex items-center justify-center text-xs",h?"bg-white/20 text-white":"bg-emerald-500 text-white"),children:d.badge}),d.isPro&&(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs bg-purple-500/10 text-purple-400 border-purple-500/30",children:"Pro"}),d.isNew&&(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs bg-emerald-500/10 text-emerald-400 border-emerald-500/30",children:"חדש"})]})]},d.id);return f?(0,c.jsxs)(X,{children:[(0,c.jsx)(Y,{asChild:!0,children:i}),(0,c.jsxs)(Z,{side:"left",className:"flex items-center gap-2",children:[d.label,d.badge&&(0,c.jsx)(j.Badge,{variant:"default",className:"h-5 min-w-[20px]",children:d.badge}),d.isPro&&(0,c.jsx)(j.Badge,{variant:"outline",children:"Pro"})]})]},d.id):i})}),(0,c.jsxs)("div",{className:"px-3 py-4 border-t border-sidebar-border space-y-2",children:[(0,c.jsxs)(X,{children:[(0,c.jsx)(Y,{asChild:!0,children:(0,c.jsxs)(h.Button,{variant:"ghost",size:f?"icon":"default",onClick:()=>{m(!l),document.documentElement.classList.toggle("dark")},className:(0,g.cn)("w-full text-sidebar-muted hover:text-sidebar-foreground hover:bg-sidebar-accent",f?"h-10 w-10 mx-auto":"justify-start gap-3"),children:[l?(0,c.jsx)(ac,{className:"h-5 w-5"}):(0,c.jsx)(ad,{className:"h-5 w-5"}),!f&&(0,c.jsx)("span",{children:l?"מצב בהיר":"מצב כהה"})]})}),f&&(0,c.jsx)(Z,{side:"left",children:l?"מצב בהיר":"מצב כהה"})]}),(0,c.jsxs)(X,{children:[(0,c.jsx)(Y,{asChild:!0,children:(0,c.jsxs)(h.Button,{variant:"ghost",size:f?"icon":"default",className:(0,g.cn)("w-full text-sidebar-muted hover:text-sidebar-foreground hover:bg-sidebar-accent",f?"h-10 w-10 mx-auto":"justify-start gap-3"),children:[(0,c.jsx)(ab,{className:"h-5 w-5"}),!f&&(0,c.jsx)("span",{children:"עזרה ותמיכה"})]})}),f&&(0,c.jsx)(Z,{side:"left",children:"עזרה ותמיכה"})]}),!f&&(0,c.jsxs)("div",{className:"flex items-center gap-3 p-2 mt-2",children:[(0,c.jsxs)(i.Avatar,{className:"h-9 w-9",children:[(0,c.jsx)(i.AvatarImage,{src:"/admin-user-interface.png"}),(0,c.jsx)(i.AvatarFallback,{className:"bg-sidebar-accent text-sidebar-foreground",children:"מנ"})]}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:"מנהל המלון"}),(0,c.jsx)("p",{className:"text-xs text-sidebar-muted truncate",children:"admin@hotel.com"})]}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-sidebar-muted hover:text-sidebar-foreground",children:(0,c.jsx)(aa,{className:"h-4 w-4"})})]})]})]})})}var ai=a.i(897942);let aj=d.default.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ak=()=>{let a=d.default.useContext(aj);if(!a)throw Error("useDrawerContext must be used within a Drawer.Root");return a};function al(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function am(){return an(/^iPhone/)||an(/^iPad/)||an(/^Mac/)&&navigator.maxTouchPoints>1}function an(a){}!function(a){if(!a||"undefined"==typeof document)return;let b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",b.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");let ao=d.useEffect;"undefined"!=typeof document&&window.visualViewport;let ap=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),aq=0;function ar(...a){return d.useCallback(function(...a){return b=>a.forEach(a=>{"function"==typeof a?a(b):null!=a&&(a.current=b)})}(...a),a)}let as=new WeakMap;function at(a,b,c=!1){if(!a||!(a instanceof HTMLElement))return;let d={};Object.entries(b).forEach(([b,c])=>{b.startsWith("--")?a.style.setProperty(b,c):(d[b]=a.style[b],a.style[b]=c)}),c||as.set(a,d)}let au=a=>{switch(a){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return a}};function av(a,b){if(!a)return null;let c=window.getComputedStyle(a),d=c.transform||c.webkitTransform||c.mozTransform,e=d.match(/^matrix3d\((.+)\)$/);return e?parseFloat(e[1].split(", ")[au(b)?13:12]):(e=d.match(/^matrix\((.+)\)$/))?parseFloat(e[1].split(", ")[au(b)?5:4]):null}function aw(a,b){if(!a)return()=>{};let c=a.style.cssText;return Object.assign(a.style,b),()=>{a.style.cssText=c}}let ax=[.32,.72,0,1],ay="vaul-dragging";function az(a){let b=d.default.useRef(a);return d.default.useEffect(()=>{b.current=a}),d.default.useMemo(()=>(...a)=>null==b.current?void 0:b.current.call(b,...a),[])}function aA({prop:a,defaultProp:b,onChange:c=()=>{}}){let[e,f]=function({defaultProp:a,onChange:b}){let c=d.default.useState(a),[e]=c,f=d.default.useRef(e),g=az(b);return d.default.useEffect(()=>{f.current!==e&&(g(e),f.current=e)},[e,f,g]),c}({defaultProp:b,onChange:c}),g=void 0!==a,h=g?a:e,i=az(c);return[h,d.default.useCallback(b=>{if(g){let c="function"==typeof b?b(a):b;c!==a&&i(c)}else f(b)},[g,a,f,i])]}let aB=()=>()=>{},aC=null;function aD({open:a,onOpenChange:c,children:e,onDrag:f,onRelease:g,snapPoints:h,shouldScaleBackground:i=!1,setBackgroundColorOnScale:j=!0,closeThreshold:k=.25,scrollLockTimeout:l=100,dismissible:m=!0,handleOnly:n=!1,fadeFromIndex:o=h&&h.length-1,activeSnapPoint:p,setActiveSnapPoint:q,fixed:r,modal:s=!0,onClose:t,nested:u,noBodyStyles:v=!1,direction:w="bottom",defaultOpen:x=!1,disablePreventScroll:y=!0,snapToSequentialPoint:z=!1,preventScrollRestoration:A=!1,repositionInputs:B=!0,onAnimationEnd:C,container:D,autoFocus:E=!1}){var F,G;let[H=!1,I]=aA({defaultProp:x,prop:a,onChange:a=>{null==c||c(a),a||u||aw(),setTimeout(()=>{null==C||C(a)},500),a||(document.body.style.pointerEvents="auto")}}),[J,K]=d.default.useState(!1),[L,M]=d.default.useState(!1),[N,O]=d.default.useState(!1),P=d.default.useRef(null),Q=d.default.useRef(null),R=d.default.useRef(null),S=d.default.useRef(null),T=d.default.useRef(null),U=d.default.useRef(!1),V=d.default.useRef(null),W=d.default.useRef(0),X=d.default.useRef(!1),Y=d.default.useRef(!x),Z=d.default.useRef(0),$=d.default.useRef(null),_=d.default.useRef((null==(F=$.current)?void 0:F.getBoundingClientRect().height)||0),aa=d.default.useRef((null==(G=$.current)?void 0:G.getBoundingClientRect().width)||0),ab=d.default.useRef(0),ac=d.default.useCallback(a=>{h&&a===ah.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:ad,activeSnapPointIndex:ae,setActiveSnapPoint:af,onRelease:ag,snapPointsOffset:ah,onDrag:ak,shouldFade:an,getPercentageDragged:ar}=function({activeSnapPointProp:a,setActiveSnapPointProp:b,snapPoints:c,drawerRef:e,overlayRef:f,fadeFromIndex:g,onSnapPointChange:h,direction:i="bottom",container:j,snapToSequentialPoint:k}){let[l,m]=aA({prop:a,defaultProp:null==c?void 0:c[0],onChange:b}),[n,o]=d.default.useState(void 0);d.default.useEffect(()=>{function a(){o({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);let p=d.default.useMemo(()=>l===(null==c?void 0:c[c.length-1])||null,[c,l]),q=d.default.useMemo(()=>{var a;return null!=(a=null==c?void 0:c.findIndex(a=>a===l))?a:null},[c,l]),r=c&&c.length>0&&(g||0===g)&&!Number.isNaN(g)&&c[g]===l||!c,s=d.default.useMemo(()=>{var a;let b=j?{width:j.getBoundingClientRect().width,height:j.getBoundingClientRect().height}:{width:0,height:0};return null!=(a=null==c?void 0:c.map(a=>{let c="string"==typeof a,d=0;if(c&&(d=parseInt(a,10)),au(i)){let e=c?d:n?a*b.height:0;return n?"bottom"===i?b.height-e:-b.height+e:e}let e=c?d:n?a*b.width:0;return n?"right"===i?b.width-e:-b.width+e:e}))?a:[]},[c,n,j]),t=d.default.useMemo(()=>null!==q?null==s?void 0:s[q]:null,[s,q]),u=d.default.useCallback(a=>{var b;let d=null!=(b=null==s?void 0:s.findIndex(b=>b===a))?b:null;h(d),at(e.current,{transition:`transform 0.5s cubic-bezier(${ax.join(",")})`,transform:au(i)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`}),s&&d!==s.length-1&&void 0!==g&&d!==g&&d<g?at(f.current,{transition:`opacity 0.5s cubic-bezier(${ax.join(",")})`,opacity:"0"}):at(f.current,{transition:`opacity 0.5s cubic-bezier(${ax.join(",")})`,opacity:"1"}),m(null==c?void 0:c[Math.max(d,0)])},[e.current,c,s,g,f,m]);return d.default.useEffect(()=>{if(l||a){var b;let d=null!=(b=null==c?void 0:c.findIndex(b=>b===a||b===l))?b:-1;s&&-1!==d&&"number"==typeof s[d]&&u(s[d])}},[l,a,c,s,u]),{isLastSnapPoint:p,activeSnapPoint:l,shouldFade:r,getPercentageDragged:function(a,b){if(!c||"number"!=typeof q||!s||void 0===g)return null;let d=q===g-1;if(q>=g&&b)return 0;if(d&&!b)return 1;if(!r&&!d)return null;let e=d?q+1:q-1,f=a/Math.abs(d?s[e]-s[e-1]:s[e+1]-s[e]);return d?1-f:f},setActiveSnapPoint:m,activeSnapPointIndex:q,onRelease:function({draggedDistance:a,closeDrawer:b,velocity:d,dismissible:e}){if(void 0===g)return;let h="bottom"===i||"right"===i?(null!=t?t:0)-a:(null!=t?t:0)+a,j=q===g-1,l=0===q,m=a>0;if(j&&at(f.current,{transition:`opacity 0.5s cubic-bezier(${ax.join(",")})`}),!k&&d>2&&!m)return void(e?b():u(s[0]));if(!k&&d>2&&m&&s&&c)return void u(s[c.length-1]);let n=null==s?void 0:s.reduce((a,b)=>"number"!=typeof a||"number"!=typeof b?a:Math.abs(b-h)<Math.abs(a-h)?b:a),o=au(i)?window.innerHeight:window.innerWidth;if(d>.4&&Math.abs(a)<.4*o){let a=m?1:-1;return a>0&&p&&c?void u(s[c.length-1]):void(l&&a<0&&e&&b(),null===q||u(s[q+a]))}u(n)},onDrag:function({draggedDistance:a}){if(null===t)return;let b="bottom"===i||"right"===i?t-a:t+a;("bottom"===i||"right"===i)&&b<s[s.length-1]||("top"===i||"left"===i)&&b>s[s.length-1]||at(e.current,{transform:au(i)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})},snapPointsOffset:s}}({snapPoints:h,activeSnapPointProp:p,setActiveSnapPointProp:q,drawerRef:$,fadeFromIndex:o,overlayRef:P,onSnapPointChange:ac,direction:w,container:D,snapToSequentialPoint:z});!function(a={}){let{isDisabled:c}=a;ao(()=>{if(!c)return 1==++aq&&am(),()=>{0==--aq&&(null==b||b())}},[c])}({isDisabled:!H||L||!s||N||!J||!B||!y});let{restorePositionSetting:aw}=function({isOpen:a,modal:b,nested:c,hasBeenOpened:e,preventScrollRestoration:f,noBodyStyles:g}){let[h,i]=d.default.useState(()=>""),j=d.default.useRef(0),k=d.default.useCallback(()=>{if(al()&&null===aC&&a&&!g){aC={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};let{scrollX:a,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-j.current}px`,left:`${-a}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{let a=b-window.innerHeight;a&&j.current>=b&&(document.body.style.top=`${-(j.current+a)}px`)}),300)}},[a]),l=d.default.useCallback(()=>{if(al()&&null!==aC&&!g){let a=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,aC),window.requestAnimationFrame(()=>{f&&h!==window.location.href?i(window.location.href):window.scrollTo(b,a)}),aC=null}},[h]);return d.default.useEffect(()=>{function a(){j.current=window.scrollY}return a(),window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[]),d.default.useEffect(()=>{if(b)return()=>{"undefined"==typeof document||document.querySelector("[data-vaul-drawer]")||l()}},[b,l]),d.default.useEffect(()=>{!c&&e&&(a?(window.matchMedia("(display-mode: standalone)").matches||k(),b||window.setTimeout(()=>{l()},500)):l())},[a,e,h,b,c,k,l]),{restorePositionSetting:l}}({isOpen:H,modal:s,nested:null!=u&&u,hasBeenOpened:J,preventScrollRestoration:A,noBodyStyles:v});function az(){return(window.innerWidth-26)/window.innerWidth}function aB(a,b){var c;let d=a,e=null==(c=window.getSelection())?void 0:c.toString(),f=$.current?av($.current,w):null,g=new Date;if("SELECT"===d.tagName||d.hasAttribute("data-vaul-no-drag")||d.closest("[data-vaul-no-drag]"))return!1;if("right"===w||"left"===w)return!0;if(Q.current&&g.getTime()-Q.current.getTime()<500)return!1;if(null!==f&&("bottom"===w?f>0:f<0))return!0;if(e&&e.length>0)return!1;if(T.current&&g.getTime()-T.current.getTime()<l&&0===f||b)return T.current=g,!1;for(;d;){if(d.scrollHeight>d.clientHeight){if(0!==d.scrollTop)return T.current=new Date,!1;if("dialog"===d.getAttribute("role"))break}d=d.parentNode}return!0}function aD(a){L&&$.current&&($.current.classList.remove(ay),U.current=!1,M(!1),S.current=new Date),null==t||t(),a||I(!1),setTimeout(()=>{h&&af(h[0])},500)}function aE(){if(!$.current)return;let a=document.querySelector("[data-vaul-drawer-wrapper]"),b=av($.current,w);at($.current,{transform:"translate3d(0, 0, 0)",transition:`transform 0.5s cubic-bezier(${ax.join(",")})`}),at(P.current,{transition:`opacity 0.5s cubic-bezier(${ax.join(",")})`,opacity:"1"}),i&&b&&b>0&&H&&at(a,{borderRadius:"8px",overflow:"hidden",...au(w)?{transform:`scale(${az()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${az()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${ax.join(",")})`},!0)}return d.default.useEffect(()=>{window.requestAnimationFrame(()=>{Y.current=!0})},[]),d.default.useEffect(()=>{var a;function b(){var a,b;if($.current&&B&&((a=document.activeElement)instanceof HTMLInputElement&&!ap.has(a.type)||a instanceof HTMLTextAreaElement||a instanceof HTMLElement&&a.isContentEditable||X.current)){let a=(null==(b=window.visualViewport)?void 0:b.height)||0,c=window.innerHeight,d=c-a,e=$.current.getBoundingClientRect().height||0;ab.current||(ab.current=e);let f=$.current.getBoundingClientRect().top;if(Math.abs(Z.current-d)>60&&(X.current=!X.current),h&&h.length>0&&ah&&ae&&(d+=ah[ae]||0),Z.current=d,e>a||X.current){let b=$.current.getBoundingClientRect().height,g=b;b>a&&(g=a-(e>.8*c?f:26)),r?$.current.style.height=`${b-Math.max(d,0)}px`:$.current.style.height=`${Math.max(g,a-f)}px`}else navigator.userAgent,$.current.style.height=`${ab.current}px`;h&&h.length>0&&!X.current?$.current.style.bottom="0px":$.current.style.bottom=`${Math.max(d,0)}px`}}return null==(a=window.visualViewport)||a.addEventListener("resize",b),()=>{var a;return null==(a=window.visualViewport)?void 0:a.removeEventListener("resize",b)}},[ae,h,ah]),d.default.useEffect(()=>(H&&(at(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date),()=>{!function(a,b){if(!a||!(a instanceof HTMLElement))return;let c=as.get(a);c&&(a.style[b]=c[b])}(document.documentElement,"scrollBehavior")}),[H]),d.default.useEffect(()=>{s||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[s]),d.default.createElement(ai.Root,{defaultOpen:x,onOpenChange:a=>{(m||a)&&(a?K(!0):aD(!0),I(a))},open:H},d.default.createElement(aj.Provider,{value:{activeSnapPoint:ad,snapPoints:h,setActiveSnapPoint:af,drawerRef:$,overlayRef:P,onOpenChange:c,onPress:function(a){var b,c;!m&&!h||(!$.current||$.current.contains(a.target))&&(_.current=(null==(b=$.current)?void 0:b.getBoundingClientRect().height)||0,aa.current=(null==(c=$.current)?void 0:c.getBoundingClientRect().width)||0,M(!0),R.current=new Date,am(),a.target.setPointerCapture(a.pointerId),W.current=au(w)?a.pageY:a.pageX)},onRelease:function(a){var b,c;if(!L||!$.current)return;$.current.classList.remove(ay),U.current=!1,M(!1),S.current=new Date;let d=av($.current,w);if(!a||!aB(a.target,!1)||!d||Number.isNaN(d)||null===R.current)return;let e=S.current.getTime()-R.current.getTime(),f=W.current-(au(w)?a.pageY:a.pageX),i=Math.abs(f)/e;if(i>.05&&(O(!0),setTimeout(()=>{O(!1)},200)),h){ag({draggedDistance:f*("bottom"===w||"right"===w?1:-1),closeDrawer:aD,velocity:i,dismissible:m}),null==g||g(a,!0);return}if("bottom"===w||"right"===w?f>0:f<0){aE(),null==g||g(a,!0);return}if(i>.4){aD(),null==g||g(a,!1);return}let j=Math.min(null!=(b=$.current.getBoundingClientRect().height)?b:0,window.innerHeight),l=Math.min(null!=(c=$.current.getBoundingClientRect().width)?c:0,window.innerWidth);if(Math.abs(d)>=("left"===w||"right"===w?l:j)*k){aD(),null==g||g(a,!1);return}null==g||g(a,!0),aE()},onDrag:function(a){if($.current&&L){let b="bottom"===w||"right"===w?1:-1,c=(W.current-(au(w)?a.pageY:a.pageX))*b,d=c>0,e=h&&!m&&!d;if(e&&0===ae)return;let g=Math.abs(c),j=document.querySelector("[data-vaul-drawer-wrapper]"),k=g/("bottom"===w||"top"===w?_.current:aa.current),l=ar(g,d);if(null!==l&&(k=l),e&&k>=1||!U.current&&!aB(a.target,d))return;if($.current.classList.add(ay),U.current=!0,at($.current,{transition:"none"}),at(P.current,{transition:"none"}),h&&ak({draggedDistance:c}),d&&!h){let a=Math.min(-(8*(Math.log(c+1)-2)*1),0)*b;at($.current,{transform:au(w)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`});return}let n=1-k;if((an||o&&ae===o-1)&&(null==f||f(a,k),at(P.current,{opacity:`${n}`,transition:"none"},!0)),j&&P.current&&i){let a=Math.min(az()+k*(1-az()),1),b=8-8*k,c=Math.max(0,14-14*k);at(j,{borderRadius:`${b}px`,transform:au(w)?`scale(${a}) translate3d(0, ${c}px, 0)`:`scale(${a}) translate3d(${c}px, 0, 0)`,transition:"none"},!0)}if(!h){let a=g*b;at($.current,{transform:au(w)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`})}}},dismissible:m,shouldAnimate:Y,handleOnly:n,isOpen:H,isDragging:L,shouldFade:an,closeDrawer:aD,onNestedDrag:function(a,b){if(b<0)return;let c=(window.innerWidth-16)/window.innerWidth,d=c+b*(1-c),e=-16+16*b;at($.current,{transform:au(w)?`scale(${d}) translate3d(0, ${e}px, 0)`:`scale(${d}) translate3d(${e}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(a){let b=a?(window.innerWidth-16)/window.innerWidth:1,c=a?-16:0;V.current&&window.clearTimeout(V.current),at($.current,{transition:`transform 0.5s cubic-bezier(${ax.join(",")})`,transform:au(w)?`scale(${b}) translate3d(0, ${c}px, 0)`:`scale(${b}) translate3d(${c}px, 0, 0)`}),!a&&$.current&&(V.current=setTimeout(()=>{let a=av($.current,w);at($.current,{transition:"none",transform:au(w)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`})},500))},onNestedRelease:function(a,b){let c=au(w)?window.innerHeight:window.innerWidth,d=b?(c-16)/c:1,e=b?-16:0;b&&at($.current,{transition:`transform 0.5s cubic-bezier(${ax.join(",")})`,transform:au(w)?`scale(${d}) translate3d(0, ${e}px, 0)`:`scale(${d}) translate3d(${e}px, 0, 0)`})},keyboardIsOpen:X,modal:s,snapPointsOffset:ah,activeSnapPointIndex:ae,direction:w,shouldScaleBackground:i,setBackgroundColorOnScale:j,noBodyStyles:v,container:D,autoFocus:E}},e))}let aE=d.default.forwardRef(function({...a},b){let{overlayRef:c,snapPoints:e,onRelease:f,shouldFade:g,isOpen:h,modal:i,shouldAnimate:j}=ak(),k=ar(b,c),l=e&&e.length>0;if(!i)return null;let m=d.default.useCallback(a=>f(a),[f]);return d.default.createElement(ai.Overlay,{onMouseUp:m,ref:k,"data-vaul-overlay":"","data-vaul-snap-points":h&&l?"true":"false","data-vaul-snap-points-overlay":h&&g?"true":"false","data-vaul-animate":(null==j?void 0:j.current)?"true":"false",...a})});aE.displayName="Drawer.Overlay";let aF=d.default.forwardRef(function({onPointerDownOutside:a,style:b,onOpenAutoFocus:c,...e},f){let{drawerRef:g,onPress:h,onRelease:i,onDrag:j,keyboardIsOpen:k,snapPointsOffset:l,activeSnapPointIndex:m,modal:n,isOpen:o,direction:p,snapPoints:q,container:r,handleOnly:s,shouldAnimate:t,autoFocus:u}=ak(),[v,w]=d.default.useState(!1),x=ar(f,g),y=d.default.useRef(null),z=d.default.useRef(null),A=d.default.useRef(!1),B=q&&q.length>0;function C(a){y.current=null,A.current=!1,i(a)}return!function(){let{direction:a,isOpen:b,shouldScaleBackground:c,setBackgroundColorOnScale:e,noBodyStyles:f}=ak(),g=d.default.useRef(null),h=(0,d.useMemo)(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-26)/window.innerWidth}d.default.useEffect(()=>{if(b&&c){g.current&&clearTimeout(g.current);let b=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!b)return;!function(...a){}(e&&!f?aw(document.body,{background:"black"}):aB,aw(b,{transformOrigin:au(a)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${ax.join(",")})`}));let c=aw(b,{borderRadius:"8px",overflow:"hidden",...au(a)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),g.current=window.setTimeout(()=>{h?document.body.style.background=h:document.body.style.removeProperty("background")},500)}}},[b,c,h])}(),d.default.useEffect(()=>{B&&window.requestAnimationFrame(()=>{w(!0)})},[]),d.default.createElement(ai.Content,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":v?"true":"false","data-vaul-snap-points":o&&B?"true":"false","data-vaul-custom-container":r?"true":"false","data-vaul-animate":(null==t?void 0:t.current)?"true":"false",...e,ref:x,style:l&&l.length>0?{"--snap-point-height":`${l[null!=m?m:0]}px`,...b}:b,onPointerDown:a=>{s||(null==e.onPointerDown||e.onPointerDown.call(e,a),y.current={x:a.pageX,y:a.pageY},h(a))},onOpenAutoFocus:a=>{null==c||c(a),u||a.preventDefault()},onPointerDownOutside:b=>{(null==a||a(b),!n||b.defaultPrevented)?b.preventDefault():k.current&&(k.current=!1)},onFocusOutside:a=>{if(!n)return void a.preventDefault()},onPointerMove:a=>{if(z.current=a,s||(null==e.onPointerMove||e.onPointerMove.call(e,a),!y.current))return;let b=a.pageY-y.current.y,c=a.pageX-y.current.x,d="touch"===a.pointerType?10:2;((a,b,c=0)=>{if(A.current)return!0;let d=Math.abs(a.y),e=Math.abs(a.x),f=e>d,g=["bottom","right"].includes(b)?1:-1;if("left"===b||"right"===b){if(!(a.x*g<0)&&e>=0&&e<=c)return f}else if(!(a.y*g<0)&&d>=0&&d<=c)return!f;return A.current=!0,!0})({x:c,y:b},p,d)?j(a):(Math.abs(c)>d||Math.abs(b)>d)&&(y.current=null)},onPointerUp:a=>{null==e.onPointerUp||e.onPointerUp.call(e,a),y.current=null,A.current=!1,i(a)},onPointerOut:a=>{null==e.onPointerOut||e.onPointerOut.call(e,a),C(z.current)},onContextMenu:a=>{null==e.onContextMenu||e.onContextMenu.call(e,a),z.current&&C(z.current)}})});aF.displayName="Drawer.Content";let aG=d.default.forwardRef(function({preventCycle:a=!1,children:b,...c},e){let{closeDrawer:f,isDragging:g,snapPoints:h,activeSnapPoint:i,setActiveSnapPoint:j,dismissible:k,handleOnly:l,isOpen:m,onPress:n,onDrag:o}=ak(),p=d.default.useRef(null),q=d.default.useRef(!1);function r(){p.current&&window.clearTimeout(p.current),q.current=!1}return d.default.createElement("div",{onClick:function(){q.current?r():window.setTimeout(()=>{!function(){if(g||a||q.current)return r();if(r(),!h||0===h.length){k||f();return}if(i===h[h.length-1]&&k)return f();let b=h.findIndex(a=>a===i);-1===b||j(h[b+1])}()},120)},onPointerCancel:r,onPointerDown:a=>{l&&n(a),p.current=window.setTimeout(()=>{q.current=!0},250)},onPointerMove:a=>{l&&o(a)},ref:e,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...c},d.default.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},b))});aG.displayName="Drawer.Handle";let aH={Root:aD,NestedRoot:function({onDrag:a,onOpenChange:b,open:c,...e}){let{onNestedDrag:f,onNestedOpenChange:g,onNestedRelease:h}=ak();if(!f)throw Error("Drawer.NestedRoot must be placed in another drawer");return d.default.createElement(aD,{nested:!0,open:c,onClose:()=>{g(!1)},onDrag:(b,c)=>{f(b,c),null==a||a(b,c)},onOpenChange:a=>{a&&g(a),null==b||b(a)},onRelease:h,...e})},Content:aF,Overlay:aE,Trigger:ai.Trigger,Portal:function(a){let b=ak(),{container:c=b.container,...e}=a;return d.default.createElement(ai.Portal,{container:c,...e})},Handle:aG,Close:ai.Close,Title:ai.Title,Description:ai.Description},aI=({shouldScaleBackground:a=!0,...b})=>(0,c.jsx)(aH.Root,{shouldScaleBackground:a,...b});aI.displayName="Drawer";let aJ=aH.Trigger,aK=aH.Portal;aH.Close;let aL=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(aH.Overlay,{ref:d,className:(0,g.cn)("fixed inset-0 z-50 bg-black/80",a),...b}));aL.displayName=aH.Overlay.displayName;let aM=d.forwardRef(({className:a,children:b,...d},e)=>(0,c.jsxs)(aK,{children:[(0,c.jsx)(aL,{}),(0,c.jsxs)(aH.Content,{ref:e,className:(0,g.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",a),...d,children:[(0,c.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),b]})]}));aM.displayName="DrawerContent",d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(aH.Title,{ref:d,className:(0,g.cn)("text-lg font-semibold leading-none tracking-tight",a),...b})).displayName=aH.Title.displayName,d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(aH.Description,{ref:d,className:(0,g.cn)("text-sm text-muted-foreground",a),...b})).displayName=aH.Description.displayName;var aN=a.i(972692);function aO({activeTab:a,onTabChange:b,hotelName:e}){let[f,g]=(0,d.useState)(!1);return(0,c.jsxs)(aI,{direction:"right",open:f,onOpenChange:g,children:[(0,c.jsx)(aJ,{asChild:!0,children:(0,c.jsxs)(h.Button,{variant:"ghost",size:"icon",className:"lg:hidden fixed top-4 right-4 z-50",children:[(0,c.jsx)(aN.Menu,{className:"h-5 w-5"}),(0,c.jsx)("span",{className:"sr-only",children:"פתח תפריט"})]})}),(0,c.jsx)(aM,{className:"h-full w-[300px] ml-auto",children:(0,c.jsx)("div",{className:"h-full overflow-y-auto",children:(0,c.jsx)(ah,{activeTab:a,onTabChange:a=>{b(a),g(!1)},hotelName:e,collapsed:!1,onCollapsedChange:()=>{}})})})]})}var aP=a.i(205522),aQ=a.i(676504);let aR=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,c.jsx)("path",{d:"m21 21-4.3-4.3"})]}),aS=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),(0,c.jsx)("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),aT=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),(0,c.jsx)("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),(0,c.jsx)("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),aU=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M5 12h14"}),(0,c.jsx)("path",{d:"M12 5v14"})]}),aV=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),(0,c.jsx)("path",{d:"M3 3v5h5"}),(0,c.jsx)("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),(0,c.jsx)("path",{d:"M16 16h5v5"})]});function aW({title:a,subtitle:b,onMenuClick:e,showSearch:f=!0,searchPlaceholder:i="חיפוש...",onSearch:k,actions:l,children:m}){let[n,o]=(0,d.useState)(""),p=[{id:1,title:"הזמנה חדשה",message:"הזמנה #GA1234571 התקבלה",time:"לפני 5 דקות",unread:!0},{id:2,title:"צ'ק-אין היום",message:"3 אורחים מגיעים היום",time:"לפני שעה",unread:!0},{id:3,title:"ביטול הזמנה",message:"הזמנה #GA1234570 בוטלה",time:"לפני 2 שעות",unread:!1}],q=p.filter(a=>a.unread).length;return(0,c.jsx)("header",{className:"sticky top-0 z-30 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border",children:(0,c.jsxs)("div",{className:"flex items-center justify-between h-16 px-6",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:e,children:(0,c.jsx)(aT,{className:"h-5 w-5"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-xl font-bold text-foreground",children:a}),b&&(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:b})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[f&&(0,c.jsxs)("div",{className:"relative hidden md:block",children:[(0,c.jsx)(aR,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(aP.Input,{type:"search",placeholder:i,value:n,onChange:a=>{o(a.target.value),k?.(a.target.value)},className:"w-64 pr-9 bg-secondary/50 border-0 focus-visible:ring-1"})]}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:(0,c.jsx)(aV,{className:"h-4 w-4"})}),(0,c.jsxs)(aQ.DropdownMenu,{children:[(0,c.jsx)(aQ.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsxs)(h.Button,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-foreground",children:[(0,c.jsx)(aS,{className:"h-5 w-5"}),q>0&&(0,c.jsx)(j.Badge,{className:"absolute -top-1 -left-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-destructive",children:q})]})}),(0,c.jsxs)(aQ.DropdownMenuContent,{align:"end",className:"w-80",dir:"rtl",children:[(0,c.jsxs)(aQ.DropdownMenuLabel,{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{children:"התראות"}),(0,c.jsx)(h.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-primary hover:text-primary/80",children:"סמן הכל כנקרא"})]}),(0,c.jsx)(aQ.DropdownMenuSeparator,{}),p.map(a=>(0,c.jsxs)(aQ.DropdownMenuItem,{className:"flex flex-col items-start gap-1 p-3 cursor-pointer",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[a.unread&&(0,c.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"}),(0,c.jsx)("span",{className:(0,g.cn)("font-medium",!a.unread&&"text-muted-foreground"),children:a.title})]}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:a.message}),(0,c.jsx)("span",{className:"text-xs text-muted-foreground",children:a.time})]},a.id)),(0,c.jsx)(aQ.DropdownMenuSeparator,{}),(0,c.jsx)(aQ.DropdownMenuItem,{className:"justify-center text-primary cursor-pointer",children:"צפה בכל ההתראות"})]})]}),l,m,(0,c.jsxs)(h.Button,{size:"sm",className:"gap-2 hidden sm:flex",children:[(0,c.jsx)(aU,{className:"h-4 w-4"}),"הזמנה חדשה"]})]})]})})}var aX=a.i(823292),aY=a.i(703130);let aZ=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),(0,c.jsx)("polyline",{points:"16 7 22 7 22 13"})]}),a$=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),(0,c.jsx)("polyline",{points:"16 17 22 17 22 11"})]});function a_({title:a,value:b,subtitle:d,icon:e,trend:f,className:h,iconClassName:i}){return(0,c.jsx)(aY.Card,{className:(0,g.cn)("relative overflow-hidden group hover:shadow-md transition-shadow",h),children:(0,c.jsx)(aY.CardContent,{className:"p-6",children:(0,c.jsxs)("div",{className:"flex items-start justify-between",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:a}),(0,c.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,c.jsx)("p",{className:"text-2xl font-bold text-foreground tracking-tight",children:b}),f&&(0,c.jsxs)("span",{className:(0,g.cn)("flex items-center gap-0.5 text-xs font-medium px-1.5 py-0.5 rounded",f.isPositive?"text-green-600 bg-green-500/10":"text-red-600 bg-red-500/10"),children:[f.isPositive?(0,c.jsx)(aZ,{className:"h-3 w-3"}):(0,c.jsx)(a$,{className:"h-3 w-3"}),Math.abs(f.value),"%"]})]}),d&&(0,c.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:d})]}),(0,c.jsx)("div",{className:(0,g.cn)("p-3 rounded-xl bg-primary/10 group-hover:bg-primary/15 transition-colors",i),children:e})]})})})}var a0=a.i(281213);function a1({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,c.jsx)("table",{"data-slot":"table",className:(0,g.cn)("w-full caption-bottom text-sm",a),...b})})}function a2({className:a,...b}){return(0,c.jsx)("thead",{"data-slot":"table-header",className:(0,g.cn)("[&_tr]:border-b",a),...b})}function a3({className:a,...b}){return(0,c.jsx)("tbody",{"data-slot":"table-body",className:(0,g.cn)("[&_tr:last-child]:border-0",a),...b})}function a4({className:a,...b}){return(0,c.jsx)("tr",{"data-slot":"table-row",className:(0,g.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...b})}function a5({className:a,...b}){return(0,c.jsx)("th",{"data-slot":"table-head",className:(0,g.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}function a6({className:a,...b}){return(0,c.jsx)("td",{"data-slot":"table-cell",className:(0,g.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}var a7=a.i(887682),a8=a.i(965733);let a9=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,c.jsx)("path",{d:"m21 21-4.3-4.3"})]}),ba=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),bb=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),(0,c.jsx)("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),bc=({className:a})=>(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:(0,c.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),bd=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M8 2v4"}),(0,c.jsx)("path",{d:"M16 2v4"}),(0,c.jsx)("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),(0,c.jsx)("path",{d:"M3 10h18"})]}),be=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,c.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,c.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,c.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),bf=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),(0,c.jsx)("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]});function bg({bookings:a}){let[b,e]=(0,d.useState)(""),[f,g]=(0,d.useState)("all"),[i,k]=(0,d.useState)(null),l=a=>{switch(a){case"confirmed":return(0,c.jsx)(j.Badge,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"מאושר"});case"pending":return(0,c.jsx)(j.Badge,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:"ממתין"});case"cancelled":return(0,c.jsx)(j.Badge,{className:"bg-red-100 text-red-700 hover:bg-red-100",children:"בוטל"});case"completed":return(0,c.jsx)(j.Badge,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100",children:"הושלם"})}},m=(a,b)=>new Intl.NumberFormat("he-IL",{style:"currency",currency:b,minimumFractionDigits:0}).format(a),n=a.filter(a=>{let c=a.confirmationNumber.toLowerCase().includes(b.toLowerCase())||a.guestDetails.firstName.toLowerCase().includes(b.toLowerCase())||a.guestDetails.lastName.toLowerCase().includes(b.toLowerCase())||a.guestDetails.email.toLowerCase().includes(b.toLowerCase()),d="all"===f||a.status===f;return c&&d});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,c.jsxs)("div",{className:"relative flex-1",children:[(0,c.jsx)(a9,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(aP.Input,{placeholder:"חיפוש לפי מספר אישור, שם או אימייל...",value:b,onChange:a=>e(a.target.value),className:"pr-10"})]}),(0,c.jsxs)(a7.Select,{value:f,onValueChange:g,children:[(0,c.jsx)(a7.SelectTrigger,{className:"w-full md:w-48",children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"all",children:"כל הסטטוסים"}),(0,c.jsx)(a7.SelectItem,{value:"confirmed",children:"מאושר"}),(0,c.jsx)(a7.SelectItem,{value:"pending",children:"ממתין"}),(0,c.jsx)(a7.SelectItem,{value:"cancelled",children:"בוטל"}),(0,c.jsx)(a7.SelectItem,{value:"completed",children:"הושלם"})]})]})]}),(0,c.jsx)("div",{className:"border rounded-lg",children:(0,c.jsxs)(a1,{children:[(0,c.jsx)(a2,{children:(0,c.jsxs)(a4,{children:[(0,c.jsx)(a5,{className:"text-right",children:"מספר אישור"}),(0,c.jsx)(a5,{className:"text-right",children:"אורח"}),(0,c.jsx)(a5,{className:"text-right",children:"תאריכים"}),(0,c.jsx)(a5,{className:"text-right",children:"חדרים"}),(0,c.jsx)(a5,{className:"text-right",children:"סטטוס"}),(0,c.jsx)(a5,{className:"text-right",children:"סכום"}),(0,c.jsx)(a5,{className:"text-right",children:"פעולות"})]})}),(0,c.jsx)(a3,{children:0===n.length?(0,c.jsx)(a4,{children:(0,c.jsx)(a6,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"לא נמצאו הזמנות"})}):n.map(a=>(0,c.jsxs)(a4,{children:[(0,c.jsx)(a6,{className:"font-mono font-medium",children:a.confirmationNumber}),(0,c.jsx)(a6,{children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"font-medium",children:[a.guestDetails.firstName," ",a.guestDetails.lastName]}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:a.guestDetails.email})]})}),(0,c.jsx)(a6,{children:(0,c.jsxs)("div",{className:"text-sm",children:[(0,c.jsx)("p",{children:(0,a0.formatDateShort)(a.checkIn,"he")}),(0,c.jsxs)("p",{className:"text-muted-foreground",children:[a.nights," ",1===a.nights?"לילה":"לילות"]})]})}),(0,c.jsxs)(a6,{children:[a.rooms.length," ",1===a.rooms.length?"חדר":"חדרים"]}),(0,c.jsx)(a6,{children:l(a.status)}),(0,c.jsx)(a6,{className:"font-medium",children:m(a.pricing.total,a.pricing.currency)}),(0,c.jsx)(a6,{children:(0,c.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>k(a),children:(0,c.jsx)(ba,{className:"h-4 w-4"})})})]},a.id))})]})}),(0,c.jsxs)("p",{className:"text-sm text-muted-foreground",children:["מציג ",n.length," מתוך ",a.length," הזמנות"]})]}),(0,c.jsx)(a8.Dialog,{open:!!i,onOpenChange:()=>k(null),children:(0,c.jsx)(a8.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a8.DialogHeader,{children:(0,c.jsxs)(a8.DialogTitle,{className:"flex items-center justify-between",children:[(0,c.jsxs)("span",{children:["הזמנה ",i.confirmationNumber]}),l(i.status)]})}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4",children:[(0,c.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,c.jsx)(be,{className:"h-4 w-4"}),"פרטי אורח"]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-muted-foreground",children:"שם מלא"}),(0,c.jsxs)("p",{className:"font-medium",children:[i.guestDetails.firstName," ",i.guestDetails.lastName]})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"text-muted-foreground flex items-center gap-1",children:[(0,c.jsx)(bb,{className:"h-3 w-3"}),"אימייל"]}),(0,c.jsx)("p",{className:"font-medium",children:i.guestDetails.email})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"text-muted-foreground flex items-center gap-1",children:[(0,c.jsx)(bc,{className:"h-3 w-3"}),"טלפון"]}),(0,c.jsx)("p",{className:"font-medium",children:i.guestDetails.phone})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-muted-foreground",children:"מדינה"}),(0,c.jsx)("p",{className:"font-medium",children:i.guestDetails.country})]})]}),i.guestDetails.specialRequests&&(0,c.jsxs)("div",{className:"mt-3",children:[(0,c.jsx)("p",{className:"text-muted-foreground text-sm",children:"בקשות מיוחדות"}),(0,c.jsx)("p",{className:"text-sm bg-background p-2 rounded mt-1",children:i.guestDetails.specialRequests})]})]}),(0,c.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4",children:[(0,c.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,c.jsx)(bd,{className:"h-4 w-4"}),"פרטי שהייה"]}),(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-muted-foreground",children:"צ'ק-אין"}),(0,c.jsx)("p",{className:"font-medium",children:(0,a0.formatDate)(i.checkIn,"he")})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-muted-foreground",children:"צ'ק-אאוט"}),(0,c.jsx)("p",{className:"font-medium",children:(0,a0.formatDate)(i.checkOut,"he")})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-muted-foreground",children:"לילות"}),(0,c.jsx)("p",{className:"font-medium",children:i.nights})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mt-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-muted-foreground",children:"מבוגרים"}),(0,c.jsx)("p",{className:"font-medium",children:i.guests.adults})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-muted-foreground",children:"ילדים"}),(0,c.jsx)("p",{className:"font-medium",children:i.guests.children})]})]})]}),(0,c.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4",children:[(0,c.jsx)("h3",{className:"font-semibold mb-3",children:"חדרים"}),(0,c.jsx)("div",{className:"space-y-2",children:i.rooms.map((a,b)=>(0,c.jsxs)("div",{className:"flex justify-between items-start bg-background p-3 rounded",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"font-medium",children:[a.quantity,"x ",a.room.name]}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:a.ratePlan.name})]}),(0,c.jsx)("p",{className:"font-medium",children:m(a.ratePlan.price*a.quantity*i.nights,i.pricing.currency)})]},b))})]}),(0,c.jsxs)("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[(0,c.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,c.jsx)(bf,{className:"h-4 w-4"}),"פירוט תשלום"]}),(0,c.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{children:"סכום ביניים"}),(0,c.jsx)("span",{children:m(i.pricing.subtotal,i.pricing.currency)})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{children:"מע״מ"}),(0,c.jsx)("span",{children:m(i.pricing.taxes,i.pricing.currency)})]}),i.pricing.discount>0&&(0,c.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,c.jsx)("span",{children:"הנחה"}),(0,c.jsxs)("span",{children:["-",m(i.pricing.discount,i.pricing.currency)]})]}),(0,c.jsxs)("div",{className:"border-t pt-2 flex justify-between font-bold text-base",children:[(0,c.jsx)("span",{children:"סה״כ"}),(0,c.jsx)("span",{className:"text-primary",children:m(i.pricing.total,i.pricing.currency)})]})]})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(h.Button,{variant:"outline",className:"flex-1 bg-transparent",children:"שלח אישור מחדש"}),"confirmed"===i.status&&(0,c.jsx)(h.Button,{variant:"outline",className:"flex-1 text-destructive hover:text-destructive bg-transparent",children:"בטל הזמנה"})]})]})]})})})]})}var bh="AlertDialog",[bi,bj]=(0,m.createContextScope)(bh,[ai.createDialogScope]),bk=(0,ai.createDialogScope)(),bl=a=>{let{__scopeAlertDialog:b,...d}=a,e=bk(b);return(0,c.jsx)(ai.Root,{...e,...d,modal:!0})};bl.displayName=bh,d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=bk(d);return(0,c.jsx)(ai.Trigger,{...f,...e,ref:b})}).displayName="AlertDialogTrigger";var bm=a=>{let{__scopeAlertDialog:b,...d}=a,e=bk(b);return(0,c.jsx)(ai.Portal,{...e,...d})};bm.displayName="AlertDialogPortal";var bn=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=bk(d);return(0,c.jsx)(ai.Overlay,{...f,...e,ref:b})});bn.displayName="AlertDialogOverlay";var bo="AlertDialogContent",[bp,bq]=bi(bo),br=d.forwardRef((a,b)=>{let{__scopeAlertDialog:e,children:f,...g}=a,h=bk(e),i=d.useRef(null),j=(0,l.useComposedRefs)(b,i),m=d.useRef(null);return(0,c.jsx)(ai.WarningProvider,{contentName:bo,titleName:bs,docsSlug:"alert-dialog",children:(0,c.jsx)(bp,{scope:e,cancelRef:m,children:(0,c.jsxs)(ai.Content,{role:"alertdialog",...h,...g,ref:j,onOpenAutoFocus:(0,k.composeEventHandlers)(g.onOpenAutoFocus,a=>{a.preventDefault(),m.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,c.jsx)(t.Slottable,{children:f}),(0,c.jsx)(bz,{contentRef:i})]})})})});br.displayName=bo;var bs="AlertDialogTitle",bt=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=bk(d);return(0,c.jsx)(ai.Title,{...f,...e,ref:b})});bt.displayName=bs;var bu="AlertDialogDescription",bv=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=bk(d);return(0,c.jsx)(ai.Description,{...f,...e,ref:b})});bv.displayName=bu;var bw=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=bk(d);return(0,c.jsx)(ai.Close,{...f,...e,ref:b})});bw.displayName="AlertDialogAction";var bx="AlertDialogCancel",by=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,{cancelRef:f}=bq(bx,d),g=bk(d),h=(0,l.useComposedRefs)(b,f);return(0,c.jsx)(ai.Close,{...g,...e,ref:h})});by.displayName=bx;var bz=({contentRef:a})=>{let b=`\`${bo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bo}\` by passing a \`${bu}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null};function bA({...a}){return(0,c.jsx)(bl,{"data-slot":"alert-dialog",...a})}function bB({...a}){return(0,c.jsx)(bm,{"data-slot":"alert-dialog-portal",...a})}function bC({className:a,...b}){return(0,c.jsx)(bn,{"data-slot":"alert-dialog-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function bD({className:a,...b}){return(0,c.jsxs)(bB,{children:[(0,c.jsx)(bC,{}),(0,c.jsx)(br,{"data-slot":"alert-dialog-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...b})]})}function bE({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,g.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function bF({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,g.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function bG({className:a,...b}){return(0,c.jsx)(bt,{"data-slot":"alert-dialog-title",className:(0,g.cn)("text-lg font-semibold",a),...b})}function bH({className:a,...b}){return(0,c.jsx)(bv,{"data-slot":"alert-dialog-description",className:(0,g.cn)("text-muted-foreground text-sm",a),...b})}function bI({className:a,...b}){return(0,c.jsx)(bw,{className:(0,g.cn)((0,h.buttonVariants)(),a),...b})}function bJ({className:a,...b}){return(0,c.jsx)(by,{className:(0,g.cn)((0,h.buttonVariants)({variant:"outline"}),a),...b})}var bK=a.i(917171),bL=a.i(546893),bM=a.i(621958);let bN=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M5 12h14"}),(0,c.jsx)("path",{d:"M12 5v14"})]}),bO=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M3 6h18"}),(0,c.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,c.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),bP=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,c.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,c.jsx)("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),bQ=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M18 6 6 18"}),(0,c.jsx)("path",{d:"m6 6 12 12"})]}),bR=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),(0,c.jsx)("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),(0,c.jsx)("path",{d:"M7 3v4a1 1 0 0 0 1 1h7"})]}),bS=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),(0,c.jsx)("circle",{cx:"9",cy:"9",r:"2"}),(0,c.jsx)("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),bT=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),(0,c.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),bU=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M20 7h-9"}),(0,c.jsx)("path",{d:"M14 17H5"}),(0,c.jsx)("circle",{cx:"17",cy:"17",r:"3"}),(0,c.jsx)("circle",{cx:"7",cy:"7",r:"3"})]});function bV({room:a,isOpen:b,onClose:e,onSave:f}){let g=!a?.id,[i,k]=(0,d.useState)(a||{name:"",description:"",size:30,maxGuests:2,bedType:"מיטה זוגית",basePrice:500,available:5,amenities:[],images:[],ratePlans:[]}),[l,m]=(0,d.useState)(""),[n,o]=(0,d.useState)(!1),p=(a,b)=>{k(c=>({...c,[a]:b}))},q=()=>{l.trim()&&(p("amenities",[...i.amenities||[],l.trim()]),m(""))},r=(a,b)=>{let c=[...i.ratePlans||[]];c[a]={...c[a],...b},p("ratePlans",c)},s=async()=>{o(!0),await new Promise(a=>setTimeout(a,500)),f({id:a?.id||`room-${Date.now()}`,name:i.name||"",description:i.description||"",size:i.size||30,maxGuests:i.maxGuests||2,bedType:i.bedType||"",basePrice:i.basePrice||500,available:i.available||1,amenities:i.amenities||[],images:i.images||[],ratePlans:i.ratePlans||[]}),o(!1)};return(0,c.jsx)(a8.Dialog,{open:b,onOpenChange:e,children:(0,c.jsxs)(a8.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[(0,c.jsx)(a8.DialogHeader,{children:(0,c.jsx)(a8.DialogTitle,{className:"text-xl",children:g?"הוספת חדר חדש":`עריכת ${a?.name}`})}),(0,c.jsxs)(bM.Tabs,{defaultValue:"basic",className:"mt-4",children:[(0,c.jsxs)(bM.TabsList,{className:"grid grid-cols-4 w-full",children:[(0,c.jsxs)(bM.TabsTrigger,{value:"basic",className:"flex items-center gap-2",children:[(0,c.jsx)(bU,{className:"h-4 w-4"}),"פרטים בסיסיים"]}),(0,c.jsxs)(bM.TabsTrigger,{value:"rates",className:"flex items-center gap-2",children:[(0,c.jsx)(bT,{className:"h-4 w-4"}),"תעריפים"]}),(0,c.jsxs)(bM.TabsTrigger,{value:"images",className:"flex items-center gap-2",children:[(0,c.jsx)(bS,{className:"h-4 w-4"}),"תמונות"]}),(0,c.jsx)(bM.TabsTrigger,{value:"amenities",children:"שירותים"})]}),(0,c.jsxs)(bM.TabsContent,{value:"basic",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"name",children:"שם החדר"}),(0,c.jsx)(aP.Input,{id:"name",value:i.name,onChange:a=>p("name",a.target.value),placeholder:"סוויטה דלוקס"})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"bedType",children:"סוג מיטה"}),(0,c.jsx)(aP.Input,{id:"bedType",value:i.bedType,onChange:a=>p("bedType",a.target.value),placeholder:"מיטה זוגית קינג"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"description",children:"תיאור"}),(0,c.jsx)(bL.Textarea,{id:"description",value:i.description,onChange:a=>p("description",a.target.value),placeholder:"תיאור מפורט של החדר...",rows:3})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"size",children:"גודל (מ״ר)"}),(0,c.jsx)(aP.Input,{id:"size",type:"number",value:i.size,onChange:a=>p("size",Number.parseInt(a.target.value))})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"maxGuests",children:"מקסימום אורחים"}),(0,c.jsx)(aP.Input,{id:"maxGuests",type:"number",value:i.maxGuests,onChange:a=>p("maxGuests",Number.parseInt(a.target.value))})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"basePrice",children:"מחיר בסיס (₪)"}),(0,c.jsx)(aP.Input,{id:"basePrice",type:"number",value:i.basePrice,onChange:a=>p("basePrice",Number.parseInt(a.target.value))})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"available",children:"חדרים זמינים"}),(0,c.jsx)(aP.Input,{id:"available",type:"number",value:i.available,onChange:a=>p("available",Number.parseInt(a.target.value))})]})]})]}),(0,c.jsxs)(bM.TabsContent,{value:"rates",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"הגדר תוכניות תעריפים שונות עבור חדר זה"}),(0,c.jsxs)(h.Button,{onClick:()=>{let a={id:`plan-${Date.now()}`,name:"תוכנית חדשה",description:"",price:i.basePrice||500,originalPrice:1.2*(i.basePrice||500),includes:[],cancellationPolicy:"ללא ביטול",prepayment:"תשלום מלא"};p("ratePlans",[...i.ratePlans||[],a])},size:"sm",children:[(0,c.jsx)(bN,{className:"h-4 w-4 ml-2"}),"הוסף תוכנית"]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(i.ratePlans||[]).map((a,b)=>(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{className:"pb-3",children:(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsx)(aP.Input,{value:a.name,onChange:a=>r(b,{name:a.target.value}),className:"font-semibold text-lg border-none p-0 h-auto focus-visible:ring-0",placeholder:"שם התוכנית"}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{p("ratePlans",(i.ratePlans||[]).filter((a,c)=>c!==b))},className:"text-destructive h-8 w-8",children:(0,c.jsx)(bO,{className:"h-4 w-4"})})]})}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"תיאור"}),(0,c.jsx)(bL.Textarea,{value:a.description,onChange:a=>r(b,{description:a.target.value}),placeholder:"תיאור התוכנית...",rows:2})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"מחיר (₪)"}),(0,c.jsx)(aP.Input,{type:"number",value:a.price,onChange:a=>r(b,{price:Number.parseInt(a.target.value)})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"מחיר מקורי (₪)"}),(0,c.jsx)(aP.Input,{type:"number",value:a.originalPrice,onChange:a=>r(b,{originalPrice:Number.parseInt(a.target.value)})})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"מדיניות ביטולים"}),(0,c.jsx)(aP.Input,{value:a.cancellationPolicy,onChange:a=>r(b,{cancellationPolicy:a.target.value}),placeholder:"ביטול חינם עד 24 שעות..."})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"תשלום מראש"}),(0,c.jsx)(aP.Input,{value:a.prepayment,onChange:a=>r(b,{prepayment:a.target.value}),placeholder:"ללא תשלום מראש"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"כולל (מופרד בפסיקים)"}),(0,c.jsx)(aP.Input,{value:(a.includes||[]).join(", "),onChange:a=>r(b,{includes:a.target.value.split(",").map(a=>a.trim()).filter(Boolean)}),placeholder:"ארוחת בוקר, WiFi חינם, חניה..."})]})]})]},a.id)),0===(i.ratePlans||[]).length&&(0,c.jsxs)("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[(0,c.jsx)(bT,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,c.jsx)("p",{children:"אין תוכניות תעריפים"}),(0,c.jsx)("p",{className:"text-sm",children:"הוסף תוכנית כדי להציע מחירים שונים"})]})]})]}),(0,c.jsxs)(bM.TabsContent,{value:"images",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"הוסף תמונות של החדר (התמונה הראשונה תהיה הראשית)"}),(0,c.jsxs)(h.Button,{onClick:()=>{p("images",[...i.images||[],"/placeholder.svg?height=400&width=600&query=hotel room interior luxury"])},size:"sm",children:[(0,c.jsx)(bP,{className:"h-4 w-4 ml-2"}),"הוסף תמונה"]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(i.images||[]).map((a,b)=>(0,c.jsxs)("div",{className:"relative group aspect-video rounded-lg overflow-hidden border",children:[(0,c.jsx)("img",{src:a||"/placeholder.svg",alt:`תמונה ${b+1}`,className:"w-full h-full object-cover"}),0===b&&(0,c.jsx)(j.Badge,{className:"absolute top-2 right-2",children:"ראשית"}),(0,c.jsx)(h.Button,{variant:"destructive",size:"icon",className:"absolute top-2 left-2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{p("images",(i.images||[]).filter((a,c)=>c!==b))},children:(0,c.jsx)(bQ,{className:"h-4 w-4"})})]},b)),0===(i.images||[]).length&&(0,c.jsxs)("div",{className:"col-span-full text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[(0,c.jsx)(bS,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),(0,c.jsx)("p",{children:"אין תמונות"}),(0,c.jsx)("p",{className:"text-sm",children:"הוסף תמונות כדי להציג את החדר"})]})]})]}),(0,c.jsxs)(bM.TabsContent,{value:"amenities",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(aP.Input,{value:l,onChange:a=>m(a.target.value),placeholder:"הוסף שירות חדש...",onKeyDown:a=>"Enter"===a.key&&q()}),(0,c.jsx)(h.Button,{onClick:q,children:(0,c.jsx)(bN,{className:"h-4 w-4"})})]}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:(i.amenities||[]).map((a,b)=>(0,c.jsxs)(j.Badge,{variant:"secondary",className:"text-sm py-1.5 px-3",children:[a,(0,c.jsx)("button",{onClick:()=>{p("amenities",(i.amenities||[]).filter((a,c)=>c!==b))},className:"mr-2 hover:text-destructive",children:(0,c.jsx)(bQ,{className:"h-3 w-3"})})]},b))}),(0,c.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"שירותים נפוצים:"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:["WiFi חינם","מיזוג אוויר","מיני בר","כספת","טלוויזיה","מקלחון","אמבטיה","מרפסת","נוף לים","שירות חדרים"].map(a=>(0,c.jsx)(h.Button,{variant:"outline",size:"sm",onClick:()=>{(i.amenities||[]).includes(a)||p("amenities",[...i.amenities||[],a])},disabled:(i.amenities||[]).includes(a),children:a},a))})]})]})]}),(0,c.jsxs)(a8.DialogFooter,{className:"mt-6",children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:e,children:"ביטול"}),(0,c.jsx)(h.Button,{onClick:s,disabled:n,children:n?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"animate-spin ml-2",children:"◌"}),"שומר..."]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(bR,{className:"h-4 w-4 ml-2"}),g?"צור חדר":"שמור שינויים"]})})]})]})})}let bW=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M2 4v16"}),(0,c.jsx)("path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}),(0,c.jsx)("path",{d:"M2 17h20"}),(0,c.jsx)("path",{d:"M6 8v9"})]}),bX=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,c.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,c.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,c.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),bY=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),(0,c.jsx)("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}),(0,c.jsx)("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}),(0,c.jsx)("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"})]}),bZ=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M5 12h14"}),(0,c.jsx)("path",{d:"M12 5v14"})]}),b$=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),(0,c.jsx)("path",{d:"m15 5 4 4"})]}),b_=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M3 6h18"}),(0,c.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,c.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),b0=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),(0,c.jsx)("circle",{cx:"9",cy:"9",r:"2"}),(0,c.jsx)("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]});function b1({rooms:a}){let[b,e]=(0,d.useState)(a),[f,g]=(0,d.useState)(""),[i,k]=(0,d.useState)(null),[l,m]=(0,d.useState)(!1),[n,o]=(0,d.useState)(null),p=b.filter(a=>a.name.toLowerCase().includes(f.toLowerCase()));return(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[(0,c.jsx)(aP.Input,{placeholder:"חיפוש חדר...",value:f,onChange:a=>g(a.target.value),className:"md:max-w-xs"}),(0,c.jsxs)(h.Button,{onClick:()=>{k(null),m(!0)},children:[(0,c.jsx)(bZ,{className:"h-4 w-4 ml-2"}),"הוסף חדר חדש"]})]}),(0,c.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:p.map(a=>{let b;return(0,c.jsxs)(aY.Card,{className:"overflow-hidden",children:[a.images&&a.images.length>0&&(0,c.jsxs)("div",{className:"aspect-video relative",children:[(0,c.jsx)("img",{src:a.images[0]||"/placeholder.svg",alt:a.name,className:"w-full h-full object-cover"}),(0,c.jsxs)(j.Badge,{className:"absolute top-2 left-2 bg-black/70",children:[(0,c.jsx)(b0,{className:"h-3 w-3 ml-1"}),a.images.length," תמונות"]})]}),(0,c.jsx)(aY.CardHeader,{className:"pb-3",children:(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsx)(aY.CardTitle,{className:"text-lg",children:a.name}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{k(a),m(!0)},children:(0,c.jsx)(b$,{className:"h-4 w-4"})}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>{o(a)},children:(0,c.jsx)(b_,{className:"h-4 w-4"})})]})]})}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.description}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,c.jsx)(bX,{className:"h-4 w-4"}),(0,c.jsxs)("span",{children:["עד ",a.maxGuests," אורחים"]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,c.jsx)(bY,{className:"h-4 w-4"}),(0,c.jsxs)("span",{children:[a.size," מ״ר"]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,c.jsx)(bW,{className:"h-4 w-4"}),(0,c.jsx)("span",{children:a.bedType})]})]}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.amenities.slice(0,4).map(a=>(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:a},a)),a.amenities.length>4&&(0,c.jsxs)(j.Badge,{variant:"outline",className:"text-xs",children:["+",a.amenities.length-4]})]}),a.ratePlans&&a.ratePlans.length>0&&(0,c.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.ratePlans.length," תוכניות תעריף"]}),(0,c.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"מחיר בסיס"}),(0,c.jsx)("p",{className:"text-lg font-bold",children:(b=a.basePrice,new Intl.NumberFormat("he-IL",{style:"currency",currency:"ILS",minimumFractionDigits:0}).format(b))})]}),(0,c.jsxs)("div",{className:"text-left",children:[(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"זמינים"}),(0,c.jsxs)("p",{className:"text-lg font-bold",children:[a.available,"/",a.available+3]})]})]})]})]},a.id)})}),0===p.length&&(0,c.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,c.jsx)(bW,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,c.jsx)("p",{className:"text-lg",children:"לא נמצאו חדרים"}),(0,c.jsx)("p",{className:"text-sm",children:"הוסף חדר חדש או שנה את החיפוש"})]}),(0,c.jsx)(bV,{room:i,isOpen:l,onClose:()=>{m(!1),k(null)},onSave:a=>{i?e(b=>b.map(b=>b.id===a.id?a:b)):e(b=>[...b,a]),m(!1),k(null)}}),(0,c.jsx)(bA,{open:!!n,onOpenChange:()=>o(null),children:(0,c.jsxs)(bD,{dir:"rtl",children:[(0,c.jsxs)(bE,{children:[(0,c.jsx)(bG,{children:"מחיקת חדר"}),(0,c.jsxs)(bH,{children:['האם אתה בטוח שברצונך למחוק את "',n?.name,'"? פעולה זו לא ניתנת לביטול.']})]}),(0,c.jsxs)(bF,{children:[(0,c.jsx)(bJ,{children:"ביטול"}),(0,c.jsx)(bI,{onClick:()=>{n&&(e(a=>a.filter(a=>a.id!==n.id)),o(null))},className:"bg-destructive text-destructive-foreground",children:"מחק"})]})]})})]})}let b2=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"}),(0,c.jsx)("path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16"}),(0,c.jsx)("path",{d:"M8 7h.01"}),(0,c.jsx)("path",{d:"M16 7h.01"}),(0,c.jsx)("path",{d:"M12 7h.01"}),(0,c.jsx)("path",{d:"M12 11h.01"}),(0,c.jsx)("path",{d:"M16 11h.01"}),(0,c.jsx)("path",{d:"M8 11h.01"}),(0,c.jsx)("path",{d:"M10 22v-6.5m4 0V22"})]}),b3=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),(0,c.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),b4=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,c.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),b5=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),(0,c.jsx)("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),(0,c.jsx)("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),(0,c.jsx)("circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}),(0,c.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.555C21.965 6.012 17.461 2 12 2z"})]}),b6=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),(0,c.jsx)("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),(0,c.jsx)("path",{d:"M7 3v4a1 1 0 0 0 1 1h7"})]});function b7({hotel:a,onSave:b}){let[e,f]=(0,d.useState)(a),[g,i]=(0,d.useState)(!1),j=async()=>{i(!0),await new Promise(a=>setTimeout(a,1e3)),b(e),i(!1)},k=(a,b)=>{f(c=>({...c,[a]:b}))},l=(a,b)=>{f(c=>({...c,policies:{...c.policies,[a]:b}}))};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsxs)(aY.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(b2,{className:"h-5 w-5"}),"פרטי מלון בסיסיים"]}),(0,c.jsx)(aY.CardDescription,{children:"מידע כללי על המלון שלך"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"name",children:"שם המלון"}),(0,c.jsx)(aP.Input,{id:"name",value:e.name,onChange:a=>k("name",a.target.value)})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"slug",children:"כתובת URL (Slug)"}),(0,c.jsx)(aP.Input,{id:"slug",value:e.slug,onChange:a=>k("slug",a.target.value),dir:"ltr"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"description",children:"תיאור"}),(0,c.jsx)(bL.Textarea,{id:"description",value:e.description,onChange:a=>k("description",a.target.value),rows:3})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"דירוג כוכבים"}),(0,c.jsxs)(a7.Select,{value:e.stars.toString(),onValueChange:a=>k("stars",Number.parseInt(a)),children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsx)(a7.SelectContent,{children:[3,4,5].map(a=>(0,c.jsxs)(a7.SelectItem,{value:a.toString(),children:[a," כוכבים"]},a))})]})]})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{children:(0,c.jsxs)(aY.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(b3,{className:"h-5 w-5"}),"מיקום"]})}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"address",children:"כתובת"}),(0,c.jsx)(aP.Input,{id:"address",value:e.address,onChange:a=>k("address",a.target.value)})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"city",children:"עיר"}),(0,c.jsx)(aP.Input,{id:"city",value:e.city,onChange:a=>k("city",a.target.value)})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"country",children:"מדינה"}),(0,c.jsx)(aP.Input,{id:"country",value:e.country,onChange:a=>k("country",a.target.value)})]})]})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{children:(0,c.jsxs)(aY.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(b4,{className:"h-5 w-5"}),"מדיניות המלון"]})}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"checkIn",children:"שעת צ׳ק-אין"}),(0,c.jsx)(aP.Input,{id:"checkIn",value:e.policies.checkIn,onChange:a=>l("checkIn",a.target.value),placeholder:"15:00"})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"checkOut",children:"שעת צ׳ק-אאוט"}),(0,c.jsx)(aP.Input,{id:"checkOut",value:e.policies.checkOut,onChange:a=>l("checkOut",a.target.value),placeholder:"11:00"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"cancellation",children:"מדיניות ביטולים"}),(0,c.jsx)(bL.Textarea,{id:"cancellation",value:e.policies.cancellation,onChange:a=>l("cancellation",a.target.value),rows:2})]})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsxs)(aY.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(b5,{className:"h-5 w-5"}),"מראה ומיתוג"]}),(0,c.jsx)(aY.CardDescription,{children:"התאם אישית את מראה מנוע ההזמנות"})]}),(0,c.jsx)(aY.CardContent,{className:"space-y-4",children:(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"primaryColor",children:"צבע עיקרי"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(aP.Input,{id:"primaryColor",type:"color",value:e.primaryColor,onChange:a=>k("primaryColor",a.target.value),className:"w-16 h-10"}),(0,c.jsx)(aP.Input,{value:e.primaryColor,onChange:a=>k("primaryColor",a.target.value),placeholder:"#1e3a5f",dir:"ltr"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"currency",children:"מטבע"}),(0,c.jsxs)(a7.Select,{value:e.currency,onValueChange:a=>k("currency",a),children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"ILS",children:"ILS (₪)"}),(0,c.jsx)(a7.SelectItem,{value:"USD",children:"USD ($)"}),(0,c.jsx)(a7.SelectItem,{value:"EUR",children:"EUR (€)"}),(0,c.jsx)(a7.SelectItem,{value:"GBP",children:"GBP (£)"})]})]})]})]})})]}),(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)(h.Button,{size:"lg",onClick:j,disabled:g,children:g?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"animate-spin mr-2",children:"◌"}),"שומר..."]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(b6,{className:"h-4 w-4 ml-2"}),"שמור שינויים"]})})})]})}let b8=()=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),(0,c.jsx)("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),b9=()=>(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("polyline",{points:"20 6 9 17 4 12"})});function ca(){let{currentHotel:a}=(0,e.useHotelConfig)(),[b,f]=(0,d.useState)(!1),[g,i]=(0,d.useState)(!1),k="https://your-domain.com",l=a?.id||"demo",m=`<!-- מנוע הזמנות סטנדרטי - ${a?.name||"Hotel"} -->
<iframe 
  src="${k}/embed/widget/${l}"
  width="100%"
  height="700"
  frameborder="0"
  style="border: none; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"
></iframe>`,n=`<!-- צ'אט AI להזמנות - ${a?.name||"Hotel"} -->
<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${k}/embed/ai-chat.js';
    script.setAttribute('data-hotel-id', '${l}');
    script.setAttribute('data-position', 'bottom-right');
    script.setAttribute('data-language', 'he');
    document.body.appendChild(script);
  })();
</script>`,o=`<!-- צ'אט AI להזמנות (iFrame) - ${a?.name||"Hotel"} -->
<iframe 
  src="${k}/embed/ai-chat/${l}"
  width="400"
  height="600"
  frameborder="0"
  style="border: none; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.15);"
></iframe>`,p=(a,b)=>{navigator.clipboard.writeText(a),"widget"===b?(f(!0),setTimeout(()=>f(!1),2e3)):(i(!0),setTimeout(()=>i(!1),2e3))};return a?(0,c.jsx)("div",{className:"space-y-6",children:(0,c.jsxs)(bM.Tabs,{defaultValue:"widget",className:"w-full",children:[(0,c.jsxs)(bM.TabsList,{className:"grid w-full grid-cols-2 mb-6",children:[(0,c.jsxs)(bM.TabsTrigger,{value:"widget",className:"flex items-center gap-2",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6z"})}),"מנוע הזמנות סטנדרטי",a.enableWidget?(0,c.jsx)(j.Badge,{variant:"default",className:"bg-green-500",children:"פעיל"}):(0,c.jsx)(j.Badge,{variant:"secondary",children:"כבוי"})]}),(0,c.jsxs)(bM.TabsTrigger,{value:"ai-chat",className:"flex items-center gap-2",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"צ'אט AI",a.enableAiChat?(0,c.jsx)(j.Badge,{variant:"default",className:"bg-emerald-500",children:"פעיל"}):(0,c.jsx)(j.Badge,{variant:"secondary",children:"כבוי"})]})]}),(0,c.jsx)(bM.TabsContent,{value:"widget",children:(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"הטמעת מנוע הזמנות סטנדרטי"}),(0,c.jsx)(aY.CardDescription,{children:"העתק את הקוד הבא והדבק אותו באתר שלך במקום שבו תרצה להציג את מנוע ההזמנות"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[!a.enableWidget&&(0,c.jsx)("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:"מנוע ההזמנות הסטנדרטי כבוי. הפעל אותו בהגדרות המנועים כדי להשתמש בו."}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("pre",{className:"bg-slate-950 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm",children:(0,c.jsx)("code",{children:m})}),(0,c.jsxs)(h.Button,{size:"sm",variant:"secondary",className:"absolute top-2 left-2",onClick:()=>p(m,"widget"),children:[b?(0,c.jsx)(b9,{}):(0,c.jsx)(b8,{}),(0,c.jsx)("span",{className:"mr-1",children:b?"הועתק!":"העתק"})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,c.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,c.jsx)("h4",{className:"font-medium mb-2",children:"תצוגה מקדימה"}),(0,c.jsx)("a",{href:`${k}/embed/widget/${l}`,target:"_blank",className:"text-primary hover:underline text-sm",rel:"noreferrer",children:"פתח בחלון חדש →"})]}),(0,c.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,c.jsx)("h4",{className:"font-medium mb-2",children:"כתובת ישירה"}),(0,c.jsxs)("code",{className:"text-xs text-muted-foreground break-all",children:[k,"/embed/widget/",l]})]})]})]})]})}),(0,c.jsx)(bM.TabsContent,{value:"ai-chat",children:(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"הטמעת צ'אט AI"}),(0,c.jsx)(aY.CardDescription,{children:"בחר את שיטת ההטמעה המתאימה לך - סקריפט צף או iFrame"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-6",children:[!a.enableAiChat&&(0,c.jsx)("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:"צ'אט AI כבוי. הפעל אותו בהגדרות המנועים כדי להשתמש בו."}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,c.jsx)("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs",children:"1"}),"כפתור צף (מומלץ)"]}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"הוסף כפתור צ'אט צף בפינת המסך. מושלם לאתרים קיימים."}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("pre",{className:"bg-slate-950 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm",children:(0,c.jsx)("code",{children:n})}),(0,c.jsxs)(h.Button,{size:"sm",variant:"secondary",className:"absolute top-2 left-2",onClick:()=>p(n,"ai-chat"),children:[g?(0,c.jsx)(b9,{}):(0,c.jsx)(b8,{}),(0,c.jsx)("span",{className:"mr-1",children:g?"הועתק!":"העתק"})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,c.jsx)("span",{className:"w-6 h-6 rounded-full bg-muted text-muted-foreground flex items-center justify-center text-xs",children:"2"}),"iFrame (מוטמע בדף)"]}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"הטמע את הצ'אט כחלק מהדף שלך במיקום ספציפי."}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("pre",{className:"bg-slate-950 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm",children:(0,c.jsx)("code",{children:o})}),(0,c.jsxs)(h.Button,{size:"sm",variant:"secondary",className:"absolute top-2 left-2",onClick:()=>p(o,"ai-chat"),children:[g?(0,c.jsx)(b9,{}):(0,c.jsx)(b8,{}),(0,c.jsx)("span",{className:"mr-1",children:g?"הועתק!":"העתק"})]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,c.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,c.jsx)("h4",{className:"font-medium mb-2",children:"תצוגה מקדימה"}),(0,c.jsx)("a",{href:`${k}/embed/ai-chat/${l}`,target:"_blank",className:"text-primary hover:underline text-sm",rel:"noreferrer",children:"פתח בחלון חדש →"})]}),(0,c.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,c.jsx)("h4",{className:"font-medium mb-2",children:"כתובת ישירה"}),(0,c.jsxs)("code",{className:"text-xs text-muted-foreground break-all",children:[k,"/embed/ai-chat/",l]})]})]})]})]})})]})}):(0,c.jsx)(aY.Card,{children:(0,c.jsx)(aY.CardContent,{className:"p-8 text-center",children:(0,c.jsx)("p",{className:"text-muted-foreground",children:"אנא בחר מלון תחילה"})})})}var cb=a.i(280281);function cc(){let{currentHotel:a,updateHotel:b}=(0,e.useHotelConfig)(),[f,g]=(0,d.useState)(a);return f?(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,c.jsxs)(aY.Card,{className:f.enableWidget?"border-blue-500 bg-blue-500/5":"",children:[(0,c.jsx)(aY.CardHeader,{className:"pb-4",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900",children:(0,c.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{className:"text-lg",children:"מנוע הזמנות סטנדרטי"}),(0,c.jsx)(aY.CardDescription,{children:"וידג'ט מסורתי להזמנות"})]})]}),(0,c.jsx)(cb.Switch,{checked:f.enableWidget,onCheckedChange:a=>g({...f,enableWidget:a})})]})}),f.enableWidget&&(0,c.jsxs)(aY.CardContent,{className:"space-y-4 border-t pt-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"צבע ראשי"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(aP.Input,{type:"color",value:f.widgetSettings.primaryColor,onChange:a=>g({...f,widgetSettings:{...f.widgetSettings,primaryColor:a.target.value}}),className:"w-12 h-10 p-1"}),(0,c.jsx)(aP.Input,{value:f.widgetSettings.primaryColor,onChange:a=>g({...f,widgetSettings:{...f.widgetSettings,primaryColor:a.target.value}}),className:"flex-1"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"שפה"}),(0,c.jsxs)(a7.Select,{value:f.widgetSettings.language,onValueChange:a=>g({...f,widgetSettings:{...f.widgetSettings,language:a}}),children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"he",children:"עברית"}),(0,c.jsx)(a7.SelectItem,{value:"en",children:"English"}),(0,c.jsx)(a7.SelectItem,{value:"both",children:"שתי השפות"})]})]})]})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)(bK.Label,{children:"הצג מחירים"}),(0,c.jsx)(cb.Switch,{checked:f.widgetSettings.showPrices,onCheckedChange:a=>g({...f,widgetSettings:{...f.widgetSettings,showPrices:a}})})]})]})]}),(0,c.jsxs)(aY.Card,{className:f.enableAiChat?"border-emerald-500 bg-emerald-500/5":"",children:[(0,c.jsx)(aY.CardHeader,{className:"pb-4",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg bg-emerald-100 dark:bg-emerald-900",children:(0,c.jsx)("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{className:"text-lg",children:"צ'אט AI להזמנות"}),(0,c.jsx)(aY.CardDescription,{children:"הזמנות בשיחה טבעית"})]})]}),(0,c.jsx)(cb.Switch,{checked:f.enableAiChat,onCheckedChange:a=>g({...f,enableAiChat:a})})]})}),f.enableAiChat&&(0,c.jsxs)(aY.CardContent,{className:"space-y-4 border-t pt-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"הודעת פתיחה (עברית)"}),(0,c.jsx)(aP.Input,{value:f.aiChatSettings.welcomeMessageHe,onChange:a=>g({...f,aiChatSettings:{...f.aiChatSettings,welcomeMessageHe:a.target.value}}),placeholder:"שלום! איך אוכל לעזור לך?"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"הודעת פתיחה (אנגלית)"}),(0,c.jsx)(aP.Input,{value:f.aiChatSettings.welcomeMessage,onChange:a=>g({...f,aiChatSettings:{...f.aiChatSettings,welcomeMessage:a.target.value}}),placeholder:"Hello! How can I help you?"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"אופי הבוט"}),(0,c.jsxs)(a7.Select,{value:f.aiChatSettings.personality,onValueChange:a=>g({...f,aiChatSettings:{...f.aiChatSettings,personality:a}}),children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"professional",children:"מקצועי"}),(0,c.jsx)(a7.SelectItem,{value:"friendly",children:"ידידותי"}),(0,c.jsx)(a7.SelectItem,{value:"luxury",children:"יוקרתי"})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"שפה"}),(0,c.jsxs)(a7.Select,{value:f.aiChatSettings.language,onValueChange:a=>g({...f,aiChatSettings:{...f.aiChatSettings,language:a}}),children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"he",children:"עברית"}),(0,c.jsx)(a7.SelectItem,{value:"en",children:"English"}),(0,c.jsx)(a7.SelectItem,{value:"both",children:"שתי השפות"})]})]})]})]})]})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"הגדרות API"}),(0,c.jsx)(aY.CardDescription,{children:"חיבור למערכת ההזמנות של המלון"})]}),(0,c.jsx)(aY.CardContent,{className:"space-y-4",children:(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"מזהה מלון"}),(0,c.jsx)(aP.Input,{value:f.apiSettings.mediciHotelId,onChange:a=>g({...f,apiSettings:{...f.apiSettings,mediciHotelId:a.target.value}}),placeholder:"hotel-123"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"שם מלון (לחיפוש)"}),(0,c.jsx)(aP.Input,{value:f.apiSettings.mediciHotelName,onChange:a=>g({...f,apiSettings:{...f.apiSettings,mediciHotelName:a.target.value}}),placeholder:"Grand Hotel Tel Aviv"})]})]})})]}),(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)(h.Button,{onClick:()=>{f&&b(f)},className:"px-8",children:"שמור שינויים"})})]}):(0,c.jsx)(aY.Card,{children:(0,c.jsx)(aY.CardContent,{className:"p-8 text-center",children:(0,c.jsx)("p",{className:"text-muted-foreground",children:"אנא בחר מלון תחילה"})})})}let cd=({className:a})=>(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:(0,c.jsx)("path",{d:"m9 18 6-6-6-6"})}),ce=({className:a})=>(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:(0,c.jsx)("path",{d:"m15 18-6-6 6-6"})}),cf=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M8 2v4"}),(0,c.jsx)("path",{d:"M16 2v4"}),(0,c.jsx)("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),(0,c.jsx)("path",{d:"M3 10h18"})]});function cg({rooms:a}){let b,e,[f,g]=(0,d.useState)(new Date),[i,j]=(0,d.useState)(a[0]?.id||""),[k,l]=(0,d.useState)([]),[m,n]=(0,d.useState)(null),[o,p]=(0,d.useState)(0),[q,r]=(0,d.useState)(""),s=a.find(a=>a.id===i),{days:t,firstDay:u}=(b=f.getFullYear(),{days:new Date(b,(e=f.getMonth())+1,0).getDate(),firstDay:new Date(b,e,1).getDay()}),v=a=>new Date(f.getFullYear(),f.getMonth(),a).toISOString().split("T")[0],w=a=>new Intl.NumberFormat("he-IL",{style:"currency",currency:"ILS",minimumFractionDigits:0}).format(a),x=a=>{g(b=>new Date(b.getFullYear(),b.getMonth()+a,1))};return(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)(aY.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(cf,{className:"h-5 w-5"}),"לוח מחירים"]}),(0,c.jsx)(aY.CardDescription,{children:"הגדר מחירים שונים לתאריכים ספציפיים"})]}),(0,c.jsxs)(a7.Select,{value:i,onValueChange:j,children:[(0,c.jsx)(a7.SelectTrigger,{className:"w-48",children:(0,c.jsx)(a7.SelectValue,{placeholder:"בחר חדר"})}),(0,c.jsx)(a7.SelectContent,{children:a.map(a=>(0,c.jsx)(a7.SelectItem,{value:a.id,children:a.name},a.id))})]})]})}),(0,c.jsxs)(aY.CardContent,{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>x(-1),children:(0,c.jsx)(cd,{className:"h-5 w-5"})}),(0,c.jsx)("h3",{className:"text-lg font-semibold",children:f.toLocaleDateString("he-IL",{month:"long",year:"numeric"})}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>x(1),children:(0,c.jsx)(ce,{className:"h-5 w-5"})})]}),(0,c.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"].map(a=>(0,c.jsx)("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:a},a)),Array.from({length:u}).map((a,b)=>(0,c.jsx)("div",{className:"aspect-square"},`empty-${b}`)),Array.from({length:t}).map((a,b)=>{let d,e,g,h=b+1,j=(d=v(h),e=k.find(a=>a.date===d&&a.roomId===i),e?.price||s?.basePrice||0),l=(g=v(h),k.some(a=>a.date===g&&a.roomId===i)),m=6===new Date(f.getFullYear(),f.getMonth(),h).getDay();return(0,c.jsxs)("button",{onClick:()=>{let a,b;return a=v(h),b=k.find(b=>b.date===a&&b.roomId===i),void(n(a),p(b?.price||s?.basePrice||0),r(b?.reason||""))},className:`
                  aspect-square p-1 rounded-lg border transition-colors text-right flex flex-col
                  ${l?"bg-primary/10 border-primary":"hover:bg-muted"}
                  ${m?"bg-amber-50 dark:bg-amber-900/10":""}
                `,children:[(0,c.jsx)("span",{className:"text-xs font-medium",children:h}),(0,c.jsx)("span",{className:`text-xs mt-auto ${l?"text-primary font-semibold":"text-muted-foreground"}`,children:w(j)})]},h)})]}),(0,c.jsxs)("div",{className:"flex gap-4 mt-4 text-sm text-muted-foreground",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-4 h-4 rounded bg-primary/10 border border-primary"}),(0,c.jsx)("span",{children:"מחיר מותאם"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-4 h-4 rounded bg-amber-50 dark:bg-amber-900/10 border"}),(0,c.jsx)("span",{children:"שבת"})]})]}),(0,c.jsx)(a8.Dialog,{open:!!m,onOpenChange:()=>n(null),children:(0,c.jsxs)(a8.DialogContent,{dir:"rtl",children:[(0,c.jsx)(a8.DialogHeader,{children:(0,c.jsx)(a8.DialogTitle,{children:"עדכון מחיר"})}),(0,c.jsxs)("div",{className:"space-y-4 py-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"תאריך"}),(0,c.jsx)(aP.Input,{value:m||"",disabled:!0,dir:"ltr"})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"מחיר ללילה (₪)"}),(0,c.jsx)(aP.Input,{type:"number",value:o,onChange:a=>p(Number.parseInt(a.target.value)||0)})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"סיבה (אופציונלי)"}),(0,c.jsx)(aP.Input,{value:q,onChange:a=>r(a.target.value),placeholder:"חג, אירוע מיוחד..."})]}),(0,c.jsxs)("p",{className:"text-sm text-muted-foreground",children:["מחיר בסיס: ",w(s?.basePrice||0)]})]}),(0,c.jsxs)(a8.DialogFooter,{children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:()=>n(null),children:"ביטול"}),(0,c.jsx)(h.Button,{onClick:()=>{m&&(l(a=>{let b=a.filter(a=>a.date!==m||a.roomId!==i);return o!==s?.basePrice?[...b,{date:m,roomId:i,price:o,reason:q}]:b}),n(null))},children:"שמור"})]})]})})]})]})}var ch=a.i(27107);function ci(){let{hotels:a,currentHotel:b,setCurrentHotel:d}=(0,ch.useSaaS)();return a.length<=1?(0,c.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,c.jsx)("span",{className:"font-medium text-sm",children:b?.name})]}):(0,c.jsxs)(a7.Select,{value:b?.id,onValueChange:b=>{let c=a.find(a=>a.id===b);c&&d(c)},children:[(0,c.jsx)(a7.SelectTrigger,{className:"w-[250px] bg-muted/50",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,c.jsx)(a7.SelectValue,{placeholder:"בחר מלון"})]})}),(0,c.jsx)(a7.SelectContent,{children:a.map(a=>(0,c.jsx)(a7.SelectItem,{value:a.id,children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{children:a.name}),(0,c.jsxs)(j.Badge,{variant:"outline",className:"text-xs",children:[a.stars," כוכבים"]})]})},a.id))})]})}let cj=[{name:"ינו",revenue:45e3,bookings:32},{name:"פבר",revenue:52e3,bookings:38},{name:"מרץ",revenue:48e3,bookings:35},{name:"אפר",revenue:61e3,bookings:45},{name:"מאי",revenue:75e3,bookings:52},{name:"יונ",revenue:82e3,bookings:58},{name:"יול",revenue:98e3,bookings:72},{name:"אוג",revenue:112e3,bookings:85},{name:"ספט",revenue:89e3,bookings:65},{name:"אוק",revenue:76e3,bookings:54},{name:"נוב",revenue:65e3,bookings:48},{name:"דצמ",revenue:71e3,bookings:51}],ck=[{day:"א",rate:85},{day:"ב",rate:72},{day:"ג",rate:78},{day:"ד",rate:82},{day:"ה",rate:91},{day:"ו",rate:98},{day:"ש",rate:95}],cl=[{name:"סטנדרט",value:35,color:"#3b82f6"},{name:"דלקס",value:28,color:"#10b981"},{name:"סוויטה",value:22,color:"#f59e0b"},{name:"סוויטה נשיאותית",value:15,color:"#ef4444"}];function cm(){let a=Math.max(...cj.map(a=>a.revenue));return(0,c.jsxs)(aY.Card,{className:"col-span-2",children:[(0,c.jsxs)(aY.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{className:"text-base font-medium",children:"הכנסות והזמנות"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"סקירה שנתית"})]}),(0,c.jsx)("div",{className:"flex gap-4 text-sm",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-3 h-3 rounded-full bg-primary"}),(0,c.jsx)("span",{className:"text-muted-foreground",children:"הכנסות"})]})})]}),(0,c.jsxs)(aY.CardContent,{className:"pt-4",children:[(0,c.jsx)("div",{className:"h-[300px] flex items-end gap-2",children:cj.map((b,d)=>(0,c.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,c.jsx)("div",{className:"w-full bg-gradient-to-t from-primary/80 to-primary rounded-t-md transition-all hover:from-primary hover:to-primary/90",style:{height:`${b.revenue/a*250}px`},title:`₪${b.revenue.toLocaleString()}`}),(0,c.jsx)("span",{className:"text-xs text-muted-foreground",children:b.name})]},d))}),(0,c.jsxs)("div",{className:"flex justify-between mt-4 text-sm text-muted-foreground",children:[(0,c.jsxs)("span",{children:["סה״כ: ₪",cj.reduce((a,b)=>a+b.revenue,0).toLocaleString()]}),(0,c.jsxs)("span",{children:["ממוצע: ₪",Math.round(cj.reduce((a,b)=>a+b.revenue,0)/12).toLocaleString()]})]})]})]})}function cn(){return(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{className:"pb-2",children:[(0,c.jsx)(aY.CardTitle,{className:"text-base font-medium",children:"תפוסה שבועית"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"אחוז התפוסה לפי יום"})]}),(0,c.jsx)(aY.CardContent,{className:"pt-4",children:(0,c.jsx)("div",{className:"h-[200px] flex items-end gap-3",children:ck.map((a,b)=>(0,c.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,c.jsxs)("span",{className:"text-xs font-medium",children:[a.rate,"%"]}),(0,c.jsx)("div",{className:"w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-md transition-all hover:from-blue-500 hover:to-blue-300",style:{height:`${1.5*a.rate}px`}}),(0,c.jsx)("span",{className:"text-xs text-muted-foreground",children:a.day})]},b))})})]})}function co(){let a=cl.reduce((a,b)=>a+b.value,0);return(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{className:"pb-2",children:[(0,c.jsx)(aY.CardTitle,{className:"text-base font-medium",children:"התפלגות סוגי חדרים"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"הזמנות לפי סוג חדר"})]}),(0,c.jsxs)(aY.CardContent,{className:"pt-0",children:[(0,c.jsx)("div",{className:"h-[200px] flex items-center justify-center",children:(0,c.jsxs)("div",{className:"relative w-40 h-40",children:[(0,c.jsx)("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90",children:cl.reduce((b,d,e)=>{let f=b.offset,g=d.value/a*100,h=`${g} ${100-g}`;return b.elements.push((0,c.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:d.color,strokeWidth:"20",strokeDasharray:h,strokeDashoffset:-f,className:"transition-all"},e)),b.offset=f+g,b},{elements:[],offset:0}).elements}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsxs)("span",{className:"text-2xl font-bold",children:[a,"%"]})})]})}),(0,c.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:cl.map(a=>(0,c.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,c.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:a.color}}),(0,c.jsx)("span",{className:"text-muted-foreground",children:a.name}),(0,c.jsxs)("span",{className:"font-medium mr-auto",children:[a.value,"%"]})]},a.name))})]})]})}function cp(){return(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{className:"pb-2",children:[(0,c.jsx)(aY.CardTitle,{className:"text-base font-medium",children:"מדדי ביצועים"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"נתונים מרכזיים"})]}),(0,c.jsx)(aY.CardContent,{className:"pt-2",children:(0,c.jsx)("div",{className:"space-y-4",children:[{label:"ממוצע לילה",value:"₪892",change:"+12%",positive:!0},{label:"אורך שהייה ממוצע",value:"2.8 לילות",change:"+5%",positive:!0},{label:"שיעור ביטולים",value:"4.2%",change:"-2%",positive:!0},{label:"זמן תגובה",value:"1.2 שעות",change:"-15%",positive:!0}].map(a=>(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"text-sm text-muted-foreground",children:a.label}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"font-medium",children:a.value}),(0,c.jsx)(j.Badge,{variant:"secondary",className:a.positive?"bg-green-500/10 text-green-600 hover:bg-green-500/20":"bg-red-500/10 text-red-600 hover:bg-red-500/20",children:a.change})]})]},a.label))})})]})}let cq=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,c.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,c.jsx)("circle",{cx:"5",cy:"12",r:"1"})]}),cr=({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M7 17V7h10"}),(0,c.jsx)("path",{d:"M17 17 7 7"})]}),cs={confirmed:{label:"מאושר",className:"bg-green-500/10 text-green-600 border-green-500/20"},pending:{label:"ממתין",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20"},cancelled:{label:"מבוטל",className:"bg-red-500/10 text-red-600 border-red-500/20"},completed:{label:"הושלם",className:"bg-blue-500/10 text-blue-600 border-blue-500/20"}};function ct({bookings:a}){return(0,c.jsxs)(aY.Card,{className:"col-span-2",children:[(0,c.jsxs)(aY.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{className:"text-base font-medium",children:"הזמנות אחרונות"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"5 ההזמנות האחרונות שהתקבלו"})]}),(0,c.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"gap-2 text-primary",children:["צפה בהכל",(0,c.jsx)(cr,{className:"h-4 w-4"})]})]}),(0,c.jsx)(aY.CardContent,{className:"pt-0",children:(0,c.jsx)("div",{className:"space-y-1",children:a.slice(0,5).map(a=>{let b=cs[a.status],d=`${a.guestDetails.firstName.charAt(0)}${a.guestDetails.lastName.charAt(0)}`;return(0,c.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors group",children:[(0,c.jsx)(i.Avatar,{className:"h-10 w-10 border",children:(0,c.jsx)(i.AvatarFallback,{className:"bg-primary/10 text-primary font-medium",children:d})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)("span",{className:"font-medium text-foreground",children:[a.guestDetails.firstName," ",a.guestDetails.lastName]}),(0,c.jsxs)("span",{className:"text-xs text-muted-foreground",children:["#",a.confirmationNumber]})]}),(0,c.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.rooms[0]?.room.name," • ",a.nights," לילות"]})]}),(0,c.jsxs)("div",{className:"text-left hidden sm:block",children:[(0,c.jsxs)("div",{className:"text-sm font-medium",children:[(0,a0.formatDate)(a.checkIn,"he")," - ",(0,a0.formatDate)(a.checkOut,"he")]}),(0,c.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.guests.adults," מבוגרים",a.guests.children>0&&`, ${a.guests.children} ילדים`]})]}),(0,c.jsxs)("div",{className:"text-left",children:[(0,c.jsxs)("div",{className:"font-semibold",children:["₪",a.pricing.total.toLocaleString()]}),(0,c.jsx)(j.Badge,{variant:"outline",className:b?.className,children:b?.label})]}),(0,c.jsxs)(aQ.DropdownMenu,{children:[(0,c.jsx)(aQ.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,c.jsx)(cq,{className:"h-4 w-4"})})}),(0,c.jsxs)(aQ.DropdownMenuContent,{align:"end",dir:"rtl",children:[(0,c.jsx)(aQ.DropdownMenuItem,{children:"צפה בפרטים"}),(0,c.jsx)(aQ.DropdownMenuItem,{children:"שלח אישור"}),(0,c.jsx)(aQ.DropdownMenuItem,{children:"ערוך הזמנה"}),(0,c.jsx)(aQ.DropdownMenuItem,{className:"text-destructive",children:"בטל הזמנה"})]})]})]},a.id)})})})]})}let cu=({className:a})=>(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:(0,c.jsx)("path",{d:"M20 6 9 17l-5-5"})}),cv=[{id:"1",type:"check-in",guest:"יוסי כהן",room:"חדר 204",time:"14:00",status:"pending"},{id:"2",type:"check-in",guest:"שרה לוי",room:"סוויטה 501",time:"15:00",status:"pending"},{id:"3",type:"check-out",guest:"דוד ישראלי",room:"חדר 302",time:"11:00",status:"completed"},{id:"4",type:"check-in",guest:"מרים אברהם",room:"חדר 105",time:"16:00",status:"urgent"},{id:"5",type:"check-out",guest:"אלי רוזן",room:"חדר 408",time:"12:00",status:"pending"}],cw={"check-in":{icon:({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M13 4h3a2 2 0 0 1 2 2v14"}),(0,c.jsx)("path",{d:"M2 20h3"}),(0,c.jsx)("path",{d:"M13 20h9"}),(0,c.jsx)("path",{d:"M10 12v.01"}),(0,c.jsx)("path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z"})]}),label:"צ'ק-אין",color:"text-green-600"},"check-out":{icon:({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14"}),(0,c.jsx)("path",{d:"M2 20h20"}),(0,c.jsx)("path",{d:"M14 12v.01"})]}),label:"צ'ק-אאוט",color:"text-blue-600"},booking:{icon:({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,c.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),label:"הזמנה",color:"text-primary"},cancellation:{icon:({className:a})=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,c.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,c.jsx)("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]}),label:"ביטול",color:"text-red-600"}},cx={pending:{label:"ממתין",className:"bg-yellow-500/10 text-yellow-600"},completed:{label:"הושלם",className:"bg-green-500/10 text-green-600"},urgent:{label:"דחוף",className:"bg-red-500/10 text-red-600"}};function cy(){return(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{className:"text-base font-medium",children:"פעילות היום"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"צ'ק-אינים וצ'ק-אאוטים"})]}),(0,c.jsxs)(j.Badge,{variant:"secondary",children:[cv.length," פעולות"]})]}),(0,c.jsx)(aY.CardContent,{className:"pt-0",children:(0,c.jsx)("div",{className:"space-y-3",children:cv.map(a=>{let b=cw[a.type],d=cx[a.status],e=b.icon;return(0,c.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[(0,c.jsx)("div",{className:(0,g.cn)("p-2 rounded-lg bg-muted",b.color),children:(0,c.jsx)(e,{className:"h-4 w-4"})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"font-medium text-sm",children:a.guest}),(0,c.jsx)(j.Badge,{variant:"secondary",className:(0,g.cn)("text-xs",d.className),children:d.label})]}),(0,c.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b.label," • ",a.room," • ",a.time]})]}),"completed"!==a.status&&(0,c.jsx)(h.Button,{size:"sm",variant:"ghost",className:"h-7 px-2",children:(0,c.jsx)(cu,{className:"h-4 w-4"})})]},a.id)})})})]})}var cz=a.i(55806);let cA=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),cB=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),cC=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),cD=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),cE=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M12 4v16m8-8H4"})}),cF=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),cG=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.456-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})}),cH=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),cI=({className:a})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})});function cJ(){let{currentHotel:a,updateHotel:b}=(0,e.useHotelConfig)(),[f,g]=(0,d.useState)(a),[i,k]=(0,d.useState)(""),[l,m]=(0,d.useState)({title:"",content:""}),[n,o]=(0,d.useState)(""),[p,q]=(0,d.useState)([]),[r,s]=(0,d.useState)(!1),[t,u]=(0,d.useState)(""),[v,w]=(0,d.useState)(""),[x,y]=(0,d.useState)(!1);if(!f)return(0,c.jsx)(aY.Card,{children:(0,c.jsx)(aY.CardContent,{className:"p-8 text-center",children:(0,c.jsx)("p",{className:"text-muted-foreground",children:"אנא בחר מלון תחילה"})})});let z=f.aiChatSettings||{welcomeMessage:"",welcomeMessageHe:"",suggestedQuestions:[],personality:"professional",language:"he",systemInstructions:"",knowledgeBase:[],useEmojis:!1,suggestUpsells:!0,collectContactInfo:!0,externalInfoSources:[]},A=()=>{if(i.trim()){let a=[...z.suggestedQuestions||[],i.trim()];g({...f,aiChatSettings:{...z,suggestedQuestions:a}}),k("")}},B=async()=>{if(!n.trim())return;let a=n.trim();q(b=>[...b,{role:"user",content:a}]),o(""),s(!0);try{let b=await fetch("/api/ai/admin-assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a,context:{hotelName:f?.name,currentPrompt:z.systemInstructions,knowledgeBase:z.knowledgeBase}})}),c=await b.json();q(a=>[...a,{role:"assistant",content:c.response||c.error}])}catch(a){q(a=>[...a,{role:"assistant",content:"שגיאה בתקשורת עם העוזר"}])}finally{s(!1)}},C=async()=>{if(t.trim()){y(!0),w("");try{let a=await fetch("/api/ai/analyze-conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversation:t})}),b=await a.json();b.success&&b.analysis?w(b.analysis):w(`שגיאה: ${b.error||"לא ניתן לנתח את השיחה"}`)}catch(a){w("שגיאה בתקשורת עם השרת")}finally{y(!1)}}};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(aY.Card,{className:f.enableAiChat?"border-emerald-500/50 bg-emerald-500/5":"border-slate-700",children:(0,c.jsx)(aY.CardHeader,{className:"pb-4",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:`p-3 rounded-2xl ${f.enableAiChat?"bg-emerald-500/20":"bg-slate-800"}`,children:(0,c.jsx)(cA,{className:`w-8 h-8 ${f.enableAiChat?"text-emerald-400":"text-slate-500"}`})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{className:"text-xl",children:"צ'אט AI להזמנות"}),(0,c.jsx)(aY.CardDescription,{children:"הגדר את העוזר הווירטואלי החכם שלך"})]})]}),(0,c.jsx)(cb.Switch,{checked:f.enableAiChat,onCheckedChange:a=>g({...f,enableAiChat:a})})]})})}),f.enableAiChat&&(0,c.jsxs)(bM.Tabs,{defaultValue:"messages",className:"space-y-6",children:[(0,c.jsxs)(bM.TabsList,{className:"grid grid-cols-6 w-full max-w-3xl",children:[(0,c.jsxs)(bM.TabsTrigger,{value:"messages",className:"flex items-center gap-2",children:[(0,c.jsx)(cC,{className:"w-4 h-4"}),"הודעות"]}),(0,c.jsxs)(bM.TabsTrigger,{value:"instructions",className:"flex items-center gap-2",children:[(0,c.jsx)(cD,{className:"w-4 h-4"}),"הנחיות"]}),(0,c.jsxs)(bM.TabsTrigger,{value:"knowledge",className:"flex items-center gap-2",children:[(0,c.jsx)(cB,{className:"w-4 h-4"}),"בסיס ידע"]}),(0,c.jsxs)(bM.TabsTrigger,{value:"style",className:"flex items-center gap-2",children:[(0,c.jsx)(cA,{className:"w-4 h-4"}),"סגנון"]}),(0,c.jsxs)(bM.TabsTrigger,{value:"assistant",className:"flex items-center gap-2",children:[(0,c.jsx)(cG,{className:"w-4 h-4"}),"עוזר אדמין"]}),(0,c.jsxs)(bM.TabsTrigger,{value:"sources",className:"flex items-center gap-2",children:[(0,c.jsx)(cI,{className:"w-4 h-4"}),"מקורות מידע"]})]}),(0,c.jsxs)(bM.TabsContent,{value:"messages",className:"space-y-6",children:[(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"הודעות פתיחה"}),(0,c.jsx)(aY.CardDescription,{children:"ההודעה הראשונה שהמשתמש יראה בצ'אט"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"הודעה פתיחה (עברית)"}),(0,c.jsx)("textarea",{value:z.welcomeMessageHe,onChange:a=>g({...f,aiChatSettings:{...z,welcomeMessageHe:a.target.value}}),placeholder:"שלום! אני העוזר החכם שלך להזמנות. איך אוכל לעזור לך היום?",className:"w-full mt-2 p-3 rounded-lg bg-background border border-input min-h-[100px] resize-none"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"הודעה פתיחה (אנגלית)"}),(0,c.jsx)("textarea",{value:z.welcomeMessage,onChange:a=>g({...f,aiChatSettings:{...z,welcomeMessage:a.target.value}}),placeholder:"Hello! I'm your AI booking assistant. How can I help you today?",className:"w-full mt-2 p-3 rounded-lg bg-background border border-input min-h-[100px] resize-none"})]})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"שאלות מוצעות"}),(0,c.jsx)(aY.CardDescription,{children:"כפתורי שאלות מהירות שיוצגו למשתמש"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(aP.Input,{value:i,onChange:a=>k(a.target.value),placeholder:"הוסף שאלה מוצעת...",onKeyDown:a=>"Enter"===a.key&&A()}),(0,c.jsx)(h.Button,{onClick:A,size:"icon",children:(0,c.jsx)(cE,{className:"w-4 h-4"})})]}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:(z.suggestedQuestions||[]).map((a,b)=>(0,c.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-secondary rounded-full text-sm",children:[(0,c.jsx)("span",{children:a}),(0,c.jsx)("button",{onClick:()=>{let a;(a=[...z.suggestedQuestions||[]]).splice(b,1),g({...f,aiChatSettings:{...z,suggestedQuestions:a}})},className:"text-muted-foreground hover:text-destructive",children:(0,c.jsx)(cF,{className:"w-3.5 h-3.5"})})]},b))})]})]})]}),(0,c.jsxs)(bM.TabsContent,{value:"instructions",className:"space-y-6",children:[(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"הנחיות מערכת"}),(0,c.jsx)(aY.CardDescription,{children:"הוראות שה-AI יקבל לפני כל שיחה - זה משפיע על ההתנהגות שלו"})]}),(0,c.jsxs)(aY.CardContent,{children:[(0,c.jsx)("textarea",{value:z.systemInstructions||"",onChange:a=>g({...f,aiChatSettings:{...z,systemInstructions:a.target.value}}),placeholder:`לדוגמה:
- אתה נציג שירות של מלון יוקרתי
- תמיד דבר בצורה מנומסת ומקצועית
- הצע תמיד את החדרים היקרים יותר קודם
- אם הלקוח מתלבט, הצע הנחה של 10%
- אל תדבר על מתחרים`,className:"w-full p-4 rounded-lg bg-background border border-input min-h-[250px] resize-none font-mono text-sm"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"טיפ: ככל שההנחיות יותר ספציפיות, ה-AI יפעל בצורה עקבית יותר"})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"הגבלות ואיסורים"}),(0,c.jsx)(aY.CardDescription,{children:"נושאים שה-AI לא ידבר עליהם"})]}),(0,c.jsx)(aY.CardContent,{children:(0,c.jsx)("textarea",{value:z.restrictions||"",onChange:a=>g({...f,aiChatSettings:{...z,restrictions:a.target.value}}),placeholder:`לדוגמה:
- אל תדבר על מלונות מתחרים
- אל תיתן הנחות מעל 15%
- אל תשתף מידע פנימי על המלון
- אם שואלים על תלונות, הפנה למנהל`,className:"w-full p-4 rounded-lg bg-background border border-input min-h-[150px] resize-none font-mono text-sm"})})]})]}),(0,c.jsx)(bM.TabsContent,{value:"knowledge",className:"space-y-6",children:(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"בסיס ידע"}),(0,c.jsx)(aY.CardDescription,{children:"מידע שה-AI ישתמש בו כדי לענות על שאלות"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid gap-4 p-4 border border-dashed rounded-lg",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"כותרת הנושא"}),(0,c.jsx)(aP.Input,{value:l.title,onChange:a=>m({...l,title:a.target.value}),placeholder:"לדוגמה: שעות פעילות, מתקנים, מדיניות ביטולים...",className:"mt-2"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"תוכן"}),(0,c.jsx)("textarea",{value:l.content,onChange:a=>m({...l,content:a.target.value}),placeholder:"הכנס את המידע המפורט כאן...",className:"w-full mt-2 p-3 rounded-lg bg-background border border-input min-h-[100px] resize-none"})]}),(0,c.jsxs)(h.Button,{onClick:()=>{if(l.title.trim()&&l.content.trim()){let a=[...z.knowledgeBase||[],l];g({...f,aiChatSettings:{...z,knowledgeBase:a}}),m({title:"",content:""})}},className:"w-fit",children:[(0,c.jsx)(cE,{className:"w-4 h-4 mr-2"}),"הוסף לבסיס הידע"]})]}),(0,c.jsx)("div",{className:"space-y-3",children:(z.knowledgeBase||[]).map((a,b)=>(0,c.jsx)(aY.Card,{className:"bg-secondary/30",children:(0,c.jsx)(aY.CardContent,{className:"p-4",children:(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("h4",{className:"font-medium",children:a.title}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:a.content})]}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{let a;(a=[...z.knowledgeBase||[]]).splice(b,1),g({...f,aiChatSettings:{...z,knowledgeBase:a}})},className:"text-muted-foreground hover:text-destructive",children:(0,c.jsx)(cF,{className:"w-4 h-4"})})]})})},b))})]})]})}),(0,c.jsx)(bM.TabsContent,{value:"style",className:"space-y-6",children:(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"סגנון ואישיות"}),(0,c.jsx)(aY.CardDescription,{children:"הגדר את הטון והאופי של ה-AI"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"אישיות הבוט"}),(0,c.jsxs)(a7.Select,{value:z.personality||"professional",onValueChange:a=>g({...f,aiChatSettings:{...z,personality:a}}),children:[(0,c.jsx)(a7.SelectTrigger,{className:"mt-2",children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"professional",children:"מקצועי ורשמי"}),(0,c.jsx)(a7.SelectItem,{value:"friendly",children:"ידידותי וחם"}),(0,c.jsx)(a7.SelectItem,{value:"luxury",children:"יוקרתי ומפנק"})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"שפת ברירת מחדל"}),(0,c.jsxs)(a7.Select,{value:z.language||"he",onValueChange:a=>g({...f,aiChatSettings:{...z,language:a}}),children:[(0,c.jsx)(a7.SelectTrigger,{className:"mt-2",children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"he",children:"עברית"}),(0,c.jsx)(a7.SelectItem,{value:"en",children:"English"}),(0,c.jsx)(a7.SelectItem,{value:"both",children:"זיהוי אוטומטי"})]})]})]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-secondary/30 rounded-lg",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"שימוש באימוג'ים"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"ה-AI ישתמש באימוג'ים בהודעות"})]}),(0,c.jsx)(cb.Switch,{checked:z.useEmojis||!1,onCheckedChange:a=>g({...f,aiChatSettings:{...z,useEmojis:a}})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-secondary/30 rounded-lg",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"הצעת אפסלים"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"ה-AI יציע שדרוגים ותוספות"})]}),(0,c.jsx)(cb.Switch,{checked:z.suggestUpsells||!0,onCheckedChange:a=>g({...f,aiChatSettings:{...z,suggestUpsells:a}})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-secondary/30 rounded-lg",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"איסוף פרטי קשר"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"ה-AI יבקש אימייל וטלפון"})]}),(0,c.jsx)(cb.Switch,{checked:z.collectContactInfo||!0,onCheckedChange:a=>g({...f,aiChatSettings:{...z,collectContactInfo:a}})})]})]})]})]})}),(0,c.jsx)(bM.TabsContent,{value:"assistant",className:"space-y-6",children:(0,c.jsxs)(aY.Card,{className:"border-purple-500/30 bg-purple-500/5",children:[(0,c.jsx)(aY.CardHeader,{children:(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"p-2 rounded-xl bg-purple-500/20",children:(0,c.jsx)(cG,{className:"w-6 h-6 text-purple-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{children:"עוזר AI לאדמין"}),(0,c.jsx)(aY.CardDescription,{children:"עוזר חכם לניהול סוכן ההזמנות - עיצוב prompts, ניתוח שיחות, ושיפור ביצועים"})]})]})}),(0,c.jsxs)(aY.CardContent,{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,c.jsxs)(h.Button,{variant:"outline",className:"h-auto py-3 flex flex-col gap-1 bg-transparent",onClick:()=>o("עזור לי לשפר את ה-prompt של הסוכן"),children:[(0,c.jsx)(cI,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"text-xs",children:"שפר Prompt"})]}),(0,c.jsxs)(h.Button,{variant:"outline",className:"h-auto py-3 flex flex-col gap-1 bg-transparent",onClick:()=>o("הצע בסיס ידע למלון בוטיק"),children:[(0,c.jsx)(cB,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"text-xs",children:"בנה בסיס ידע"})]}),(0,c.jsxs)(h.Button,{variant:"outline",className:"h-auto py-3 flex flex-col gap-1 bg-transparent",onClick:()=>o("תן לי רשימת מקרי קצה לבדיקה"),children:[(0,c.jsx)(cD,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"text-xs",children:"מקרי בדיקה"})]}),(0,c.jsxs)(h.Button,{variant:"outline",className:"h-auto py-3 flex flex-col gap-1 bg-transparent",onClick:()=>o("איך להגדיל המרות בצ'אט?"),children:[(0,c.jsx)(cH,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"text-xs",children:"טיפים להמרות"})]})]}),(0,c.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,c.jsxs)("div",{className:"h-[300px] overflow-y-auto p-4 space-y-4 bg-background/50",children:[0===p.length?(0,c.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground text-sm",children:(0,c.jsxs)("div",{className:"text-center space-y-2",children:[(0,c.jsx)(cG,{className:"w-10 h-10 mx-auto opacity-50"}),(0,c.jsx)("p",{children:"שאל אותי כל שאלה על ניהול סוכן ההזמנות"}),(0,c.jsx)("p",{className:"text-xs",children:"עיצוב prompts, ניתוח שיחות, אופטימיזציה ועוד"})]})}):p.map((a,b)=>(0,c.jsx)("div",{className:`flex ${"user"===a.role?"justify-start":"justify-end"}`,children:(0,c.jsx)("div",{className:`max-w-[80%] p-3 rounded-2xl text-sm whitespace-pre-wrap ${"user"===a.role?"bg-blue-500/20 text-blue-100 rounded-bl-md":"bg-purple-500/20 text-purple-100 rounded-br-md"}`,children:a.content})},b)),r&&(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-2xl rounded-br-md",children:(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),(0,c.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce [animation-delay:0.1s]"}),(0,c.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce [animation-delay:0.2s]"})]})})})]}),(0,c.jsxs)("div",{className:"p-3 border-t bg-background/80 flex gap-2",children:[(0,c.jsx)(aP.Input,{value:n,onChange:a=>o(a.target.value),placeholder:"שאל את העוזר...",onKeyDown:a=>"Enter"===a.key&&!a.shiftKey&&B(),disabled:r}),(0,c.jsx)(h.Button,{onClick:B,disabled:r||!n.trim(),children:"שלח"})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,c.jsx)(cH,{className:"w-5 h-5"}),"ניתוח שיחות מקצועי"]}),(0,c.jsx)(aY.CardDescription,{children:"הדבק שיחה מהצ'אט לניתוח מעמיק - בעיות, שיפורים, והמלצות להגדלת המרות"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsx)("textarea",{value:t,onChange:a=>u(a.target.value),placeholder:`הדבק כאן שיחה מהצ'אט לניתוח...

לדוגמה:
אורח: היי, אני מחפש חדר לשניים בדובאי
AI: שלום! אשמח לעזור. לאילו תאריכים?
אורח: 15-17 בינואר
...`,className:"w-full p-3 rounded-lg bg-background border border-input min-h-[150px] resize-none text-sm font-mono"}),(0,c.jsx)(h.Button,{onClick:C,disabled:x||!t.trim(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:x?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"מנתח..."]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(cG,{className:"w-4 h-4 mr-2"}),"נתח שיחה"]})}),v&&(0,c.jsxs)("div",{className:"mt-4 p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20",children:[(0,c.jsxs)("h4",{className:"font-semibold text-purple-300 mb-3 flex items-center gap-2",children:[(0,c.jsx)(cG,{className:"w-5 h-5"}),"תוצאות הניתוח"]}),(0,c.jsx)("div",{className:"prose prose-invert prose-sm max-w-none whitespace-pre-wrap text-sm leading-relaxed",children:v}),(0,c.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,c.jsx)(h.Button,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(v),children:"העתק תוצאות"}),(0,c.jsx)(h.Button,{variant:"outline",size:"sm",onClick:()=>{w(""),u("")},children:"ניתוח חדש"})]})]})]})]})]})]})}),(0,c.jsx)(bM.TabsContent,{value:"sources",className:"space-y-6",children:(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"מקורות מידע חיצוניים"}),(0,c.jsx)(aY.CardDescription,{children:"הגדר לינקים ומקורות מידע שה-AI ישתמש בהם להשלמת מידע על מלונות"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid gap-4 p-4 border border-dashed rounded-lg",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"שם המקור"}),(0,c.jsx)(aP.Input,{placeholder:"לדוגמה: Booking.com, TripAdvisor...",className:"mt-2"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"כתובת URL"}),(0,c.jsx)(aP.Input,{placeholder:"https://...",className:"mt-2"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(bK.Label,{children:"סוג המידע"}),(0,c.jsxs)("select",{className:"w-full mt-2 p-2 rounded-lg bg-background border border-input",children:[(0,c.jsx)("option",{value:"reviews",children:"ביקורות"}),(0,c.jsx)("option",{value:"images",children:"תמונות"}),(0,c.jsx)("option",{value:"amenities",children:"מתקנים"}),(0,c.jsx)("option",{value:"prices",children:"מחירים"}),(0,c.jsx)("option",{value:"all",children:"הכל"})]})]}),(0,c.jsxs)(h.Button,{className:"w-fit",children:[(0,c.jsx)(cE,{className:"w-4 h-4 mr-2"}),"הוסף מקור"]})]}),(0,c.jsx)("div",{className:"space-y-3",children:(0,c.jsx)(aY.Card,{className:"bg-secondary/30",children:(0,c.jsx)(aY.CardContent,{className:"p-4",children:(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400",children:"AI"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-medium",children:"AI Hotel Info Agent"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"מביא מידע אוטומטי על מלונות מהאינטרנט"})]})]})}),(0,c.jsx)(j.Badge,{variant:"secondary",className:"bg-green-500/20 text-green-400",children:"פעיל"})]})})})}),(0,c.jsx)("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:(0,c.jsxs)("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:[(0,c.jsx)("strong",{children:"טיפ:"})," הוסף לינקים לעמודי המלונות שלך באתרים חיצוניים כדי שה-AI יוכל להביא מידע מדויק יותר."]})})]})]})})]}),(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)(h.Button,{onClick:()=>{f&&(b(f),alert("ההגדרות נשמרו בהצלחה!"))},size:"lg",className:"px-8",children:"שמור שינויים"})})]})}let cK=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,c.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),cL=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,c.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),cM=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,c.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),cN=({className:a,filled:b})=>(0,c.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:b?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),cO=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("circle",{cx:"9",cy:"5",r:"1"}),(0,c.jsx)("circle",{cx:"15",cy:"5",r:"1"}),(0,c.jsx)("circle",{cx:"9",cy:"12",r:"1"}),(0,c.jsx)("circle",{cx:"15",cy:"12",r:"1"}),(0,c.jsx)("circle",{cx:"9",cy:"19",r:"1"}),(0,c.jsx)("circle",{cx:"15",cy:"19",r:"1"})]}),cP=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,c.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,c.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),cQ=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,c.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),cR=[{id:"booking-agent",name:"סוכן הזמנות",description:"מומחה להזמנות מלונות ברחבי העולם",avatar:"/professional-booking-agent.jpg",specialty:"הזמנות מלונות",online:!0,rating:4.9,reviewCount:1250,languages:["עברית","English","العربية"],welcomeMessage:"שלום! אני סוכן ההזמנות שלך. איך אוכל לעזור לך למצוא את המלון המושלם?",suggestedQuestions:["חפש מלון בדובאי","מה הזמינות לסוף השבוע?","כמה עולה חדר זוגי?"],order:1},{id:"dubai-expert",name:"מיסטר עזיז",description:"מומחה למלונות יוקרה בדובאי ואיחוד האמירויות",avatar:"/dubai-hotel-expert-man.jpg",specialty:"דובאי",online:!0,rating:4.8,reviewCount:890,languages:["العربية","English","עברית"],welcomeMessage:"مرحبا! אני עזיז, מומחה למלונות היוקרה הטובים ביותר בדובאי. מה אתם מחפשים?",suggestedQuestions:["מלונות ליד הבורג' חליפה","חופשה משפחתית בדובאי","מלון עם נוף לים"],order:2},{id:"europe-expert",name:"סופיה",description:"מומחית לחופשות רומנטיות באירופה",avatar:"/european-travel-expert-woman.jpg",specialty:"אירופה",online:!1,rating:4.7,reviewCount:620,languages:["English","Français","עברית"],welcomeMessage:"Bonjour! אני סופיה, ואני אעזור לך לתכנן את החופשה הרומנטית המושלמת באירופה.",suggestedQuestions:["מלון רומנטי בפריז","סוף שבוע ברומא","מלון בוטיק בברצלונה"],order:3}],cS=["הזמנות מלונות","דובאי","אירופה","אסיה","ארה״ב","ישראל","יוקרה","תקציב נמוך","משפחות","עסקים","ספא ונופש","חופשות חוף"],cT=["עברית","English","العربية","Français","Deutsch","Español","Italiano","Русский","中文","日本語"];function cU(){let[a,b]=(0,d.useState)(cR),[e,f]=(0,d.useState)(null),[k,l]=(0,d.useState)(!1),[m,n]=(0,d.useState)("list"),o=()=>{f({id:`agent-${Date.now()}`,name:"",description:"",avatar:"",specialty:"",online:!0,rating:5,reviewCount:0,languages:["עברית"],welcomeMessage:"",suggestedQuestions:[],order:a.length+1}),l(!0)};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"ניהול סוכנים"}),(0,c.jsx)("p",{className:"text-muted-foreground",children:"צור ונהל סוכני AI בעלי התמחויות שונות"})]}),(0,c.jsxs)(h.Button,{onClick:o,className:"bg-gradient-to-r from-emerald-600 to-cyan-600",children:[(0,c.jsx)(cK,{className:"w-4 h-4 ml-2"}),"סוכן חדש"]})]}),(0,c.jsxs)(bM.Tabs,{value:m,onValueChange:n,children:[(0,c.jsxs)(bM.TabsList,{className:"bg-muted/50",children:[(0,c.jsx)(bM.TabsTrigger,{value:"list",children:"רשימת סוכנים"}),(0,c.jsx)(bM.TabsTrigger,{value:"settings",children:"הגדרות כלליות"}),(0,c.jsx)(bM.TabsTrigger,{value:"analytics",children:"סטטיסטיקות"})]}),(0,c.jsxs)(bM.TabsContent,{value:"list",className:"mt-6",children:[(0,c.jsx)("div",{className:"grid gap-4",children:a.sort((a,b)=>a.order-b.order).map(d=>(0,c.jsx)(aY.Card,{className:(0,g.cn)("border transition-all duration-200 hover:shadow-lg",d.online?"border-emerald-500/30 bg-emerald-500/5":"border-border bg-muted/20 opacity-60"),children:(0,c.jsx)(aY.CardContent,{className:"p-4",children:(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:"cursor-grab text-muted-foreground hover:text-foreground",children:(0,c.jsx)(cO,{className:"w-5 h-5"})}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)(i.Avatar,{className:"h-16 w-16 ring-2 ring-offset-2 ring-offset-background ring-emerald-500/50",children:[(0,c.jsx)(i.AvatarImage,{src:d.avatar||"/placeholder.svg",alt:d.name}),(0,c.jsx)(i.AvatarFallback,{className:"bg-gradient-to-br from-emerald-500 to-cyan-500 text-white text-xl",children:d.name.charAt(0)})]}),(0,c.jsx)("div",{className:(0,g.cn)("absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-background",d.online?"bg-emerald-500":"bg-muted-foreground")})]}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:d.name}),(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:d.specialty})]}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:d.description}),(0,c.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)(cN,{className:"w-4 h-4 text-yellow-500",filled:!0}),(0,c.jsx)("span",{className:"text-sm font-medium",children:d.rating}),(0,c.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",d.reviewCount," ביקורות)"]})]}),(0,c.jsxs)("div",{className:"flex gap-1",children:[d.languages.slice(0,3).map(a=>(0,c.jsx)(j.Badge,{variant:"secondary",className:"text-xs",children:a},a)),d.languages.length>3&&(0,c.jsxs)(j.Badge,{variant:"secondary",className:"text-xs",children:["+",d.languages.length-3]})]})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,c.jsx)(bK.Label,{htmlFor:`online-${d.id}`,className:"text-sm text-muted-foreground",children:d.online?"מקוון":"לא מקוון"}),(0,c.jsx)(cb.Switch,{id:`online-${d.id}`,checked:d.online,onCheckedChange:()=>{var a;return a=d.id,void b(b=>b.map(b=>b.id===a?{...b,online:!b.online}:b))}})]}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{let c;return c={...d,id:`agent-${Date.now()}`,name:`${d.name} (עותק)`,order:a.length+1},void b(a=>[...a,c])},className:"text-muted-foreground hover:text-foreground",children:(0,c.jsx)(cQ,{className:"w-4 h-4"})}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{f({...d}),l(!0)},className:"text-muted-foreground hover:text-foreground",children:(0,c.jsx)(cL,{className:"w-4 h-4"})}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{var a;return a=d.id,void(confirm("האם אתה בטוח שברצונך למחוק סוכן זה?")&&b(b=>b.filter(b=>b.id!==a)))},className:"text-muted-foreground hover:text-red-500",children:(0,c.jsx)(cM,{className:"w-4 h-4"})})]})]})})},d.id))}),0===a.length&&(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:(0,c.jsx)(cK,{className:"w-8 h-8 text-muted-foreground"})}),(0,c.jsx)("h3",{className:"text-lg font-medium mb-2",children:"אין סוכנים עדיין"}),(0,c.jsx)("p",{className:"text-muted-foreground mb-4",children:"צור את הסוכן הראשון שלך"}),(0,c.jsxs)(h.Button,{onClick:o,children:[(0,c.jsx)(cK,{className:"w-4 h-4 ml-2"}),"צור סוכן"]})]})]}),(0,c.jsx)(bM.TabsContent,{value:"settings",className:"mt-6",children:(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"הגדרות כלליות לסוכנים"}),(0,c.jsx)(aY.CardDescription,{children:"הגדרות שמשפיעות על כל הסוכנים"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"סוכן ברירת מחדל"}),(0,c.jsxs)(a7.Select,{defaultValue:"booking-agent",children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{placeholder:"בחר סוכן"})}),(0,c.jsx)(a7.SelectContent,{children:a.map(a=>(0,c.jsx)(a7.SelectItem,{value:a.id,children:a.name},a.id))})]}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"סוכן זה ייבחר אוטומטית כשמשתמש נכנס לצ'אט"})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsx)(bK.Label,{children:"הצג רשימת סוכנים"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"אפשר למשתמשים לבחור סוכן אחר"})]}),(0,c.jsx)(cb.Switch,{defaultChecked:!0})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsx)(bK.Label,{children:"הצג דירוגים"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"הצג דירוג וביקורות של סוכנים"})]}),(0,c.jsx)(cb.Switch,{defaultChecked:!0})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsx)(bK.Label,{children:"סינון לפי התמחות"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"אפשר למשתמשים לסנן סוכנים לפי התמחות"})]}),(0,c.jsx)(cb.Switch,{})]})]})]})}),(0,c.jsx)(bM.TabsContent,{value:"analytics",className:"mt-6",children:(0,c.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(a=>(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{className:"pb-2",children:(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsxs)(i.Avatar,{className:"h-10 w-10",children:[(0,c.jsx)(i.AvatarImage,{src:a.avatar||"/placeholder.svg"}),(0,c.jsx)(i.AvatarFallback,{children:a.name.charAt(0)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{className:"text-base",children:a.name}),(0,c.jsx)(aY.CardDescription,{children:a.specialty})]})]})}),(0,c.jsx)(aY.CardContent,{children:(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,c.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,c.jsx)("div",{className:"text-2xl font-bold text-emerald-500",children:"156"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"שיחות החודש"})]}),(0,c.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,c.jsx)("div",{className:"text-2xl font-bold text-cyan-500",children:"72%"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"אחוז המרה"})]}),(0,c.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,c.jsx)("div",{className:"text-2xl font-bold",children:a.rating}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"דירוג ממוצע"})]}),(0,c.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,c.jsx)("div",{className:"text-2xl font-bold",children:"2.5m"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"זמן תגובה"})]})]})})]},a.id))})})]}),(0,c.jsx)(a8.Dialog,{open:k,onOpenChange:l,children:(0,c.jsxs)(a8.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,c.jsxs)(a8.DialogHeader,{children:[(0,c.jsx)(a8.DialogTitle,{children:e?.name?`עריכת סוכן: ${e.name}`:"יצירת סוכן חדש"}),(0,c.jsx)(a8.DialogDescription,{children:"הגדר את פרטי הסוכן, התמחות והתנהגות"})]}),e&&(0,c.jsxs)(bM.Tabs,{defaultValue:"basic",className:"mt-4",children:[(0,c.jsxs)(bM.TabsList,{className:"grid w-full grid-cols-3",children:[(0,c.jsx)(bM.TabsTrigger,{value:"basic",children:"פרטים בסיסיים"}),(0,c.jsx)(bM.TabsTrigger,{value:"behavior",children:"התנהגות"}),(0,c.jsx)(bM.TabsTrigger,{value:"knowledge",children:"ידע"})]}),(0,c.jsxs)(bM.TabsContent,{value:"basic",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"flex gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"תמונה"}),(0,c.jsxs)("div",{className:"relative group",children:[(0,c.jsxs)(i.Avatar,{className:"h-24 w-24 ring-2 ring-offset-2 ring-offset-background ring-muted",children:[(0,c.jsx)(i.AvatarImage,{src:e.avatar||"/placeholder.svg"}),(0,c.jsx)(i.AvatarFallback,{className:"bg-muted text-2xl",children:e.name?.charAt(0)||"?"})]}),(0,c.jsx)("div",{className:"absolute inset-0 bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",children:(0,c.jsx)(cP,{className:"w-6 h-6 text-white"})})]})]}),(0,c.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"name",children:"שם הסוכן"}),(0,c.jsx)(aP.Input,{id:"name",value:e.name,onChange:a=>f({...e,name:a.target.value}),placeholder:"לדוגמה: מיסטר עזיז"})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"description",children:"תיאור"}),(0,c.jsx)(aP.Input,{id:"description",value:e.description,onChange:a=>f({...e,description:a.target.value}),placeholder:"מומחה למלונות יוקרה בדובאי"})]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"התמחות"}),(0,c.jsxs)(a7.Select,{value:e.specialty,onValueChange:a=>f({...e,specialty:a}),children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{placeholder:"בחר התמחות"})}),(0,c.jsx)(a7.SelectContent,{children:cS.map(a=>(0,c.jsx)(a7.SelectItem,{value:a,children:a},a))})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"דירוג (1-5)"}),(0,c.jsx)(aP.Input,{type:"number",min:"1",max:"5",step:"0.1",value:e.rating,onChange:a=>f({...e,rating:Number.parseFloat(a.target.value)||5})})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"שפות"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:cT.map(a=>(0,c.jsx)(j.Badge,{variant:e.languages.includes(a)?"default":"outline",className:"cursor-pointer",onClick:()=>{let b=e.languages.includes(a)?e.languages.filter(b=>b!==a):[...e.languages,a];f({...e,languages:b})},children:a},a))})]})]}),(0,c.jsxs)(bM.TabsContent,{value:"behavior",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"welcomeMessage",children:"הודעת פתיחה"}),(0,c.jsx)(bL.Textarea,{id:"welcomeMessage",value:e.welcomeMessage||"",onChange:a=>f({...e,welcomeMessage:a.target.value}),placeholder:"שלום! אני סוכן ההזמנות שלך. איך אוכל לעזור?",rows:3})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"שאלות מוצעות"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(e.suggestedQuestions||[]).map((a,b)=>(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(aP.Input,{value:a,onChange:a=>{let c=[...e.suggestedQuestions||[]];c[b]=a.target.value,f({...e,suggestedQuestions:c})},placeholder:`שאלה ${b+1}`}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{let a=(e.suggestedQuestions||[]).filter((a,c)=>c!==b);f({...e,suggestedQuestions:a})},children:(0,c.jsx)(cM,{className:"w-4 h-4"})})]},b)),(0,c.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>{let a=[...e.suggestedQuestions||[],""];f({...e,suggestedQuestions:a})},children:[(0,c.jsx)(cK,{className:"w-4 h-4 ml-2"}),"הוסף שאלה"]})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"systemPrompt",children:"System Prompt"}),(0,c.jsx)(bL.Textarea,{id:"systemPrompt",value:e.systemPrompt||"",onChange:a=>f({...e,systemPrompt:a.target.value}),placeholder:"אתה סוכן הזמנות מלונות מקצועי...",rows:6,className:"font-mono text-sm"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"הנחיות ספציפיות לסוכן זה. ישלב עם ה-prompt הכללי של המערכת."})]})]}),(0,c.jsxs)(bM.TabsContent,{value:"knowledge",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{htmlFor:"knowledgeBase",children:"בסיס ידע"}),(0,c.jsx)(bL.Textarea,{id:"knowledgeBase",value:e.knowledgeBase||"",onChange:a=>f({...e,knowledgeBase:a.target.value}),placeholder:"מידע ספציפי שהסוכן צריך לדעת...",rows:8}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"מידע ייחודי לסוכן זה - מלונות מומלצים, טיפים, מידע על יעדים וכו'"})]}),(0,c.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,c.jsx)("h4",{className:"font-medium mb-2",children:"מקורות מידע חיצוניים"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"הוסף לינקים לאתרים שהסוכן יוכל לחפש בהם מידע נוסף"}),(0,c.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,c.jsx)(cK,{className:"w-4 h-4 ml-2"}),"הוסף מקור מידע"]})]})]})]}),(0,c.jsxs)(a8.DialogFooter,{className:"mt-6",children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:()=>l(!1),children:"ביטול"}),(0,c.jsx)(h.Button,{onClick:()=>{e&&(b(a=>a.find(a=>a.id===e.id)?a.map(a=>a.id===e.id?e:a):[...a,e]),l(!1),f(null))},className:"bg-gradient-to-r from-emerald-600 to-cyan-600",children:"שמור סוכן"})]})]})})]})}var cV=a.i(915618),cW=a.i(699464),cX=a.i(781560),cY=a.i(170106);let cZ=(0,cY.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var c$=a.i(550778),c_=a.i(660246),c0=a.i(939102);let c1=(0,cY.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),c2=(0,cY.default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),c3=(0,cY.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var c4=a.i(633508);let c5=[{id:"standard",name:"Standard Room",nameHe:"חדר סטנדרט",category:"standard",description:"Comfortable room with all essential amenities",descriptionHe:"חדר נוח עם כל המתקנים הבסיסיים",images:["/standard-hotel-room.png"],size:25,maxOccupancy:2,bedType:"double",view:"city",amenities:["wifi","ac","tv","safe"],isActive:!0,sortOrder:1},{id:"superior",name:"Superior Room",nameHe:"חדר סופיריור",category:"superior",description:"Spacious room with premium amenities and views",descriptionHe:"חדר מרווח עם מתקנים יוקרתיים ונוף",images:["/superior-hotel-room-sea-view.jpg"],size:32,maxOccupancy:2,bedType:"king",view:"sea",amenities:["wifi","ac","tv","safe","minibar","balcony"],isActive:!0,sortOrder:2},{id:"deluxe",name:"Deluxe Room",nameHe:"חדר דה-לוקס",category:"deluxe",description:"Luxurious room with premium furnishings",descriptionHe:"חדר יוקרתי עם ריהוט פרימיום",images:["/deluxe-luxury-hotel-room.jpg"],size:40,maxOccupancy:3,bedType:"king",view:"sea",amenities:["wifi","ac","tv","safe","minibar","balcony","bathtub","espresso"],isActive:!0,sortOrder:3},{id:"suite",name:"Suite",nameHe:"סוויטה",category:"suite",description:"Elegant suite with separate living area",descriptionHe:"סוויטה אלגנטית עם סלון נפרד",images:["/luxury-hotel-suite-living-room.jpg"],size:55,maxOccupancy:4,bedType:"king",view:"panoramic",amenities:["wifi","ac","tv","safe","minibar","balcony","bathtub","espresso","living-room","dining"],isActive:!0,sortOrder:4},{id:"family",name:"Family Room",nameHe:"חדר משפחה",category:"family",description:"Spacious room perfect for families",descriptionHe:"חדר מרווח מושלם למשפחות",images:["/family-hotel-room-two-beds.jpg"],size:45,maxOccupancy:5,bedType:"twin+sofa",view:"garden",amenities:["wifi","ac","tv","safe","minibar","connecting-rooms"],isActive:!0,sortOrder:5}],c6=[{id:"wifi",label:"WiFi",icon:"📶"},{id:"ac",label:"מיזוג אוויר",icon:"❄️"},{id:"tv",label:"טלוויזיה",icon:"📺"},{id:"safe",label:"כספת",icon:"🔐"},{id:"minibar",label:"מיני בר",icon:"🍷"},{id:"balcony",label:"מרפסת",icon:"🌅"},{id:"bathtub",label:"אמבטיה",icon:"🛁"},{id:"espresso",label:"מכונת קפה",icon:"☕"},{id:"living-room",label:"סלון",icon:"🛋️"},{id:"dining",label:"פינת אוכל",icon:"🍽️"},{id:"connecting-rooms",label:"חדרים מחוברים",icon:"🚪"},{id:"kitchen",label:"מטבחון",icon:"🍳"}],c7=[{id:"single",label:"מיטה יחיד"},{id:"double",label:"מיטה זוגית"},{id:"twin",label:"שתי מיטות"},{id:"king",label:"מיטת קינג"},{id:"queen",label:"מיטת קווין"},{id:"twin+sofa",label:"שתי מיטות + ספה"}],c8=[{id:"city",label:"נוף לעיר"},{id:"sea",label:"נוף לים"},{id:"garden",label:"נוף לגן"},{id:"pool",label:"נוף לבריכה"},{id:"mountain",label:"נוף להרים"},{id:"panoramic",label:"נוף פנורמי"}];function c9(){let[a,b]=(0,d.useState)(c5),[e,f]=(0,d.useState)(null),[g,i]=(0,d.useState)(!1);return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-2xl font-bold",children:"ניהול סוגי חדרים"}),(0,c.jsx)("p",{className:"text-muted-foreground",children:"הגדר תמונות, תיאורים ומתקנים לכל סוג חדר"})]}),(0,c.jsxs)(a8.Dialog,{open:g,onOpenChange:i,children:[(0,c.jsx)(a8.DialogTrigger,{asChild:!0,children:(0,c.jsxs)(h.Button,{onClick:()=>f(null),className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[(0,c.jsx)(cV.Plus,{className:"h-4 w-4 ml-2"}),"הוסף סוג חדר"]})}),(0,c.jsxs)(a8.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,c.jsx)(a8.DialogHeader,{children:(0,c.jsx)(a8.DialogTitle,{children:e?"עריכת סוג חדר":"הוספת סוג חדר חדש"})}),(0,c.jsx)(da,{room:e,onSave:c=>{e?b(a.map(a=>a.id===c.id?c:a)):b([...a,{...c,id:`room-${Date.now()}`,sortOrder:a.length+1}]),f(null),i(!1)},onCancel:()=>i(!1)})]})]})]}),(0,c.jsx)("div",{className:"grid gap-4",children:a.map((d,e)=>(0,c.jsx)(aY.Card,{className:`overflow-hidden transition-all ${!d.isActive?"opacity-50":""}`,children:(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsxs)("div",{className:"w-64 h-48 relative bg-muted flex-shrink-0",children:[d.images[0]?(0,c.jsx)("img",{src:d.images[0]||"/placeholder.svg",alt:d.nameHe,className:"w-full h-full object-cover"}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,c.jsx)(cZ,{className:"h-12 w-12 text-muted-foreground"})}),(0,c.jsxs)("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-sm",children:[d.images.length," תמונות"]}),(0,c.jsx)("div",{className:"absolute top-2 left-2 cursor-grab",children:(0,c.jsx)(c2,{className:"h-5 w-5 text-white drop-shadow-lg"})})]}),(0,c.jsxs)("div",{className:"flex-1 p-4",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-semibold",children:d.nameHe}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:d.name})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(cb.Switch,{checked:d.isActive,onCheckedChange:()=>{var c;return c=d.id,void b(a.map(a=>a.id===c?{...a,isActive:!a.isActive}:a))}}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{f(d),i(!0)},children:(0,c.jsx)(cW.Pencil,{className:"h-4 w-4"})}),(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{var c;return c=d.id,void b(a.filter(a=>a.id!==c))},children:(0,c.jsx)(cX.Trash2,{className:"h-4 w-4 text-destructive"})})]})]}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:d.descriptionHe}),(0,c.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)(c0.Maximize,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("span",{children:[d.size,' מ"ר']})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)(c_.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("span",{children:["עד ",d.maxOccupancy," אורחים"]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)(c$.Bed,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsx)("span",{children:c7.find(a=>a.id===d.bedType)?.label})]}),(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)(c1,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsx)("span",{children:c8.find(a=>a.id===d.view)?.label})]})]}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[d.amenities.slice(0,6).map(a=>{let b=c6.find(b=>b.id===a);return b?(0,c.jsxs)("span",{className:"text-xs bg-muted px-2 py-1 rounded-full",children:[b.icon," ",b.label]},a):null}),d.amenities.length>6&&(0,c.jsxs)("span",{className:"text-xs bg-muted px-2 py-1 rounded-full",children:["+",d.amenities.length-6]})]})]})]})},d.id))})]})}function da({room:a,onSave:b,onCancel:e}){let[f,g]=(0,d.useState)(a||{id:"",name:"",nameHe:"",category:"standard",description:"",descriptionHe:"",images:[],size:25,maxOccupancy:2,bedType:"double",view:"city",amenities:[],isActive:!0,sortOrder:0});return(0,c.jsxs)(bM.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,c.jsxs)(bM.TabsList,{className:"grid w-full grid-cols-3",children:[(0,c.jsx)(bM.TabsTrigger,{value:"basic",children:"פרטים בסיסיים"}),(0,c.jsx)(bM.TabsTrigger,{value:"images",children:"תמונות"}),(0,c.jsx)(bM.TabsTrigger,{value:"amenities",children:"מתקנים"})]}),(0,c.jsxs)(bM.TabsContent,{value:"basic",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"שם בעברית"}),(0,c.jsx)(aP.Input,{value:f.nameHe,onChange:a=>g({...f,nameHe:a.target.value}),placeholder:"חדר משפחה",dir:"rtl"})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"שם באנגלית"}),(0,c.jsx)(aP.Input,{value:f.name,onChange:a=>g({...f,name:a.target.value}),placeholder:"Family Room"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"תיאור בעברית"}),(0,c.jsx)(bL.Textarea,{value:f.descriptionHe,onChange:a=>g({...f,descriptionHe:a.target.value}),placeholder:"חדר מרווח מושלם למשפחות...",dir:"rtl",rows:3})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"תיאור באנגלית"}),(0,c.jsx)(bL.Textarea,{value:f.description,onChange:a=>g({...f,description:a.target.value}),placeholder:"Spacious room perfect for families...",rows:3})]}),(0,c.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:'גודל (מ"ר)'}),(0,c.jsx)(aP.Input,{type:"number",value:f.size,onChange:a=>g({...f,size:Number(a.target.value)})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"תפוסה מקסימלית"}),(0,c.jsx)(aP.Input,{type:"number",value:f.maxOccupancy,onChange:a=>g({...f,maxOccupancy:Number(a.target.value)})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"סוג מיטה"}),(0,c.jsxs)(a7.Select,{value:f.bedType,onValueChange:a=>g({...f,bedType:a}),children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsx)(a7.SelectContent,{children:c7.map(a=>(0,c.jsx)(a7.SelectItem,{value:a.id,children:a.label},a.id))})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(bK.Label,{children:"נוף"}),(0,c.jsxs)(a7.Select,{value:f.view,onValueChange:a=>g({...f,view:a}),children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{})}),(0,c.jsx)(a7.SelectContent,{children:c8.map(a=>(0,c.jsx)(a7.SelectItem,{value:a.id,children:a.label},a.id))})]})]})]})]}),(0,c.jsxs)(bM.TabsContent,{value:"images",className:"space-y-4 mt-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[f.images.map((a,b)=>(0,c.jsxs)("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden group",children:[(0,c.jsx)("img",{src:a||"/placeholder.svg",alt:`תמונה ${b+1}`,className:"w-full h-full object-cover"}),(0,c.jsx)("button",{onClick:()=>{g({...f,images:f.images.filter((a,c)=>c!==b)})},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,c.jsx)(c4.X,{className:"h-4 w-4"})}),0===b&&(0,c.jsx)("div",{className:"absolute bottom-2 left-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded",children:"תמונה ראשית"})]},b)),(0,c.jsxs)("button",{onClick:()=>{let a=`/placeholder.svg?height=400&width=600&query=${f.nameHe||"hotel room"}`;g({...f,images:[...f.images,a]})},className:"aspect-video bg-muted rounded-lg border-2 border-dashed border-muted-foreground/25 flex flex-col items-center justify-center hover:border-emerald-500 hover:bg-emerald-500/5 transition-colors",children:[(0,c.jsx)(c3,{className:"h-8 w-8 text-muted-foreground mb-2"}),(0,c.jsx)("span",{className:"text-sm text-muted-foreground",children:"העלה תמונה"})]})]}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"העלה תמונות באיכות גבוהה (מומלץ 1200x800 פיקסלים). התמונה הראשונה תהיה התמונה הראשית."})]}),(0,c.jsx)(bM.TabsContent,{value:"amenities",className:"space-y-4 mt-4",children:(0,c.jsx)("div",{className:"grid grid-cols-3 gap-3",children:c6.map(a=>(0,c.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(f.amenities.includes(b)?g({...f,amenities:f.amenities.filter(a=>a!==b)}):g({...f,amenities:[...f.amenities,b]}))},className:`flex items-center gap-2 p-3 rounded-lg border transition-colors ${f.amenities.includes(a.id)?"bg-emerald-500/10 border-emerald-500 text-emerald-700":"bg-muted/50 border-transparent hover:border-muted-foreground/25"}`,children:[(0,c.jsx)("span",{className:"text-xl",children:a.icon}),(0,c.jsx)("span",{className:"text-sm",children:a.label})]},a.id))})}),(0,c.jsxs)("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t",children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:e,children:"ביטול"}),(0,c.jsxs)(h.Button,{onClick:()=>b(f),className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[a?"עדכן":"הוסף"," סוג חדר"]})]})]})}var db=a.i(321161),dc=a.i(824569);let dd=(0,cY.default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var de=a.i(587532),df=a.i(581464),dg=a.i(167453),dh=a.i(862722),di=a.i(73570),dj=a.i(654074);let dk=[{id:"nara",name:"nara",displayName:"NARA - מנוע הזמנות קלאסי",description:"מנוע הזמנות מודרני ונקי עם UI פשוט וידידותי",path:"/templates/nara",status:"active",category:"booking",thumbnail:"/nara-thumb.jpg",features:["Search","Booking","Calendar","Price Display"],requiredPermissions:["templates.view","booking.create"],allowedRoles:["admin","manager","agent"],enabled:!0,version:"1.0.0",createdAt:new Date("2025-01-01"),updatedAt:new Date,settings:{requiresAuth:!1,allowEmbedding:!0,rateLimit:100}},{id:"modern-dark",name:"modern-dark",displayName:"Modern Dark - עיצוב מודרני כהה",description:"מנוע הזמנות עם עיצוב dark mode מתקדם",path:"/templates/modern-dark",status:"active",category:"booking",thumbnail:"/modern-dark-thumb.jpg",features:["Dark Mode","Animations","Modern UI"],requiredPermissions:["templates.view"],allowedRoles:["admin","manager","agent","viewer"],enabled:!0,version:"1.2.0",createdAt:new Date("2025-01-05"),updatedAt:new Date,settings:{requiresAuth:!1,allowEmbedding:!0}},{id:"luxury",name:"luxury",displayName:"Luxury - יוקרתי",description:"מנוע הזמנות עם עיצוב יוקרתי ואלגנטי",path:"/templates/luxury",status:"active",category:"booking",features:["Premium Design","Animations","Gallery"],requiredPermissions:["templates.view"],allowedRoles:["admin","manager"],enabled:!0,version:"1.1.0",createdAt:new Date("2025-01-10"),updatedAt:new Date,settings:{requiresAuth:!1,allowEmbedding:!1}},{id:"family",name:"family",displayName:"Family - משפחתי",description:"מנוע מותאם למשפחות עם ילדים",path:"/templates/family",status:"active",category:"booking",features:["Child Age Selection","Family Rooms","Special Offers"],requiredPermissions:["templates.view"],allowedRoles:["admin","manager","agent"],enabled:!0,version:"1.0.0",createdAt:new Date("2025-01-15"),updatedAt:new Date,settings:{requiresAuth:!1,allowEmbedding:!0}},{id:"scarlet",name:"scarlet",displayName:"Scarlet - אדום אלגנטי",description:"מנוע בעיצוב אדום אלגנטי עם תמונות גדולות",path:"/templates/scarlet",status:"active",category:"booking",features:["Large Images","Elegant Design","Booking Flow"],requiredPermissions:["templates.view"],allowedRoles:["admin","manager"],enabled:!0,version:"2.0.0",createdAt:new Date("2025-01-20"),updatedAt:new Date,settings:{requiresAuth:!1,allowEmbedding:!0}},{id:"sunday",name:"sunday",displayName:"Sunday - רכיבים מקצועיים",description:"טמפלט עם 8 רכיבי UI מקצועיים ואינטגרציית Tavily",path:"/templates/sunday",status:"active",category:"showcase",features:["8 UI Components","Tavily Integration","Grid/List Views","Professional Design"],requiredPermissions:["templates.view","templates.advanced"],allowedRoles:["admin","manager"],enabled:!0,version:"1.0.0",createdAt:new Date("2026-01-12"),updatedAt:new Date,settings:{requiresAuth:!1,allowEmbedding:!0,rateLimit:50}},{id:"sunday-hotel",name:"sunday-hotel",displayName:"Sunday Hotels - אתר מלא",description:"אתר הזמנת מלונות מלא עם כל התכונות",path:"/templates/sunday-hotel",status:"active",category:"showcase",features:["Full Website","Multi-page","Advanced Search"],requiredPermissions:["templates.view","templates.advanced"],allowedRoles:["admin"],enabled:!0,version:"1.5.0",createdAt:new Date("2025-12-01"),updatedAt:new Date,settings:{requiresAuth:!0,allowEmbedding:!1,maxUsers:100}},{id:"knowaachat",name:"knowaachat",displayName:"KnowaaChat - צ'אט AI",description:"צ'אטבוט AI לשירות לקוחות",path:"/templates/knowaachat",status:"active",category:"chatbot",features:["AI Chat","NLP","24/7 Support"],requiredPermissions:["templates.view","ai.use"],allowedRoles:["admin","manager"],enabled:!0,version:"3.0.0",createdAt:new Date("2025-11-01"),updatedAt:new Date,settings:{requiresAuth:!0,allowEmbedding:!0,rateLimit:20}},{id:"chatbot-ui",name:"chatbot-ui",displayName:"Chatbot UI - ממשק צ'אט",description:"ממשק צ'אט מתקדם",path:"/templates/chatbot-ui",status:"active",category:"chatbot",features:["Modern Chat UI","Typing Indicators","File Upload"],requiredPermissions:["templates.view"],allowedRoles:["admin","manager","agent"],enabled:!0,version:"1.0.0",createdAt:new Date("2025-10-15"),updatedAt:new Date,settings:{requiresAuth:!1,allowEmbedding:!0}},{id:"ai-travel-agent",name:"ai-travel-agent",displayName:"AI Travel Agent - סוכן נסיעות AI",description:"סוכן נסיעות מבוסס AI",path:"/templates/ai-travel-agent",status:"active",category:"chatbot",features:["AI Recommendations","Smart Search","Personalization"],requiredPermissions:["templates.view","ai.use"],allowedRoles:["admin","manager"],enabled:!0,version:"2.1.0",createdAt:new Date("2025-09-01"),updatedAt:new Date,settings:{requiresAuth:!0,allowEmbedding:!1,rateLimit:30}}],dl=[{id:"kb-1",title:"איך להתחיל עם מנוע ההזמנות",category:"getting-started",content:"מדריך מפורט להתחלת עבודה עם מנוע ההזמנות...",summary:"למד את היסודות של מנוע ההזמנות",tags:["tutorial","beginner","setup"],relatedArticles:["kb-2","kb-3"],relatedTemplates:["nara","modern-dark"],author:"System Admin",createdAt:new Date("2025-01-01"),updatedAt:new Date,published:!0,views:150,helpful:45,notHelpful:3,searchKeywords:["התחלה","מדריך","יסודות"],difficulty:"beginner",estimatedReadTime:5},{id:"kb-2",title:"ניהול הרשאות וטמפלטים",category:"administration",content:"הסבר מפורט על מערכת ההרשאות...",summary:"ניהול משתמשים והרשאות",tags:["permissions","admin","security"],relatedArticles:["kb-1"],relatedTemplates:[],author:"System Admin",createdAt:new Date("2025-01-05"),updatedAt:new Date,published:!0,views:89,helpful:32,notHelpful:1,searchKeywords:["הרשאות","משתמשים","אבטחה"],difficulty:"intermediate",estimatedReadTime:8},{id:"kb-3",title:"שילוב טמפלטים באתר שלך",category:"integration",content:"הוראות להטמעת הטמפלטים באתר...",summary:"הטמעה ושילוב טמפלטים",tags:["embed","integration","iframe"],relatedArticles:["kb-1"],relatedTemplates:["nara","modern-dark","sunday"],author:"Developer",createdAt:new Date("2025-01-10"),updatedAt:new Date,published:!0,views:123,helpful:67,notHelpful:2,searchKeywords:["הטמעה","iframe","שילוב"],difficulty:"advanced",estimatedReadTime:12}],dm=[{id:"guide-1",title:"מדיניות אבטחת מידע",category:"security",priority:"critical",content:"כל המשתמשים חייבים לשמור על סודיות הנתונים...",enforcedRules:["strong-password","2fa-required","no-sharing"],applicableRoles:["admin","manager","agent"],applicableTemplates:[],createdAt:new Date("2025-01-01"),updatedAt:new Date,active:!0,mandatory:!0},{id:"guide-2",title:"הנחיות לשימוש ב-AI",category:"operations",priority:"high",content:"בעת שימוש בכלי AI, יש לוודא...",enforcedRules:["verify-responses","human-oversight"],applicableRoles:["admin","manager"],applicableTemplates:["knowaachat","ai-travel-agent"],createdAt:new Date("2025-01-05"),updatedAt:new Date,active:!0,mandatory:!1}];function dn({onTemplateSelect:a}){let[b,e]=(0,d.useState)(dk),[f,g]=(0,d.useState)(""),[i,k]=(0,d.useState)("all"),[l,m]=(0,d.useState)("all"),[n,o]=(0,d.useState)(null),[p,q]=(0,d.useState)(!1),[r,s]=(0,d.useState)(!1),t=b.filter(a=>{let b=a.displayName.toLowerCase().includes(f.toLowerCase())||a.description.toLowerCase().includes(f.toLowerCase()),c="all"===i||a.status===i,d="all"===l||a.category===l;return b&&c&&d}),u={total:b.length,active:b.filter(a=>"active"===a.status).length,inactive:b.filter(a=>"inactive"===a.status).length,maintenance:b.filter(a=>"maintenance"===a.status).length};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsx)(aY.CardDescription,{children:'סה"כ טמפלטים'}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl",children:u.total})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(dg.CheckCircle2,{className:"h-4 w-4 text-green-500"}),"פעילים"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-green-500",children:u.active})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(dh.XCircle,{className:"h-4 w-4 text-gray-500"}),"לא פעילים"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-gray-500",children:u.inactive})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(di.AlertTriangle,{className:"h-4 w-4 text-yellow-500"}),"תחזוקה"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-yellow-500",children:u.maintenance})]})})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{children:"ניהול טמפלטים"}),(0,c.jsx)(aY.CardDescription,{children:"צפה ונהל את כל הטמפלטים במערכת"})]}),(0,c.jsxs)(h.Button,{children:[(0,c.jsx)(cV.Plus,{className:"h-4 w-4 mr-2"}),"טמפלט חדש"]})]})}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,c.jsxs)("div",{className:"flex-1 relative",children:[(0,c.jsx)(de.Search,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(aP.Input,{placeholder:"חפש טמפלטים...",value:f,onChange:a=>g(a.target.value),className:"pr-10"})]}),(0,c.jsxs)(a7.Select,{value:i,onValueChange:a=>k(a),children:[(0,c.jsx)(a7.SelectTrigger,{className:"w-[180px]",children:(0,c.jsx)(a7.SelectValue,{placeholder:"סינון לפי סטטוס"})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"all",children:"כל הסטטוסים"}),(0,c.jsx)(a7.SelectItem,{value:"active",children:"פעיל"}),(0,c.jsx)(a7.SelectItem,{value:"inactive",children:"לא פעיל"}),(0,c.jsx)(a7.SelectItem,{value:"maintenance",children:"תחזוקה"})]})]}),(0,c.jsxs)(a7.Select,{value:l,onValueChange:a=>m(a),children:[(0,c.jsx)(a7.SelectTrigger,{className:"w-[180px]",children:(0,c.jsx)(a7.SelectValue,{placeholder:"סינון לפי קטגוריה"})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"all",children:"כל הקטגוריות"}),(0,c.jsx)(a7.SelectItem,{value:"booking",children:"הזמנות"}),(0,c.jsx)(a7.SelectItem,{value:"showcase",children:"תצוגה"}),(0,c.jsx)(a7.SelectItem,{value:"chatbot",children:"צ'אטבוט"})]})]})]}),(0,c.jsx)("div",{className:"rounded-md border",children:(0,c.jsxs)(a1,{children:[(0,c.jsx)(a2,{children:(0,c.jsxs)(a4,{children:[(0,c.jsx)(a5,{children:"טמפלט"}),(0,c.jsx)(a5,{children:"קטגוריה"}),(0,c.jsx)(a5,{children:"סטטוס"}),(0,c.jsx)(a5,{children:"גרסה"}),(0,c.jsx)(a5,{children:"פעיל"}),(0,c.jsx)(a5,{children:"הרשאות"}),(0,c.jsx)(a5,{className:"text-left",children:"פעולות"})]})}),(0,c.jsx)(a3,{children:t.map(b=>(0,c.jsxs)(a4,{children:[(0,c.jsx)(a6,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:b.displayName}),(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:b.description})]})}),(0,c.jsx)(a6,{children:(0,c.jsxs)(j.Badge,{className:(a=>{switch(a){case"booking":return"bg-blue-500/10 text-blue-500";case"showcase":return"bg-purple-500/10 text-purple-500";case"chatbot":return"bg-pink-500/10 text-pink-500";case"admin":return"bg-orange-500/10 text-orange-500"}})(b.category),children:["booking"===b.category&&"הזמנות","showcase"===b.category&&"תצוגה","chatbot"===b.category&&"צ'אטבוט","admin"===b.category&&"ניהול"]})}),(0,c.jsx)(a6,{children:(0,c.jsx)(j.Badge,{className:(a=>{switch(a){case"active":return"bg-green-500/10 text-green-500";case"inactive":return"bg-gray-500/10 text-gray-500";case"maintenance":return"bg-yellow-500/10 text-yellow-500";case"development":return"bg-blue-500/10 text-blue-500"}})(b.status),variant:"outline",children:(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(a=>{switch(a){case"active":return(0,c.jsx)(dg.CheckCircle2,{className:"h-4 w-4 text-green-500"});case"inactive":return(0,c.jsx)(dh.XCircle,{className:"h-4 w-4 text-gray-500"});case"maintenance":return(0,c.jsx)(di.AlertTriangle,{className:"h-4 w-4 text-yellow-500"});case"development":return(0,c.jsx)(dj.Code,{className:"h-4 w-4 text-blue-500"})}})(b.status),"active"===b.status&&"פעיל","inactive"===b.status&&"לא פעיל","maintenance"===b.status&&"תחזוקה","development"===b.status&&"פיתוח"]})})}),(0,c.jsx)(a6,{children:(0,c.jsx)("code",{className:"text-sm",children:b.version})}),(0,c.jsx)(a6,{children:(0,c.jsx)(cb.Switch,{checked:b.enabled,onCheckedChange:()=>{var a;return a=b.id,void e(b=>b.map(b=>b.id===a?{...b,enabled:!b.enabled}:b))}})}),(0,c.jsx)(a6,{children:(0,c.jsxs)("div",{className:"flex flex-wrap gap-1",children:[b.allowedRoles.slice(0,2).map(a=>(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:a},a)),b.allowedRoles.length>2&&(0,c.jsxs)(j.Badge,{variant:"outline",className:"text-xs",children:["+",b.allowedRoles.length-2]})]})}),(0,c.jsx)(a6,{className:"text-left",children:(0,c.jsxs)(aQ.DropdownMenu,{children:[(0,c.jsx)(aQ.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsx)(h.Button,{variant:"ghost",size:"sm",children:(0,c.jsx)(dd,{className:"h-4 w-4"})})}),(0,c.jsxs)(aQ.DropdownMenuContent,{align:"end",children:[(0,c.jsx)(aQ.DropdownMenuLabel,{children:"פעולות"}),(0,c.jsx)(aQ.DropdownMenuSeparator,{}),(0,c.jsxs)(aQ.DropdownMenuItem,{onClick:()=>window.open(b.path,"_blank"),children:[(0,c.jsx)(c1,{className:"h-4 w-4 mr-2"}),"צפה"]}),(0,c.jsxs)(aQ.DropdownMenuItem,{onClick:()=>{o(b),q(!0)},children:[(0,c.jsx)(dc.Edit,{className:"h-4 w-4 mr-2"}),"ערוך"]}),(0,c.jsxs)(aQ.DropdownMenuItem,{onClick:()=>{a&&a(b)},children:[(0,c.jsx)(db.Settings,{className:"h-4 w-4 mr-2"}),"הגדרות"]}),(0,c.jsx)(aQ.DropdownMenuSeparator,{}),(0,c.jsxs)(aQ.DropdownMenuItem,{onClick:()=>{var a;return a=b.id,void e(b=>b.map(b=>b.id===a?{...b,status:"maintenance"}:b))},children:[(0,c.jsx)(di.AlertTriangle,{className:"h-4 w-4 mr-2"}),"העבר לתחזוקה"]}),(0,c.jsxs)(aQ.DropdownMenuItem,{className:"text-destructive",onClick:()=>{o(b),s(!0)},children:[(0,c.jsx)(cX.Trash2,{className:"h-4 w-4 mr-2"}),"מחק"]})]})]})})]},b.id))})]})}),0===t.length&&(0,c.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,c.jsx)(df.Filter,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,c.jsx)("p",{children:"לא נמצאו טמפלטים התואמים את החיפוש"})]})]})]}),(0,c.jsx)(a8.Dialog,{open:r,onOpenChange:s,children:(0,c.jsxs)(a8.DialogContent,{children:[(0,c.jsxs)(a8.DialogHeader,{children:[(0,c.jsx)(a8.DialogTitle,{children:"מחיקת טמפלט"}),(0,c.jsxs)(a8.DialogDescription,{children:['האם אתה בטוח שברצונך למחוק את הטמפלט "',n?.displayName,'"? פעולה זו לא ניתנת לביטול.']})]}),(0,c.jsxs)(a8.DialogFooter,{children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:()=>s(!1),children:"ביטול"}),(0,c.jsx)(h.Button,{variant:"destructive",onClick:()=>{n&&(e(a=>a.filter(a=>a.id!==n.id)),s(!1),o(null))},children:"מחק"})]})]})})]})}var dp=a.i(290669),dq=a.i(292e3),dr=a.i(816201),ds=a.i(641710);let dt=(0,cY.default)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var du=a.i(256711),dv=a.i(924843);function dw(){let[a,b]=(0,d.useState)(function(a=50){let b=[{type:"login",action:"User Login",description:"משתמש התחבר למערכת"},{type:"template_access",action:"Template Access",description:"גישה לטמפלט"},{type:"booking",action:"Booking Created",description:"הזמנה חדשה נוצרה"},{type:"settings_change",action:"Settings Updated",description:"הגדרות עודכנו"},{type:"api_call",action:"API Request",description:"קריאת API"},{type:"error",action:"Error Occurred",description:"שגיאה התרחשה"},{type:"logout",action:"User Logout",description:"משתמש התנתק"}],c=[{id:"1",email:"admin@hotel.com",name:"Admin User",role:"admin"},{id:"2",email:"manager@hotel.com",name:"Manager User",role:"manager"},{id:"3",email:"agent@hotel.com",name:"Agent User",role:"agent"}],d=[];for(let e=0;e<a;e++){let a=b[Math.floor(Math.random()*b.length)],f=c[Math.floor(Math.random()*c.length)],g=dk[Math.floor(Math.random()*dk.length)];d.push({id:`log-${e}`,timestamp:new Date(Date.now()-7*Math.random()*864e5),userId:f.id,userEmail:f.email,userName:f.name,userRole:f.role,type:a.type,action:a.action,description:a.description,templateId:"template_access"===a.type?g.id:void 0,templateName:"template_access"===a.type?g.displayName:void 0,success:Math.random()>.1,ip:`192.168.1.${Math.floor(255*Math.random())}`,userAgent:"Mozilla/5.0...",duration:Math.floor(3e3*Math.random())})}return d.sort((a,b)=>b.timestamp.getTime()-a.timestamp.getTime())}(100)),[e,f]=(0,d.useState)(""),[g,i]=(0,d.useState)("all"),[k,l]=(0,d.useState)("all"),[m,n]=(0,d.useState)(null),o=Array.from(new Set(a.map(a=>a.userEmail).filter(Boolean))),p=a.filter(a=>{let b=a.action.toLowerCase().includes(e.toLowerCase())||a.description.toLowerCase().includes(e.toLowerCase())||a.userEmail?.toLowerCase().includes(e.toLowerCase()),c="all"===g||a.type===g,d="all"===k||a.userEmail===k;return b&&c&&d}),q={total:a.length,today:a.filter(a=>{let b=new Date;return a.timestamp.toDateString()===b.toDateString()}).length,errors:a.filter(a=>"error"===a.type||!a.success).length,logins:a.filter(a=>"login"===a.type).length};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsx)(aY.CardDescription,{children:'סה"כ פעולות'}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl",children:q.total})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(ds.Clock,{className:"h-4 w-4 text-blue-500"}),"פעולות היום"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-blue-500",children:q.today})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(dq.AlertCircle,{className:"h-4 w-4 text-red-500"}),"שגיאות"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-red-500",children:q.errors})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(dt,{className:"h-4 w-4 text-green-500"}),"כניסות"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-green-500",children:q.logins})]})})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"יומן פעילות"}),(0,c.jsx)(aY.CardDescription,{children:"מעקב אחר כל הפעילות במערכת"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,c.jsxs)("div",{className:"flex-1 relative",children:[(0,c.jsx)(de.Search,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(aP.Input,{placeholder:"חפש פעולות...",value:e,onChange:a=>f(a.target.value),className:"pr-10"})]}),(0,c.jsxs)(a7.Select,{value:g,onValueChange:a=>i(a),children:[(0,c.jsx)(a7.SelectTrigger,{className:"w-[180px]",children:(0,c.jsx)(a7.SelectValue,{placeholder:"סינון לפי סוג"})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"all",children:"כל הסוגים"}),(0,c.jsx)(a7.SelectItem,{value:"login",children:"כניסה"}),(0,c.jsx)(a7.SelectItem,{value:"logout",children:"יציאה"}),(0,c.jsx)(a7.SelectItem,{value:"template_access",children:"גישה לטמפלט"}),(0,c.jsx)(a7.SelectItem,{value:"booking",children:"הזמנה"}),(0,c.jsx)(a7.SelectItem,{value:"settings_change",children:"שינוי הגדרות"}),(0,c.jsx)(a7.SelectItem,{value:"api_call",children:"קריאת API"}),(0,c.jsx)(a7.SelectItem,{value:"error",children:"שגיאה"})]})]}),(0,c.jsxs)(a7.Select,{value:k,onValueChange:l,children:[(0,c.jsx)(a7.SelectTrigger,{className:"w-[200px]",children:(0,c.jsx)(a7.SelectValue,{placeholder:"סינון לפי משתמש"})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"all",children:"כל המשתמשים"}),o.map(a=>(0,c.jsx)(a7.SelectItem,{value:a,children:a},a))]})]})]}),(0,c.jsx)("div",{className:"rounded-md border",children:(0,c.jsxs)(a1,{children:[(0,c.jsx)(a2,{children:(0,c.jsxs)(a4,{children:[(0,c.jsx)(a5,{children:"זמן"}),(0,c.jsx)(a5,{children:"סוג"}),(0,c.jsx)(a5,{children:"משתמש"}),(0,c.jsx)(a5,{children:"פעולה"}),(0,c.jsx)(a5,{children:"טמפלט"}),(0,c.jsx)(a5,{children:"סטטוס"}),(0,c.jsx)(a5,{children:"משך (ms)"})]})}),(0,c.jsx)(a3,{children:p.slice(0,50).map(a=>(0,c.jsxs)(a4,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>n(a),children:[(0,c.jsx)(a6,{className:"font-mono text-sm",children:(0,du.format)(a.timestamp,"dd/MM HH:mm:ss",{locale:dv.he})}),(0,c.jsx)(a6,{children:(0,c.jsx)(j.Badge,{className:(a=>{switch(a){case"login":case"booking":return"bg-green-500/10 text-green-500";case"logout":return"bg-gray-500/10 text-gray-500";case"template_access":return"bg-blue-500/10 text-blue-500";case"settings_change":return"bg-yellow-500/10 text-yellow-500";case"api_call":return"bg-purple-500/10 text-purple-500";case"error":return"bg-red-500/10 text-red-500"}})(a.type),variant:"outline",children:(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(a=>{switch(a){case"login":return(0,c.jsx)(dt,{className:"h-4 w-4 text-green-500"});case"logout":return(0,c.jsx)(dt,{className:"h-4 w-4 text-gray-500"});case"template_access":return(0,c.jsx)(c1,{className:"h-4 w-4 text-blue-500"});case"settings_change":return(0,c.jsx)(dp.Activity,{className:"h-4 w-4 text-yellow-500"});case"booking":return(0,c.jsx)(dr.CheckCircle,{className:"h-4 w-4 text-green-500"});case"api_call":return(0,c.jsx)(dp.Activity,{className:"h-4 w-4 text-purple-500"});case"error":return(0,c.jsx)(dq.AlertCircle,{className:"h-4 w-4 text-red-500"});default:return(0,c.jsx)(dp.Activity,{className:"h-4 w-4"})}})(a.type),a.type]})})}),(0,c.jsx)(a6,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:a.userName}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:a.userEmail})]})}),(0,c.jsx)(a6,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:a.action}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:a.description})]})}),(0,c.jsx)(a6,{children:a.templateName&&(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:a.templateName})}),(0,c.jsx)(a6,{children:a.success?(0,c.jsx)(dr.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,c.jsx)(dh.XCircle,{className:"h-4 w-4 text-red-500"})}),(0,c.jsx)(a6,{className:"font-mono text-sm",children:a.duration||"-"})]},a.id))})]})}),0===p.length&&(0,c.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,c.jsx)(df.Filter,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,c.jsx)("p",{children:"לא נמצאו פעולות התואמות את החיפוש"})]}),p.length>50&&(0,c.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["מציג 50 תוצאות מתוך ",p.length]})]})]}),m&&(0,c.jsxs)(aY.Card,{className:"fixed bottom-4 left-4 right-4 max-w-2xl mx-auto z-50",children:[(0,c.jsx)(aY.CardHeader,{children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)(aY.CardTitle,{children:"פרטי פעולה"}),(0,c.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>n(null),children:"×"})]})}),(0,c.jsxs)(aY.CardContent,{className:"space-y-2 text-sm",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"font-medium",children:"זמן:"}),(0,c.jsx)("p",{className:"text-muted-foreground",children:(0,du.format)(m.timestamp,"dd/MM/yyyy HH:mm:ss",{locale:dv.he})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"font-medium",children:"משתמש:"}),(0,c.jsx)("p",{className:"text-muted-foreground",children:m.userEmail})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"font-medium",children:"IP:"}),(0,c.jsx)("p",{className:"text-muted-foreground font-mono",children:m.ip})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"font-medium",children:"סטטוס:"}),(0,c.jsx)("p",{className:m.success?"text-green-500":"text-red-500",children:m.success?"הצלחה":"כשלון"})]})]}),m.errorMessage&&(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"font-medium text-red-500",children:"שגיאה:"}),(0,c.jsx)("p",{className:"text-red-500 font-mono text-xs",children:m.errorMessage})]})]})]})]})}var dx=a.i(472857);let dy=(0,cY.default)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var dz=a.i(42724),dA=a.i(244513),dB=a.i(852587),dC=a.i(23464),dD=a.i(57270),dE=a.i(774016);function dF(a,b){let c=(0,dE.toDate)(a)-(0,dE.toDate)(b);return c<0?-1:c>0?1:c}var dG=a.i(959296),dH=a.i(238124),dI=a.i(322658);function dJ(a,b){return function(a,b,c){var d;let e,f=(0,dB.getDefaultOptions)(),g=c?.locale??f.locale??dA.defaultLocale,h=dF(a,b);if(isNaN(h))throw RangeError("Invalid time value");let i=Object.assign({},c,{addSuffix:c?.addSuffix,comparison:h}),[j,k]=(0,dD.normalizeDates)(c?.in,...h>0?[b,a]:[a,b]),l=(d=void 0,a=>{let b=(d?Math[d]:Math.trunc)(a);return 0===b?0:b})(((0,dE.toDate)(k)-(0,dE.toDate)(j))/1e3),m=Math.round((l-((0,dC.getTimezoneOffsetInMilliseconds)(k)-(0,dC.getTimezoneOffsetInMilliseconds)(j))/1e3)/60);if(m<2)if(c?.includeSeconds)if(l<5)return g.formatDistance("lessThanXSeconds",5,i);else if(l<10)return g.formatDistance("lessThanXSeconds",10,i);else if(l<20)return g.formatDistance("lessThanXSeconds",20,i);else if(l<40)return g.formatDistance("halfAMinute",0,i);else if(l<60)return g.formatDistance("lessThanXMinutes",1,i);else return g.formatDistance("xMinutes",1,i);else if(0===m)return g.formatDistance("lessThanXMinutes",1,i);else return g.formatDistance("xMinutes",m,i);if(m<45)return g.formatDistance("xMinutes",m,i);if(m<90)return g.formatDistance("aboutXHours",1,i);if(m<dG.minutesInDay){let a=Math.round(m/60);return g.formatDistance("aboutXHours",a,i)}if(m<2520)return g.formatDistance("xDays",1,i);else if(m<dG.minutesInMonth){let a=Math.round(m/dG.minutesInDay);return g.formatDistance("xDays",a,i)}else if(m<2*dG.minutesInMonth)return e=Math.round(m/dG.minutesInMonth),g.formatDistance("aboutXMonths",e,i);if((e=function(a,b,c){var d;let e,f,[g,h,i]=(0,dD.normalizeDates)(void 0,a,a,b),j=dF(h,i),k=Math.abs((0,dH.differenceInCalendarMonths)(h,i));if(k<1)return 0;1===h.getMonth()&&h.getDate()>27&&h.setDate(30),h.setMonth(h.getMonth()-j*k);let l=dF(h,i)===-j;+(e=(0,dE.toDate)(g,void 0),d=void 0,(f=(0,dE.toDate)(e,d?.in)).setHours(23,59,59,999),f)==+(0,dI.endOfMonth)(e,void 0)&&1===k&&1===dF(g,i)&&(l=!1);let m=j*(k-l);return 0===m?0:m}(k,j))<12){let a=Math.round(m/dG.minutesInMonth);return g.formatDistance("xMonths",a,i)}{let a=e%12,b=Math.trunc(e/12);return a<3?g.formatDistance("aboutXYears",b,i):a<9?g.formatDistance("overXYears",b,i):g.formatDistance("almostXYears",b+1,i)}}(a,(0,dz.constructFrom)(a,Date.now()),b)}function dK(){let[a,b]=(0,d.useState)(function(a=20){let b=[{id:"1",email:"admin@hotel.com",name:"Admin User",role:"admin"},{id:"2",email:"manager@hotel.com",name:"Manager User",role:"manager"},{id:"3",email:"agent@hotel.com",name:"Agent User",role:"agent"}],c=[];for(let d=0;d<a;d++){let a=b[Math.floor(Math.random()*b.length)],e=new Date(Date.now()-12*Math.random()*36e5),f=Math.random()>.5;c.push({id:`session-${d}`,userId:a.id,userEmail:a.email,userName:a.name,userRole:a.role,loginTime:e,lastActivity:new Date(e.getTime()+2*Math.random()*36e5),ip:`192.168.1.${Math.floor(255*Math.random())}`,userAgent:"Mozilla/5.0...",active:f,pageViews:Math.floor(50*Math.random()),actionsPerformed:Math.floor(20*Math.random())})}return c.sort((a,b)=>b.loginTime.getTime()-a.loginTime.getTime())}(50)),[e,f]=(0,d.useState)(""),[g,i]=(0,d.useState)("all"),k=a.filter(a=>{let b=a.userName.toLowerCase().includes(e.toLowerCase())||a.userEmail.toLowerCase().includes(e.toLowerCase())||a.ip.includes(e),c="all"===g||"active"===g&&a.active||"inactive"===g&&!a.active;return b&&c}),l={total:a.length,active:a.filter(a=>a.active).length,todayLogins:a.filter(a=>{let b=new Date;return a.loginTime.toDateString()===b.toDateString()}).length,uniqueUsers:new Set(a.map(a=>a.userId)).size};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsx)(aY.CardDescription,{children:'סה"כ סשנים'}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl",children:l.total})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(dg.CheckCircle2,{className:"h-4 w-4 text-green-500"}),"סשנים פעילים"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-green-500",children:l.active})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(ds.Clock,{className:"h-4 w-4 text-blue-500"}),"כניסות היום"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-blue-500",children:l.todayLogins})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(c_.Users,{className:"h-4 w-4 text-purple-500"}),"משתמשים ייחודיים"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-purple-500",children:l.uniqueUsers})]})})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"ניהול כניסות"}),(0,c.jsx)(aY.CardDescription,{children:"מעקב אחר סשנים פעילים והיסטוריה"})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,c.jsxs)("div",{className:"flex-1 relative",children:[(0,c.jsx)(de.Search,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(aP.Input,{placeholder:"חפש משתמש או IP...",value:e,onChange:a=>f(a.target.value),className:"pr-10"})]}),(0,c.jsxs)(a7.Select,{value:g,onValueChange:a=>i(a),children:[(0,c.jsx)(a7.SelectTrigger,{className:"w-[180px]",children:(0,c.jsx)(a7.SelectValue,{placeholder:"סינון לפי סטטוס"})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"all",children:"כל הסשנים"}),(0,c.jsx)(a7.SelectItem,{value:"active",children:"פעיל"}),(0,c.jsx)(a7.SelectItem,{value:"inactive",children:"לא פעיל"})]})]})]}),(0,c.jsx)("div",{className:"rounded-md border",children:(0,c.jsxs)(a1,{children:[(0,c.jsx)(a2,{children:(0,c.jsxs)(a4,{children:[(0,c.jsx)(a5,{children:"משתמש"}),(0,c.jsx)(a5,{children:"תפקיד"}),(0,c.jsx)(a5,{children:"כניסה"}),(0,c.jsx)(a5,{children:"פעילות אחרונה"}),(0,c.jsx)(a5,{children:"IP"}),(0,c.jsx)(a5,{children:"סטטוס"}),(0,c.jsx)(a5,{children:"צפיות/פעולות"}),(0,c.jsx)(a5,{children:"פעולות"})]})}),(0,c.jsx)(a3,{children:k.map(a=>(0,c.jsxs)(a4,{children:[(0,c.jsx)(a6,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:a.userName}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:a.userEmail})]})}),(0,c.jsx)(a6,{children:(0,c.jsx)(j.Badge,{variant:"outline",children:a.userRole})}),(0,c.jsxs)(a6,{className:"text-sm",children:[(0,c.jsx)("div",{children:(0,du.format)(a.loginTime,"dd/MM HH:mm",{locale:dv.he})}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:dJ(a.loginTime,{locale:dv.he,addSuffix:!0})})]}),(0,c.jsx)(a6,{className:"text-sm",children:dJ(a.lastActivity,{locale:dv.he,addSuffix:!0})}),(0,c.jsx)(a6,{className:"font-mono text-sm",children:a.ip}),(0,c.jsx)(a6,{children:a.active?(0,c.jsxs)(j.Badge,{className:"bg-green-500/10 text-green-500",children:[(0,c.jsx)(dp.Activity,{className:"h-3 w-3 mr-1"}),"פעיל"]}):(0,c.jsx)(j.Badge,{className:"bg-gray-500/10 text-gray-500",children:"לא פעיל"})}),(0,c.jsx)(a6,{className:"text-sm",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(c1,{className:"h-3 w-3 text-muted-foreground"}),a.pageViews,(0,c.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,c.jsx)(dp.Activity,{className:"h-3 w-3 text-muted-foreground"}),a.actionsPerformed]})}),(0,c.jsx)(a6,{children:a.active&&(0,c.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>{var c;return c=a.id,void b(a=>a.map(a=>a.id===c?{...a,active:!1,logoutTime:new Date,sessionDuration:Date.now()-a.loginTime.getTime()}:a))},children:[(0,c.jsx)(dy,{className:"h-4 w-4 mr-1"}),"נתק"]})})]},a.id))})]})}),0===k.length&&(0,c.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,c.jsx)(dx.Monitor,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,c.jsx)("p",{children:"לא נמצאו סשנים התואמים את החיפוש"})]})]})]})]})}var dL=a.i(284505),dM=a.i(124987);function dN(){let[a,b]=(0,d.useState)([]),[e,f]=(0,d.useState)(null),[g,i]=(0,d.useState)(!0),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)(!1),[o,p]=(0,d.useState)(""),[q,r]=(0,d.useState)("all"),[s,t]=(0,d.useState)("all"),[u,v]=(0,d.useState)(""),[w,x]=(0,d.useState)(""),y=async()=>{i(!0);try{let a=new URLSearchParams;o&&a.append("search",o),"all"!==q&&a.append("status",q),"all"!==s&&a.append("source",s),u&&a.append("dateFrom",u),w&&a.append("dateTo",w);let c=await fetch(`/api/admin/search-logs?${a}`);if(!c.ok)throw Error("Failed to load logs");let d=await c.json();b(d.logs||[]),f(d.stats)}catch(a){console.error("Error loading logs:",a),aX.toast.error("Failed to load search logs")}finally{i(!1)}},z=async()=>{try{let b=["Date,Destination,Hotel,Check-in,Check-out,Guests,Results,Success,Source,Duration (ms)",...a.map(a=>[(0,du.format)(new Date(a.createdAt),"yyyy-MM-dd HH:mm:ss",{locale:dv.he}),a.city||"-",a.hotelName||"-",a.dateFrom||"-",a.dateTo||"-",`${a.adults||2}A ${a.children||0}C`,a.resultsCount,a.success?"✓":"✗",a.source||"-",a.durationMs||"-"].join(","))].join("\n"),c=document.createElement("a");c.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(b)),c.setAttribute("download",`search-logs-${(0,du.format)(new Date,"yyyy-MM-dd-HHmmss")}.csv`),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),aX.toast.success("Logs exported successfully")}catch(a){console.error("Error exporting logs:",a),aX.toast.error("Failed to export logs")}},A=async c=>{if(confirm("Are you sure you want to delete this log?"))try{if(!(await fetch(`/api/admin/search-logs/${c}`,{method:"DELETE"})).ok)throw Error("Failed to delete log");b(a.filter(a=>a.id!==c)),aX.toast.success("Log deleted successfully")}catch(a){console.error("Error deleting log:",a),aX.toast.error("Failed to delete log")}};(0,d.useEffect)(()=>{y()},[o,q,s,u,w]);let B=a.filter(a=>(!o||!!a.city?.toLowerCase().includes(o.toLowerCase()))&&("all"===q||"success"===q===a.success)&&("all"===s||a.source===s));return(0,c.jsxs)("div",{className:"space-y-6",children:[e&&(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{className:"pb-3",children:(0,c.jsx)(aY.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:'סה"כ חיפושים'})}),(0,c.jsxs)(aY.CardContent,{children:[(0,c.jsx)("div",{className:"text-2xl font-bold",children:e.total}),(0,c.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["מ-",u||"התחלה"," עד ",w||"היום"]})]})]}),(0,c.jsxs)(aY.Card,{className:"bg-green-50 dark:bg-green-950",children:[(0,c.jsx)(aY.CardHeader,{className:"pb-3",children:(0,c.jsx)(aY.CardTitle,{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"חיפושים מוצלחים"})}),(0,c.jsxs)(aY.CardContent,{children:[(0,c.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:e.successful}),(0,c.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:e.successRate})]})]}),(0,c.jsxs)(aY.Card,{className:"bg-red-50 dark:bg-red-950",children:[(0,c.jsx)(aY.CardHeader,{className:"pb-3",children:(0,c.jsx)(aY.CardTitle,{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"חיפושים נכשלו"})}),(0,c.jsxs)(aY.CardContent,{children:[(0,c.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.failed}),(0,c.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[(e.failed/e.total*100||0).toFixed(1),"%"]})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{className:"pb-3",children:(0,c.jsx)(aY.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"מקורות חיפוש"})}),(0,c.jsx)(aY.CardContent,{children:(0,c.jsx)("div",{className:"space-y-2",children:e.bySource&&Object.entries(e.bySource).map(([a,b])=>(0,c.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,c.jsx)("span",{className:"text-muted-foreground capitalize",children:a}),(0,c.jsx)("span",{className:"font-medium",children:b})]},a))})})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsx)(aY.CardHeader,{children:(0,c.jsx)(aY.CardTitle,{children:"סינון חיפושים"})}),(0,c.jsxs)(aY.CardContent,{children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(de.Search,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400"}),(0,c.jsx)(aP.Input,{placeholder:"חיפוש לפי עיר...",value:o,onChange:a=>p(a.target.value),className:"pr-10"})]}),(0,c.jsxs)(a7.Select,{value:q,onValueChange:r,children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{placeholder:"סטטוס"})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"all",children:"הכל"}),(0,c.jsx)(a7.SelectItem,{value:"success",children:"מוצלח"}),(0,c.jsx)(a7.SelectItem,{value:"failed",children:"נכשל"})]})]}),(0,c.jsxs)(a7.Select,{value:s,onValueChange:t,children:[(0,c.jsx)(a7.SelectTrigger,{children:(0,c.jsx)(a7.SelectValue,{placeholder:"מקור"})}),(0,c.jsxs)(a7.SelectContent,{children:[(0,c.jsx)(a7.SelectItem,{value:"all",children:"הכל"}),(0,c.jsx)(a7.SelectItem,{value:"chat",children:"צ'אט"}),(0,c.jsx)(a7.SelectItem,{value:"widget",children:"וידג'ט"}),(0,c.jsx)(a7.SelectItem,{value:"template",children:"תבנית"}),(0,c.jsx)(a7.SelectItem,{value:"api",children:"API"})]})]}),(0,c.jsx)(aP.Input,{type:"date",value:u,onChange:a=>v(a.target.value),placeholder:"מתאריך"}),(0,c.jsx)(aP.Input,{type:"date",value:w,onChange:a=>x(a.target.value),placeholder:"עד תאריך"})]}),(0,c.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:y,disabled:g,children:g?"טוען...":"רענן"}),(0,c.jsxs)(h.Button,{variant:"outline",onClick:z,className:"gap-2",children:[(0,c.jsx)(dL.Download,{className:"h-4 w-4"}),"ייצוא ל-CSV"]})]})]})]}),(0,c.jsxs)(aY.Card,{children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsx)(aY.CardTitle,{children:"יומן חיפושים"}),(0,c.jsxs)(aY.CardDescription,{children:[B.length," מתוך ",a.length," חיפושים"]})]}),(0,c.jsx)(aY.CardContent,{children:g?(0,c.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"טוען..."}):0===B.length?(0,c.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"לא נמצאו חיפושים"}):(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full text-sm",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"border-b",children:[(0,c.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"תאריך"}),(0,c.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"יעד"}),(0,c.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"תאריכים"}),(0,c.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"אורחים"}),(0,c.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"תוצאות"}),(0,c.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"סטטוס"}),(0,c.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"מקור"}),(0,c.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"פעולות"})]})}),(0,c.jsx)("tbody",{children:B.map(a=>(0,c.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,c.jsx)("td",{className:"py-3 px-4 text-xs text-muted-foreground",children:(0,du.format)(new Date(a.createdAt),"dd/MM HH:mm",{locale:dv.he})}),(0,c.jsx)("td",{className:"py-3 px-4",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(dM.MapPin,{className:"h-3 w-3 text-muted-foreground"}),(0,c.jsx)("span",{children:a.city||a.hotelName||"-"})]})}),(0,c.jsx)("td",{className:"py-3 px-4 text-xs",children:a.dateFrom&&a.dateTo?`${(0,du.format)(new Date(a.dateFrom),"dd/MM")} - ${(0,du.format)(new Date(a.dateTo),"dd/MM")}`:"-"}),(0,c.jsx)("td",{className:"py-3 px-4 text-xs",children:(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)(c_.Users,{className:"h-3 w-3 text-muted-foreground"}),a.adults||2,"A ",a.children||0,"C"]})}),(0,c.jsx)("td",{className:"py-3 px-4",children:(0,c.jsxs)(j.Badge,{variant:a.resultsCount>0?"default":"secondary",children:[a.resultsCount," תוצאות"]})}),(0,c.jsx)("td",{className:"py-3 px-4",children:(0,c.jsx)(j.Badge,{variant:a.success?"default":"destructive",className:a.success?"bg-green-600":"",children:a.success?"✓ מוצלח":"✗ נכשל"})}),(0,c.jsx)("td",{className:"py-3 px-4 text-xs",children:(0,c.jsx)(j.Badge,{variant:"outline",className:"capitalize",children:a.source||"unknown"})}),(0,c.jsx)("td",{className:"py-3 px-4",children:(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>{l(a),n(!0)},className:"h-8 w-8 p-0",children:(0,c.jsx)(c1,{className:"h-4 w-4"})}),(0,c.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>A(a.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:(0,c.jsx)(cX.Trash2,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]}),(0,c.jsx)(a8.Dialog,{open:m,onOpenChange:n,children:(0,c.jsxs)(a8.DialogContent,{className:"max-w-2xl",children:[(0,c.jsxs)(a8.DialogHeader,{children:[(0,c.jsx)(a8.DialogTitle,{children:"פרטי חיפוש"}),(0,c.jsx)(a8.DialogDescription,{children:k&&(0,du.format)(new Date(k.createdAt),"dd/MM/yyyy HH:mm:ss",{locale:dv.he})})]}),k&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"עיר"}),(0,c.jsx)("p",{className:"mt-1",children:k.city||"-"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"מלון"}),(0,c.jsx)("p",{className:"mt-1",children:k.hotelName||"-"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Check-in"}),(0,c.jsx)("p",{className:"mt-1",children:k.dateFrom||"-"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Check-out"}),(0,c.jsx)("p",{className:"mt-1",children:k.dateTo||"-"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"אורחים"}),(0,c.jsxs)("p",{className:"mt-1",children:[k.adults||2," מבוגרים, ",k.children||0," ילדים"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"תוצאות"}),(0,c.jsx)("p",{className:"mt-1",children:k.resultsCount})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"מקור"}),(0,c.jsx)("p",{className:"mt-1 capitalize",children:k.source||"-"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"משך (ms)"}),(0,c.jsx)("p",{className:"mt-1",children:k.durationMs||"-"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"סטטוס"}),(0,c.jsx)("div",{className:"mt-1",children:(0,c.jsx)(j.Badge,{variant:k.success?"default":"destructive",className:k.success?"bg-green-600":"",children:k.success?"✓ מוצלח":"✗ נכשל"})})]}),k.errorMessage&&(0,c.jsxs)("div",{className:"bg-red-50 dark:bg-red-950 p-3 rounded",children:[(0,c.jsx)("label",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:"הודעת שגיאה"}),(0,c.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:k.errorMessage})]}),k.metadata&&(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"מטא דטה נוספת"}),(0,c.jsx)("pre",{className:"mt-2 bg-muted p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(k.metadata,null,2)})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs text-muted-foreground",children:[k.userId&&(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"font-medium",children:"User ID"}),(0,c.jsx)("p",{children:k.userId})]}),k.ipAddress&&(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"font-medium",children:"IP Address"}),(0,c.jsx)("p",{children:k.ipAddress})]})]})]})]})})]})}let dO=(0,cY.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),dP=(0,cY.default)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),dQ=(0,cY.default)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var dR=a.i(533350);function dS(){let[a,b]=(0,d.useState)(""),[e]=(0,d.useState)(dl),[f]=(0,d.useState)(dm),[g,i]=(0,d.useState)(null),k=e.filter(b=>b.title.toLowerCase().includes(a.toLowerCase())||b.summary.toLowerCase().includes(a.toLowerCase())||b.tags.some(b=>b.toLowerCase().includes(a.toLowerCase()))),l=a=>{switch(a){case"beginner":return"bg-green-500/10 text-green-500";case"intermediate":return"bg-yellow-500/10 text-yellow-500";case"advanced":return"bg-red-500/10 text-red-500"}};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(aY.Card,{children:(0,c.jsx)(aY.CardHeader,{children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(aY.CardTitle,{children:"מרכז ידע והנחיות"}),(0,c.jsx)(aY.CardDescription,{children:"מדריכים, הנחיות ומדיניות מערכת"})]}),(0,c.jsxs)(h.Button,{children:[(0,c.jsx)(dO,{className:"h-4 w-4 mr-2"}),"מאמר חדש"]})]})})}),(0,c.jsxs)(bM.Tabs,{defaultValue:"knowledge",dir:"rtl",children:[(0,c.jsxs)(bM.TabsList,{className:"grid w-full grid-cols-2",children:[(0,c.jsx)(bM.TabsTrigger,{value:"knowledge",children:"מרכז ידע"}),(0,c.jsx)(bM.TabsTrigger,{value:"guidelines",children:"הנחיות מערכת"})]}),(0,c.jsxs)(bM.TabsContent,{value:"knowledge",className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsx)(aY.CardDescription,{children:"סך המאמרים"}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl",children:e.length})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(c1,{className:"h-4 w-4 text-blue-500"}),"סך צפיות"]}),(0,c.jsx)(aY.CardTitle,{className:"text-3xl text-blue-500",children:e.reduce((a,b)=>a+b.views,0)})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(dP,{className:"h-4 w-4 text-green-500"}),"דירוג חיובי"]}),(0,c.jsxs)(aY.CardTitle,{className:"text-3xl text-green-500",children:[Math.round(e.reduce((a,b)=>a+b.helpful,0)/(e.reduce((a,b)=>a+b.helpful+b.notHelpful,0)||1)*100),"%"]})]})}),(0,c.jsx)(aY.Card,{children:(0,c.jsxs)(aY.CardHeader,{className:"pb-3",children:[(0,c.jsxs)(aY.CardDescription,{className:"flex items-center gap-2",children:[(0,c.jsx)(ds.Clock,{className:"h-4 w-4 text-purple-500"}),"זמן קריאה ממוצע"]}),(0,c.jsxs)(aY.CardTitle,{className:"text-3xl text-purple-500",children:[Math.round(e.reduce((a,b)=>a+b.estimatedReadTime,0)/e.length)," ","דק'"]})]})})]}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(de.Search,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(aP.Input,{placeholder:"חפש במרכז הידע...",value:a,onChange:a=>b(a.target.value),className:"pr-10"})]}),(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(a=>(0,c.jsxs)(aY.Card,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>i(a),children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,c.jsx)(aY.CardTitle,{className:"text-lg",children:a.title}),(0,c.jsxs)(j.Badge,{className:l(a.difficulty),children:["beginner"===a.difficulty&&"מתחילים","intermediate"===a.difficulty&&"בינוני","advanced"===a.difficulty&&"מתקדם"]})]}),(0,c.jsx)(aY.CardDescription,{children:a.summary})]}),(0,c.jsx)(aY.CardContent,{children:(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)("div",{className:"flex flex-wrap gap-1",children:a.tags.map(a=>(0,c.jsxs)(j.Badge,{variant:"outline",className:"text-xs",children:[(0,c.jsx)(dR.Tag,{className:"h-3 w-3 mr-1"}),a]},a))}),(0,c.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(c1,{className:"h-3 w-3"}),a.views]}),(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(dP,{className:"h-3 w-3 text-green-500"}),a.helpful]}),(0,c.jsxs)("span",{className:"flex items-center gap-1",children:[(0,c.jsx)(ds.Clock,{className:"h-3 w-3"}),a.estimatedReadTime," דק'"]})]}),a.relatedTemplates.length>0&&(0,c.jsx)("div",{className:"flex flex-wrap gap-1",children:a.relatedTemplates.map(a=>(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:a},a))})]})})]},a.id))}),0===k.length&&(0,c.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,c.jsx)(dO,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,c.jsx)("p",{children:"לא נמצאו מאמרים התואמים את החיפוש"})]})]}),(0,c.jsx)(bM.TabsContent,{value:"guidelines",className:"space-y-4",children:(0,c.jsx)("div",{className:"space-y-3",children:f.map(a=>(0,c.jsxs)(aY.Card,{className:a.mandatory?"border-yellow-500":"",children:[(0,c.jsx)(aY.CardHeader,{children:(0,c.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,c.jsx)(aY.CardTitle,{className:"text-lg",children:a.title}),a.mandatory&&(0,c.jsxs)(j.Badge,{className:"bg-yellow-500/10 text-yellow-500",children:[(0,c.jsx)(di.AlertTriangle,{className:"h-3 w-3 mr-1"}),"חובה"]})]}),(0,c.jsx)(aY.CardDescription,{children:a.content})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,c.jsxs)(j.Badge,{className:(a=>{switch(a){case"low":return"bg-blue-500/10 text-blue-500";case"medium":return"bg-yellow-500/10 text-yellow-500";case"high":return"bg-orange-500/10 text-orange-500";case"critical":return"bg-red-500/10 text-red-500"}})(a.priority),children:["low"===a.priority&&"נמוך","medium"===a.priority&&"בינוני","high"===a.priority&&"גבוה","critical"===a.priority&&"קריטי"]}),(0,c.jsxs)(j.Badge,{className:(a=>{switch(a){case"security":return"bg-red-500/10 text-red-500";case"operations":return"bg-blue-500/10 text-blue-500";case"development":return"bg-purple-500/10 text-purple-500";case"support":return"bg-green-500/10 text-green-500";case"compliance":return"bg-orange-500/10 text-orange-500"}})(a.category),children:["security"===a.category&&"אבטחה","operations"===a.category&&"תפעול","development"===a.category&&"פיתוח","support"===a.category&&"תמיכה","compliance"===a.category&&"תאימות"]})]})]})}),(0,c.jsx)(aY.CardContent,{children:(0,c.jsxs)("div",{className:"space-y-3",children:[a.enforcedRules.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-medium mb-2",children:"כללים נאכפים:"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-1",children:a.enforcedRules.map(a=>(0,c.jsx)(j.Badge,{variant:"secondary",className:"text-xs",children:a},a))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-medium mb-2",children:"חל על תפקידים:"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-1",children:a.applicableRoles.map(a=>(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:a},a))})]}),a.applicableTemplates.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-medium mb-2",children:"חל על טמפלטים:"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-1",children:a.applicableTemplates.map(a=>(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:a},a))})]})]})})]},a.id))})})]}),g&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,c.jsxs)(aY.Card,{className:"max-w-3xl w-full max-h-[80vh] overflow-y-auto",children:[(0,c.jsxs)(aY.CardHeader,{children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,c.jsx)(aY.CardTitle,{className:"text-2xl",children:g.title}),(0,c.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>i(null),children:"×"})]}),(0,c.jsx)(aY.CardDescription,{children:(0,c.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,c.jsx)(j.Badge,{className:l(g.difficulty),children:g.difficulty}),(0,c.jsxs)("span",{className:"flex items-center gap-1 text-sm",children:[(0,c.jsx)(c1,{className:"h-3 w-3"}),g.views," צפיות"]}),(0,c.jsxs)("span",{className:"flex items-center gap-1 text-sm",children:[(0,c.jsx)(ds.Clock,{className:"h-3 w-3"}),g.estimatedReadTime," דקות"]})]})})]}),(0,c.jsxs)(aY.CardContent,{className:"space-y-4",children:[(0,c.jsx)("div",{className:"prose prose-sm max-w-none",children:g.content}),(0,c.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t",children:[(0,c.jsx)("p",{className:"text-sm font-medium",children:"האם המאמר עזר לך?"}),(0,c.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,c.jsx)(dP,{className:"h-4 w-4 mr-2"}),"כן (",g.helpful,")"]}),(0,c.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,c.jsx)(dQ,{className:"h-4 w-4 mr-2"}),"לא (",g.notHelpful,")"]})]})]})]})})]})}a.i(382506);var dT=a.i(70465),dU=a.i(84266),dV=a.i(73903),dW=a.i(104551);function dX({rooms:a=[],searchQuery:b}){let[e,f]=(0,d.useState)(null),[g,h]=(0,d.useState)("list"),i=a.length>0?a:[{hotelName:"Luxury Suite",hotelId:"room-1",price:299,netPrice:280,category:"luxury",roomType:"Deluxe Suite",board:"BB",images:[{id:1,url:"sample-room-1.jpg",title:"Luxury Suite Main View",width:800,height:600}],cancellation:{type:"free",frames:[{from:new Date().toISOString(),to:new Date(Date.now()+6048e5).toISOString(),penalty:{amount:0,currency:"USD"}}]},specialOffers:[{id:"offer-1",title:"Early Bird",description:"20% off for bookings 30 days in advance",discount:20}]},{hotelName:"Standard Room",hotelId:"room-2",price:149,netPrice:135,category:"standard",roomType:"Standard Double",board:"RO",images:[{id:2,url:"sample-room-2.jpg",title:"Standard Room Main View",width:800,height:600}],cancellation:{type:"non-refundable"}}],j=a.length>0?a:i,k=b||{destination:"Tel Aviv",dateFrom:new Date().toISOString().split("T")[0],dateTo:new Date(Date.now()+2592e5).toISOString().split("T")[0],adults:2,children:[]},l=a=>{f(a)};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"תצוגת חדרים מתקדמת"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"תצוגה מקדימה של החדרים עם כל המידע והתמונות"})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("button",{onClick:()=>h("list"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"list"===g?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"רשימה"}),(0,c.jsx)("button",{onClick:()=>h("grid"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"grid"===g?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"רשת"})]})]}),"list"===g?(0,c.jsx)(dU.HotelResults,{hotels:j,searchQuery:k,onSelectHotel:l,isLoading:!1}):(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map((a,b)=>(0,c.jsx)(dT.HotelCard,{hotel:a,onSelect:l,nights:3},a.hotelId||b))}),e&&(0,c.jsxs)(aY.Card,{className:"p-6 mt-6 border-2 border-primary/20",children:[(0,c.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,c.jsx)("h3",{className:"text-xl font-bold text-foreground",children:"פרטי חדר נבחר"}),(0,c.jsx)("button",{onClick:()=>f(null),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"סגור"})]}),(0,c.jsxs)(bM.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,c.jsxs)(bM.TabsList,{className:"grid w-full grid-cols-2",children:[(0,c.jsx)(bM.TabsTrigger,{value:"basic",children:"מידע בסיסי"}),(0,c.jsx)(bM.TabsTrigger,{value:"enhanced",children:"מידע מורחב (Tavily)"})]}),(0,c.jsxs)(bM.TabsContent,{value:"basic",className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold text-lg mb-2",children:e.hotelName}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:e.roomType||"Standard Room"})]}),e.images&&e.images.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h5",{className:"font-medium text-sm mb-2",children:"גלריית תמונות"}),(0,c.jsx)(dV.HotelImageGallery,{hotel:e})]}),e.specialOffers&&e.specialOffers.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h5",{className:"font-medium text-sm mb-2",children:"מבצעים"}),(0,c.jsx)("div",{className:"space-y-2",children:e.specialOffers.map(a=>(0,c.jsxs)("div",{className:"p-3 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[(0,c.jsx)("div",{className:"font-medium text-sm",children:a.title}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:a.description}),a.discount&&(0,c.jsxs)("div",{className:"text-xs font-semibold text-purple-600 mt-1",children:[a.discount,"% הנחה"]})]},a.id))})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"מחיר ללילה"}),(0,c.jsxs)("div",{className:"text-2xl font-bold",children:["$",e.price]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"קטגוריה"}),(0,c.jsx)("div",{className:"text-lg font-medium capitalize",children:e.category})]})]})]}),(0,c.jsx)(bM.TabsContent,{value:"enhanced",children:(0,c.jsx)(dW.HotelDetailsEnhanced,{hotel:e,city:k.destination})})]})]}),(0,c.jsx)(aY.Card,{className:"p-4 bg-blue-500/10 border-blue-500/20",children:(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)("div",{className:"rounded-full bg-blue-500/20 p-2",children:(0,c.jsx)("svg",{className:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium text-sm text-foreground",children:"תצוגה מתקדמת של חדרים"}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"קומפוננטות אלו משתמשות בטכנולוגיות מתקדמות מפרויקט Sunday לתצוגה מקצועית של חדרים, כולל גלריות תמונות, מידע מפורט, ואנימציות."})]})]})})]})}var dY=a.i(819721),dZ=a.i(395116);let d$=[{id:"booking-1",hotelId:"hotel-1",confirmationNumber:"GA1234567",status:"confirmed",checkIn:(0,a0.addDays)(new Date,2),checkOut:(0,a0.addDays)(new Date,5),nights:3,guests:{adults:2,children:0},rooms:[{room:dZ.mockRooms[0],ratePlan:dZ.mockRatePlans[0],quantity:1}],guestDetails:{firstName:"יוסי",lastName:"כהן",email:"yossi@example.com",phone:"+972-50-1234567",country:"IL"},pricing:{subtotal:2550,taxes:433.5,fees:0,discount:0,total:2983.5,currency:"ILS"},createdAt:(0,a0.subDays)(new Date,5)},{id:"booking-2",hotelId:"hotel-1",confirmationNumber:"GA1234568",status:"confirmed",checkIn:new Date,checkOut:(0,a0.addDays)(new Date,2),nights:2,guests:{adults:4,children:2},rooms:[{room:dZ.mockRooms[3],ratePlan:dZ.mockRatePlans[6],quantity:1}],guestDetails:{firstName:"שרה",lastName:"לוי",email:"sarah@example.com",phone:"+972-52-9876543",country:"IL"},pricing:{subtotal:3700,taxes:629,fees:0,discount:0,total:4329,currency:"ILS"},createdAt:(0,a0.subDays)(new Date,10)},{id:"booking-3",hotelId:"hotel-1",confirmationNumber:"GA1234569",status:"pending",checkIn:(0,a0.addDays)(new Date,7),checkOut:(0,a0.addDays)(new Date,10),nights:3,guests:{adults:2,children:1},rooms:[{room:dZ.mockRooms[1],ratePlan:dZ.mockRatePlans[3],quantity:1}],guestDetails:{firstName:"David",lastName:"Cohen",email:"david@example.com",phone:"+1-555-0123",country:"US"},pricing:{subtotal:4350,taxes:739.5,fees:0,discount:0,total:5089.5,currency:"ILS"},createdAt:(0,a0.subDays)(new Date,2)},{id:"booking-4",hotelId:"hotel-1",confirmationNumber:"GA1234570",status:"cancelled",checkIn:(0,a0.addDays)(new Date,1),checkOut:(0,a0.addDays)(new Date,3),nights:2,guests:{adults:2,children:0},rooms:[{room:dZ.mockRooms[2],ratePlan:dZ.mockRatePlans[5],quantity:1}],guestDetails:{firstName:"מיכל",lastName:"אברהם",email:"michal@example.com",phone:"+972-54-5555555",country:"IL"},pricing:{subtotal:1100,taxes:187,fees:0,discount:0,total:1287,currency:"ILS"},createdAt:(0,a0.subDays)(new Date,8)}],d_=3,d0=5,d1=78,d2=4,d3=18,d4=245680,d5=87,d6=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M13 4h3a2 2 0 0 1 2 2v14"}),(0,c.jsx)("path",{d:"M2 20h3"}),(0,c.jsx)("path",{d:"M13 20h9"}),(0,c.jsx)("path",{d:"M10 12v.01"}),(0,c.jsx)("path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z"})]}),d7=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14"}),(0,c.jsx)("path",{d:"M2 20h20"}),(0,c.jsx)("path",{d:"M14 12v.01"})]}),d8=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),(0,c.jsx)("polyline",{points:"16 7 22 7 22 13"})]}),d9=({className:a})=>(0,c.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,c.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,c.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),ea=(0,dY.default)(async()=>{},{loadableGenerated:{modules:[70471]},ssr:!1});function eb(){let a,{currentHotel:b}=(0,e.useHotelConfig)(),[f,h]=(0,d.useState)(dZ.mockHotel),[i,j]=(0,d.useState)("dashboard"),[k,l]=(0,d.useState)(!1),[m,n]=(0,d.useState)(!1);(0,d.useEffect)(()=>{document.documentElement.classList.add("dark");let a=()=>n(window.innerWidth<1024);return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);let o={dashboard:{title:"לוח בקרה",subtitle:"סקירה כללית של פעילות המלון"},bookings:{title:"ניהול הזמנות",subtitle:"צפה ונהל את כל ההזמנות במלון"},rooms:{title:"ניהול חדרים",subtitle:"נהל את סוגי החדרים והזמינות"},roomtypes:{title:"סוגי חדרים",subtitle:"הגדר תמונות, תיאורים ומתקנים לכל סוג חדר"},showcase:{title:"תצוגת חדרים מתקדמת",subtitle:"תצוגה מקצועית של חדרים עם תמונות ומידע (Sunday)"},pricing:{title:"ניהול תמחור",subtitle:"הגדר מחירים דינמיים לפי תאריכים"},promotions:{title:"ניהול מבצעים",subtitle:"צור ונהל מבצעים ומבצעים מיוחדים למובייל"},templates:{title:"ניהול טמפלטים",subtitle:"שליטה מלאה על כל הטמפלטים, סטטוס והרשאות"},activitylogs:{title:"יומן פעילות",subtitle:"מעקב אחר כל הפעילות במערכת"},searchlogs:{title:"יומן חיפושים",subtitle:"מעקב אחר כל החיפושים והשאילתות"},sessions:{title:"כניסות משתמשים",subtitle:"ניהול סשנים פעילים והיסטוריה"},systemlogs:{title:"לוגים",subtitle:"לוגים טכניים ושגיאות מערכת"},knowledge:{title:"מרכז ידע והנחיות",subtitle:"מדריכים, הנחיות ומדיניות מערכת"},permissions:{title:"ניהול הרשאות",subtitle:"הגדר הרשאות לטמפלטים ומשתמשים"},engines:{title:"הגדרות מנועים",subtitle:"הפעל וכבה מנועי הזמנות והגדר את ה-API"},agents:{title:"ניהול סוכנים",subtitle:"צור ונהל סוכני AI בעלי התמחויות שונות"},aiconfig:{title:"הגדרות AI",subtitle:"הנחיות, ידע וסגנון לצ'אט AI"},embed:{title:"הטמעה באתר",subtitle:"קבל קוד להטמעת מנועי ההזמנות"},aichat:{title:"צ'אט AI - תצוגה מקדימה",subtitle:"בדוק את העוזר הווירטואלי להזמנות"},settings:{title:"הגדרות מלון",subtitle:"נהל את פרטי המלון והעדפות"}};return(0,c.jsxs)("div",{className:"min-h-screen bg-background dark",dir:"rtl",children:[m?(0,c.jsx)(aO,{activeTab:i,onTabChange:j,hotelName:b?.name||f.name}):(0,c.jsx)(ah,{activeTab:i,onTabChange:j,hotelName:b?.name||f.name,collapsed:k,onCollapsedChange:l}),(0,c.jsxs)("main",{className:(0,g.cn)("transition-all duration-300",!m&&(k?"mr-[72px]":"mr-64")),children:[(0,c.jsx)(aW,{title:o[i]?.title||"לוח בקרה",subtitle:o[i]?.subtitle,onMenuClick:()=>l(!k),searchPlaceholder:"חפש הזמנות, אורחים...",children:(0,c.jsx)(ci,{})}),(0,c.jsxs)("div",{className:"p-6",children:["dashboard"===i&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,c.jsx)(a_,{title:"צ'ק-אין היום",value:d_,icon:(0,c.jsx)(d6,{className:"h-5 w-5"}),subtitle:"הגעות צפויות",iconClassName:"bg-green-500/10"}),(0,c.jsx)(a_,{title:"צ'ק-אאוט היום",value:d0,icon:(0,c.jsx)(d7,{className:"h-5 w-5"}),subtitle:"עזיבות צפויות",iconClassName:"bg-blue-500/10"}),(0,c.jsx)(a_,{title:"תפוסה",value:`${d1}%`,icon:(0,c.jsx)(d8,{className:"h-5 w-5"}),subtitle:`${d3-d2}/${d3} חדרים`,trend:{value:12,isPositive:!0},iconClassName:"bg-purple-500/10"}),(0,c.jsx)(a_,{title:"הכנסות חודשיות",value:(a=d4,new Intl.NumberFormat("he-IL",{style:"currency",currency:f.currency,minimumFractionDigits:0}).format(a)),icon:(0,c.jsx)(d9,{className:"h-5 w-5"}),subtitle:`${d5} הזמנות`,trend:{value:8,isPositive:!0},iconClassName:"bg-yellow-500/10"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,c.jsx)(cm,{}),(0,c.jsx)(cn,{})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,c.jsx)(ct,{bookings:d$}),(0,c.jsx)(cy,{})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,c.jsx)(co,{}),(0,c.jsx)(cp,{}),(0,c.jsx)("div",{className:"hidden lg:block"})]})]}),"bookings"===i&&(0,c.jsx)(bg,{bookings:d$}),"rooms"===i&&(0,c.jsx)(b1,{rooms:dZ.mockRooms}),"roomtypes"===i&&(0,c.jsx)(c9,{}),"showcase"===i&&(0,c.jsx)(dX,{}),"pricing"===i&&(0,c.jsx)(cg,{rooms:dZ.mockRooms}),"promotions"===i&&(0,c.jsx)(ea,{}),"templates"===i&&(0,c.jsx)(dn,{}),"activitylogs"===i&&(0,c.jsx)(dw,{}),"searchlogs"===i&&(0,c.jsx)(dN,{}),"sessions"===i&&(0,c.jsx)(dK,{}),"systemlogs"===i&&(0,c.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"לוגים טכניים - בקרוב"}),"knowledge"===i&&(0,c.jsx)(dS,{}),"permissions"===i&&(0,c.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"ניהול הרשאות - בקרוב"}),"engines"===i&&(0,c.jsx)(cc,{}),"agents"===i&&(0,c.jsx)(cU,{}),"aiconfig"===i&&(0,c.jsx)(cJ,{}),"embed"===i&&(0,c.jsx)(ca,{}),"aichat"===i&&b?.enableAiChat&&(0,c.jsx)("div",{className:"max-w-lg mx-auto h-[700px] rounded-2xl overflow-hidden shadow-2xl border border-white/10",children:(0,c.jsx)(cz.ChatInterface,{language:"he",embedded:!0})}),"aichat"===i&&!b?.enableAiChat&&(0,c.jsxs)("div",{className:"text-center py-20",children:[(0,c.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:(0,c.jsx)("svg",{className:"w-8 h-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,c.jsx)("h3",{className:"text-lg font-medium mb-2",children:"צ'אט AI לא מופעל"}),(0,c.jsx)("p",{className:"text-muted-foreground mb-4",children:"הפעל את צ'אט AI בהגדרות המנועים כדי לראות תצוגה מקדימה"}),(0,c.jsx)("button",{onClick:()=>j("engines"),className:"text-primary hover:underline",children:"עבור להגדרות מנועים"})]}),"settings"===i&&(0,c.jsx)(b7,{hotel:f,onSave:a=>{h(a),aX.toast.success("הגדרות נשמרו בהצלחה!")}})]})]})]})}function ec(){return(0,c.jsx)(f.ErrorBoundary,{children:(0,c.jsx)(e.HotelConfigProvider,{children:(0,c.jsx)(eb,{})})})}a.s(["default",()=>ec],288367)}];

//# sourceMappingURL=_a16a53a0._.js.map