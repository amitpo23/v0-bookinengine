module.exports=[75805,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(77421),f=a.i(76472),g=a.i(13749),h=a.i(32860),i=a.i(40695),j=a.i(3130),k=a.i(14904),l=a.i(5522),m=a.i(33350),n=a.i(16201),o=a.i(92e3),p=a.i(96221);function q({onPromoApplied:a,hotelId:d,variant:e="default"}){let[f,g]=(0,c.useState)(""),[h,j]=(0,c.useState)(!1),[k,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(null),t=async()=>{if(!f.trim())return void q("אנא הזן קוד הנחה");j(!0),q(null),s(null);try{let b=await fetch("/api/promo/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:f,hotelId:d})}),c=await b.json();b.ok&&c.valid?(s(`קוד הופעל! ${c.discount}% הנחה`),a(f,c.discount)):q(c.message||"קוד לא תקין")}catch(a){q("שגיאה בבדיקת הקוד")}finally{j(!1)}};return(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(m.Tag,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 ${"dark"===e?"text-gray-400":"text-gray-500"}`}),(0,b.jsx)(l.Input,{type:"text",placeholder:"הזן קוד הנחה",value:f,onChange:a=>g(a.target.value.toUpperCase()),onKeyPress:a=>"Enter"===a.key&&t(),disabled:h,className:`pr-10 ${"dark"===e?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"luxury"===e?"border-amber-300 focus:border-amber-500":"family"===e?"border-purple-300 focus:border-orange-400":""}`,dir:"ltr"})]}),(0,b.jsx)(i.Button,{onClick:t,disabled:h||!f.trim(),className:"dark"===e?"bg-white/20 hover:bg-white/30 text-white":"luxury"===e?"bg-amber-600 hover:bg-amber-700 text-white":"family"===e?"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white":"",children:h?(0,b.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"}):"החל"})]}),k&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-500",children:[(0,b.jsx)(o.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:k})]}),r&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-500",children:[(0,b.jsx)(n.CheckCircle,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:r})]})]})}var r=a.i(55174),s=a.i(71670),t=a.i(50522),u=a.i(15618);function v({addons:a,onAddAddon:d,currency:e="₪"}){let h=(0,c.useRef)(null),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!0),n=a=>{h.current&&h.current.scrollBy({left:"left"===a?-300:300,behavior:"smooth"})};return(0,b.jsxs)("div",{className:"w-full bg-gradient-to-b from-black to-gray-900 p-8 rounded-lg",dir:"rtl",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,b.jsx)(f.Heart,{className:"h-6 w-6 text-red-500"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"שדרגו את החוויה"}),(0,b.jsx)(f.Heart,{className:"h-6 w-6 text-pink-500"})]}),(0,b.jsx)("p",{className:"text-lg text-gray-300",children:"הוסיפו את אחת מחבילות הפינוק שלנו או המשיכו לאישור הזמנתכם"})]}),(0,b.jsxs)("div",{className:"relative",children:[j&&(0,b.jsx)("button",{onClick:()=>n("left"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 bg-gradient-to-r from-red-600 to-pink-600 shadow-xl shadow-red-500/50 rounded-full flex items-center justify-center hover:scale-110 transition-transform",children:(0,b.jsx)(t.ChevronRight,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("div",{ref:h,onScroll:()=>{if(!h.current)return;let{scrollLeft:a,scrollWidth:b,clientWidth:c}=h.current;k(a>0),m(a<b-c-10)},className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:a.map(a=>(0,b.jsxs)("div",{className:"flex-shrink-0 w-72 bg-gradient-to-br from-gray-900 to-black rounded-xl shadow-xl overflow-hidden border border-red-500/20 hover:border-pink-500/50 transition-all duration-300 hover:scale-105",children:[(0,b.jsxs)("div",{className:"h-48 overflow-hidden relative group",children:[(0,b.jsx)("img",{src:a.image||"/placeholder.svg",alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsx)("h3",{className:"font-bold text-white text-xl mb-3",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-300 line-clamp-2 mb-4",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(i.Button,{onClick:()=>d?.(a),className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white gap-2 shadow-lg shadow-red-500/30",children:[(0,b.jsx)(u.Plus,{className:"w-5 h-5"}),"הוסף"]}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-white",children:[a.price," ",(0,b.jsx)("span",{className:"text-red-400",children:e})]})]}),a.moreInfoLink&&(0,b.jsx)("button",{className:"text-pink-400 text-sm hover:text-pink-300 mt-3 underline",children:"קרא עוד"})]})]},a.id))}),l&&(0,b.jsx)("button",{onClick:()=>n("right"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-12 h-12 bg-gradient-to-r from-red-600 to-pink-600 shadow-xl shadow-red-500/50 rounded-full flex items-center justify-center hover:scale-110 transition-transform",children:(0,b.jsx)(g.ChevronLeft,{className:"w-6 h-6 text-white"})})]}),(0,b.jsx)("div",{className:"text-center mt-8",children:(0,b.jsx)("button",{className:"text-gray-400 hover:text-white underline transition-colors",children:"דלג ומשך להזמנה"})})]})}var w=a.i(41675),x=a.i(60246),y=a.i(8406),z=a.i(56711),A=a.i(24843);function B({checkIn:a,checkOut:c,nights:d=1,rooms:e=1,guests:g=2,selectedRoom:h,addons:j=[],totalPrice:k,onBook:l,currency:m="₪"}){let n=j.reduce((a,b)=>a+b.price,0);return(0,b.jsx)("div",{className:"w-96 flex-shrink-0",dir:"rtl",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-2xl shadow-2xl border border-red-500/20 overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 p-6 text-center",children:[(0,b.jsx)(f.Heart,{className:"h-10 w-10 text-white mx-auto mb-3 animate-pulse"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"סיכום ההזמנה"})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(w.Calendar,{className:"h-5 w-5 text-red-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"תאריכי השהייה"})]}),(0,b.jsxs)("div",{className:"text-gray-300 space-y-2",children:[a&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"כניסה:"}),(0,b.jsx)("span",{className:"font-medium",children:(0,z.format)(a,"d בMMM yyyy",{locale:A.he})})]}),c&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"יציאה:"}),(0,b.jsx)("span",{className:"font-medium",children:(0,z.format)(c,"d בMMM yyyy",{locale:A.he})})]}),(0,b.jsxs)("div",{className:"flex justify-between pt-2 border-t border-white/10",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"סך הכל:"}),(0,b.jsxs)("span",{className:"font-bold text-white",children:[d," לילות"]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(x.Users,{className:"h-5 w-5 text-pink-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"פרטי האירוח"})]}),(0,b.jsxs)("div",{className:"text-gray-300 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"חדרים:"}),(0,b.jsx)("span",{className:"font-medium",children:e})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"אורחים:"}),(0,b.jsxs)("span",{className:"font-medium",children:[g," מבוגרים"]})]})]})]}),h&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-900/20 to-pink-900/20 rounded-lg p-4 border border-red-500/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(y.Sparkles,{className:"h-5 w-5 text-yellow-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"החדר שבחרתם"})]}),(0,b.jsx)("h4",{className:"text-white font-bold text-lg mb-2",children:h.name}),h.board&&(0,b.jsx)("p",{className:"text-gray-300 text-sm mb-2",children:h.board}),h.specialOffer&&(0,b.jsx)("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded px-3 py-2 mb-3",children:(0,b.jsxs)("span",{className:"text-yellow-300 text-sm",children:["✨ ",h.specialOffer]})}),(0,b.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-white/10",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"מחיר לילה:"}),(0,b.jsxs)("span",{className:"text-red-400 font-bold text-xl",children:[h.price," ",m]})]})]}),j.length>0&&(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-3",children:"תוספות שנבחרו"}),(0,b.jsxs)("div",{className:"space-y-2",children:[j.map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-gray-300",children:["• ",a.name]}),(0,b.jsxs)("span",{className:"text-gray-300",children:[a.price," ",m]})]},c)),(0,b.jsxs)("div",{className:"flex justify-between pt-2 border-t border-white/10 font-bold",children:[(0,b.jsx)("span",{className:"text-white",children:'סה"כ תוספות:'}),(0,b.jsxs)("span",{className:"text-pink-400",children:[n," ",m]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 rounded-lg p-5 text-center",children:[(0,b.jsx)("p",{className:"text-white/90 text-sm mb-2",children:'סה"כ לתשלום'}),(0,b.jsxs)("p",{className:"text-white font-bold text-4xl mb-1",children:[(k||0)+n," ",(0,b.jsx)("span",{className:"text-2xl",children:m})]}),(0,b.jsx)("p",{className:"text-white/70 text-xs",children:'כולל מע"ם'})]}),l&&(0,b.jsxs)(i.Button,{onClick:l,className:"w-full h-14 bg-white hover:bg-gray-100 text-black font-bold text-lg shadow-xl hover:scale-105 transition-transform",children:[(0,b.jsx)(f.Heart,{className:"w-5 h-5 ml-2 text-red-500"}),"השלם הזמנה"]}),(0,b.jsxs)("div",{className:"flex justify-center gap-3 pt-4 border-t border-white/10",children:[(0,b.jsx)("span",{className:"text-gray-400 text-sm",children:"שתפו:"}),(0,b.jsx)("button",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white hover:scale-110 transition-transform",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"})})}),(0,b.jsx)("button",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white hover:scale-110 transition-transform",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})})]})]})]})})}var C=a.i(28297),D=a.i(44997),E=a.i(71607),F=a.i(29457),G=a.i(44034),H=a.i(38246);function I(){let{t:a,locale:l,dir:m}=(0,F.useI18n)(),n=(0,d.useRouter)(),o=(0,d.useSearchParams)(),p=o.get("room"),t=o.get("checkIn"),u=o.get("checkOut"),w=o.get("guests"),[x,y]=(0,c.useState)(1),[z]=(0,c.useState)(p||""),[A]=(0,c.useState)(t?new Date(t):(0,e.addDays)(new Date,1)),[I]=(0,c.useState)(u?new Date(u):(0,e.addDays)(new Date,3)),[J]=(0,c.useState)(w?parseInt(w):2),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(!1),Q=k.scarletRoomTypes.find(a=>a.id===z),R=Math.ceil((I.getTime()-A.getTime())/864e5),S=(Q?Q.basePrice*R:0)+K.reduce((a,b)=>a+b.price,0);(0,c.useEffect)(()=>{(0,s.trackPageView)("/templates/scarlet/booking"),(0,s.trackEvent)({event:"booking_started",booking_room:z})},[z]),(0,c.useEffect)(()=>{let a="he"===l?`הזמנת חדר - ${k.scarletHotelConfig.hebrewName}`:"Room Booking - Scarlet Hotel Tel Aviv";document.title=a},[l]);let T=()=>{1===x&&(0,s.trackEvent)({event:"addons_selected",addon_count:K.length}),y(x+1)},U=()=>{y(x-1)},V=async()=>{P(!0);try{await new Promise(a=>setTimeout(a,2e3)),y(4),(0,s.trackEvent)({event:"purchase",transaction_id:`SCARLET-${Date.now()}`,value:S})}catch(a){console.error("Booking error:",a)}finally{P(!1)}};return Q?(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black",dir:m,children:[(0,b.jsx)("header",{className:"sticky top-0 z-50 backdrop-blur-lg bg-black/70 border-b border-white/10",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)(H.default,{href:"/templates/scarlet",className:"flex items-center gap-2",children:[(0,b.jsx)(f.Heart,{className:"h-8 w-8 text-red-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",style:{fontFamily:"var(--font-assistant)"},children:k.scarletHotelConfig.hebrewName}),(0,b.jsx)("p",{className:"text-sm text-gray-400",style:{fontFamily:"var(--font-assistant)"},children:a("bookingYourRoom")})]})]}),(0,b.jsx)(G.LanguageSwitcher,{})]})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-4 mb-8",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${x>=a?"bg-gradient-to-r from-red-600 to-pink-600 text-white":"bg-gray-700 text-gray-400"}`,children:a}),a<4&&(0,b.jsx)("div",{className:`w-12 h-1 ${x>a?"bg-gradient-to-r from-red-600 to-pink-600":"bg-gray-700"}`})]},a))}),(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)(j.Card,{className:"bg-gradient-to-b from-gray-900 to-black border-red-500/20 p-6",children:[1===x&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",style:{fontFamily:"var(--font-assistant)"},children:a("addExtras")}),(0,b.jsx)(v,{onAddonsChange:L}),(0,b.jsxs)("div",{className:"mt-8 flex justify-between",children:[(0,b.jsx)(H.default,{href:"/templates/scarlet",children:(0,b.jsxs)(i.Button,{variant:"outline",className:"border-red-500/30",children:[(0,b.jsx)(g.ChevronLeft,{className:"ml-2 h-5 w-5"}),a("back")]})}),(0,b.jsxs)(i.Button,{onClick:T,className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700",children:[a("continueToGuestDetails"),(0,b.jsx)(h.ArrowRight,{className:"mr-2 h-5 w-5"})]})]})]}),2===x&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",style:{fontFamily:"var(--font-assistant)"},children:a("guestDetails")}),(0,b.jsx)(C.GuestDetailsForm,{onSubmit:a=>{N(a),T()},isLoading:!1}),(0,b.jsxs)(i.Button,{onClick:U,variant:"outline",className:"w-full mt-4 border-red-500/30",children:[(0,b.jsx)(g.ChevronLeft,{className:"ml-2 h-5 w-5"}),a("back")]})]}),3===x&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",style:{fontFamily:"var(--font-assistant)"},children:a("paymentDetails")}),(0,b.jsx)(D.PaymentForm,{totalPrice:S,currency:"ILS",onSubmit:V,isLoading:O}),(0,b.jsxs)(i.Button,{onClick:U,variant:"outline",className:"w-full mt-4 border-red-500/30",disabled:O,children:[(0,b.jsx)(g.ChevronLeft,{className:"ml-2 h-5 w-5"}),a("back")]})]}),4===x&&(0,b.jsx)(E.BookingConfirmation,{bookingId:`SCARLET-${Date.now()}`,hotelName:"he"===l?k.scarletHotelConfig.hebrewName:a("scarletHotelName"),roomName:Q.hebrewName,checkIn:A,checkOut:I,guests:J,total:S,onNewBooking:()=>n.push("/templates/scarlet")})]})}),(0,b.jsxs)("div",{className:"lg:w-80",children:[(0,b.jsx)(B,{checkIn:A,checkOut:I,nights:R,rooms:1,guests:J,selectedRoom:{name:Q.hebrewName,price:Q.basePrice},addons:K,totalPrice:S,currency:"₪"}),(0,b.jsx)(j.Card,{className:"mt-4 bg-gray-900/80 border-red-500/30 p-4",children:(0,b.jsx)(q,{hotelId:k.scarletHotelConfig.hotelId,onApplySuccess:()=>{(0,s.trackEvent)({event:"promo_code_applied"})}})}),(0,b.jsx)(j.Card,{className:"mt-4 bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-500/30 p-4",children:(0,b.jsx)(r.LoyaltyBadge,{hotelId:k.scarletHotelConfig.hotelId,variant:"luxury"})})]})]})]})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black flex items-center justify-center p-4",children:(0,b.jsxs)(j.Card,{className:"bg-gray-900/80 border-red-500/30 p-8 max-w-md text-center",children:[(0,b.jsx)(f.Heart,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",style:{fontFamily:"var(--font-assistant)"},children:a("roomNotSelected")}),(0,b.jsx)("p",{className:"text-gray-300 mb-6",style:{fontFamily:"var(--font-assistant)"},children:a("pleaseSelectRoomFirst")}),(0,b.jsx)(H.default,{href:"/templates/scarlet",children:(0,b.jsx)(i.Button,{className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700",children:a("backToHotel")})})]})})}a.s(["default",0,function(){return(0,b.jsx)(F.I18nProvider,{children:(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-white text-xl",children:"Loading..."})}),children:(0,b.jsx)(I,{})})})}],75805)}];

//# sourceMappingURL=app_templates_scarlet_booking_page_tsx_af422672._.js.map