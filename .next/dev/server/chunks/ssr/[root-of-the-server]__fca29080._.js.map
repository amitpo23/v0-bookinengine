{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/v0-bookinengine/components/providers/session-provider.tsx"],"sourcesContent":["'use client'\n\nimport { SessionProvider as NextAuthSessionProvider } from 'next-auth/react'\nimport { ReactNode } from 'react'\n\nexport function SessionProvider({ children }: { children: ReactNode }) {\n  return (\n    <NextAuthSessionProvider>\n      {children}\n    </NextAuthSessionProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKO,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;IACnE,qBACE,8OAAC,iKAAuB;kBACrB;;;;;;AAGP"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/v0-bookinengine/types/features.ts"],"sourcesContent":["/**\n * Feature Flags System\n * ××¢×¨×›×ª × ×™×”×•×œ ×ª×›×•× ×•×ª - ××“××™×Ÿ ×™×›×•×œ ×œ×”×¤×¢×™×œ/×œ×›×‘×•×ª ×ª×›×•× ×•×ª ×œ×›×œ ×˜××¤×œ×˜ ××• ×œ-AI\n */\n\nexport type FeatureId =\n  | 'email-notifications'\n  | 'sms-notifications'\n  | 'push-notifications'\n  | 'booking-reminders'\n  | 'price-alerts'\n  | 'price-history'\n  | 'best-time-to-book'\n  | 'reviews-system'\n  | 'photo-uploads'\n  | 'rating-aggregation'\n  | 'google-maps'\n  | 'nearby-attractions'\n  | 'street-view'\n  | 'loyalty-program'\n  | 'cashback'\n  | 'referral-program'\n  | 'group-bookings'\n  | 'split-payment'\n  | 'booking-modification'\n  | 'room-upgrade'\n  | 'multi-room-booking'\n  | 'advanced-analytics'\n  | 'export-pdf'\n  | 'qr-checkin'\n  | 'real-time-updates'\n  | 'chat-support'\n  | 'multilingual-support'\n  | 'currency-converter'\n  | 'weather-info'\n  | 'local-events'\n  | 'transportation-info';\n\nexport interface Feature {\n  id: FeatureId;\n  name: string;\n  nameHe: string;\n  description: string;\n  descriptionHe: string;\n  category: FeatureCategory;\n  icon: string;\n  enabled: boolean;\n  premium?: boolean; // ×¨×§ ×œ×× ×•×™×™ premium\n  requiredApis?: string[]; // APIs × ×“×¨×©×™× (Google Maps, SendGrid, etc.)\n}\n\nexport type FeatureCategory =\n  | 'notifications'\n  | 'pricing'\n  | 'reviews'\n  | 'location'\n  | 'loyalty'\n  | 'booking'\n  | 'analytics'\n  | 'support'\n  | 'localization'\n  | 'travel-info';\n\nexport interface TemplateFeatureConfig {\n  templateId: 'nara' | 'modern-dark' | 'luxury' | 'family';\n  templateName: string;\n  enabledFeatures: FeatureId[];\n  customization?: {\n    primaryColor?: string;\n    showLogo?: boolean;\n    showReviews?: boolean;\n    showMap?: boolean;\n    showWeather?: boolean;\n  };\n}\n\nexport interface AIAgentConfig {\n  agentId: string;\n  agentName: string;\n  enabledFeatures: FeatureId[];\n  personality?: {\n    tone: 'professional' | 'friendly' | 'casual';\n    language: 'en' | 'he' | 'both';\n  };\n  capabilities?: {\n    canSuggestPriceAlerts: boolean;\n    canShowMap: boolean;\n    canAccessReviews: boolean;\n    canOfferLoyaltyPoints: boolean;\n  };\n}\n\nexport interface FeatureConfig {\n  templates: TemplateFeatureConfig[];\n  aiAgent: AIAgentConfig;\n  globalSettings: {\n    defaultCurrency: string;\n    defaultLanguage: string;\n    maintenanceMode: boolean;\n    betaFeatures: boolean;\n  };\n}\n\n// ×¨×©×™××ª ×›×œ ×”×ª×›×•× ×•×ª ×”××¤×©×¨×™×•×ª\nexport const AVAILABLE_FEATURES: Feature[] = [\n  // Notifications\n  {\n    id: 'email-notifications',\n    name: 'Email Notifications',\n    nameHe: '×”×ª×¨××•×ª ××™××™×™×œ',\n    description: 'Send booking confirmations and updates via email',\n    descriptionHe: '×©×œ×™×—×ª ××™×©×•×¨×™ ×”×–×× ×” ×•×¢×“×›×•× ×™× ×‘××™××™×™×œ',\n    category: 'notifications',\n    icon: 'ğŸ“§',\n    enabled: false,\n    requiredApis: ['Resend', 'SendGrid'],\n  },\n  {\n    id: 'sms-notifications',\n    name: 'SMS Notifications',\n    nameHe: '×”×ª×¨××•×ª SMS',\n    description: 'Send booking updates via SMS',\n    descriptionHe: '×©×œ×™×—×ª ×¢×“×›×•× ×™ ×”×–×× ×” ×‘-SMS',\n    category: 'notifications',\n    icon: 'ğŸ’¬',\n    enabled: false,\n    premium: true,\n    requiredApis: ['Twilio', 'AWS SNS'],\n  },\n  {\n    id: 'push-notifications',\n    name: 'Push Notifications',\n    nameHe: '×”×ª×¨××•×ª Push',\n    description: 'Browser push notifications for updates',\n    descriptionHe: '×”×ª×¨××•×ª ×“×¤×“×¤×Ÿ ×œ×¢×“×›×•× ×™×',\n    category: 'notifications',\n    icon: 'ğŸ””',\n    enabled: false,\n  },\n  {\n    id: 'booking-reminders',\n    name: 'Booking Reminders',\n    nameHe: '×ª×–×›×•×¨×•×ª ×”×–×× ×”',\n    description: 'Automatic reminders before check-in',\n    descriptionHe: '×ª×–×›×•×¨×•×ª ××•×˜×•××˜×™×•×ª ×œ×¤× ×™ check-in',\n    category: 'notifications',\n    icon: 'â°',\n    enabled: false,\n  },\n\n  // Pricing\n  {\n    id: 'price-alerts',\n    name: 'Price Alerts',\n    nameHe: '×”×ª×¨××•×ª ××—×™×¨',\n    description: 'Alert users when prices drop',\n    descriptionHe: '×”×ª×¨××” ×œ××©×ª××©×™× ×›×©××—×™×¨×™× ×™×•×¨×“×™×',\n    category: 'pricing',\n    icon: 'ğŸ’°',\n    enabled: false,\n  },\n  {\n    id: 'price-history',\n    name: 'Price History',\n    nameHe: '×”×™×¡×˜×•×¨×™×™×ª ××—×™×¨×™×',\n    description: 'Show price trends over time',\n    descriptionHe: '×”×¦×’×ª ××’××•×ª ××—×™×¨ ×œ××•×¨×š ×–××Ÿ',\n    category: 'pricing',\n    icon: 'ğŸ“ˆ',\n    enabled: false,\n    premium: true,\n  },\n  {\n    id: 'best-time-to-book',\n    name: 'Best Time to Book',\n    nameHe: '×–××Ÿ ××•××œ×¥ ×œ×”×–×× ×”',\n    description: 'AI recommendations for best booking time',\n    descriptionHe: '×”××œ×¦×•×ª AI ×œ×–××Ÿ ×”×–×× ×” ××™×˜×‘×™',\n    category: 'pricing',\n    icon: 'ğŸ¯',\n    enabled: false,\n    premium: true,\n  },\n\n  // Reviews\n  {\n    id: 'reviews-system',\n    name: 'Reviews System',\n    nameHe: '××¢×¨×›×ª ×‘×™×§×•×¨×•×ª',\n    description: 'User reviews and ratings',\n    descriptionHe: '×‘×™×§×•×¨×•×ª ×•×“×™×¨×•×’×™ ××©×ª××©×™×',\n    category: 'reviews',\n    icon: 'â­',\n    enabled: false,\n  },\n  {\n    id: 'photo-uploads',\n    name: 'Photo Uploads',\n    nameHe: '×”×¢×œ××ª ×ª××•× ×•×ª',\n    description: 'Users can upload photos with reviews',\n    descriptionHe: '××©×ª××©×™× ×™×›×•×œ×™× ×œ×”×¢×œ×•×ª ×ª××•× ×•×ª ×¢× ×‘×™×§×•×¨×•×ª',\n    category: 'reviews',\n    icon: 'ğŸ“¸',\n    enabled: false,\n  },\n  {\n    id: 'rating-aggregation',\n    name: 'Rating Aggregation',\n    nameHe: '×¦×‘×™×¨×ª ×“×™×¨×•×’×™×',\n    description: 'Aggregate ratings from multiple sources',\n    descriptionHe: '×¦×‘×™×¨×ª ×“×™×¨×•×’×™× ×××§×•×¨×•×ª ×©×•× ×™×',\n    category: 'reviews',\n    icon: 'ğŸ“Š',\n    enabled: false,\n    requiredApis: ['Google Places', 'TripAdvisor'],\n  },\n\n  // Location\n  {\n    id: 'google-maps',\n    name: 'Google Maps',\n    nameHe: '×’×•×’×œ ××¤×•×ª',\n    description: 'Interactive maps with hotel location',\n    descriptionHe: '××¤×•×ª ××™× ×˜×¨××§×˜×™×‘×™×•×ª ×¢× ××™×§×•× ×”××œ×•×Ÿ',\n    category: 'location',\n    icon: 'ğŸ—ºï¸',\n    enabled: false,\n    requiredApis: ['Google Maps API'],\n  },\n  {\n    id: 'nearby-attractions',\n    name: 'Nearby Attractions',\n    nameHe: '××˜×¨×§×¦×™×•×ª ×‘×§×¨×‘×ª ××§×•×',\n    description: 'Show nearby points of interest',\n    descriptionHe: '×”×¦×’×ª × ×§×•×“×•×ª ×¢× ×™×™×Ÿ ×¡××•×›×•×ª',\n    category: 'location',\n    icon: 'ğŸ›ï¸',\n    enabled: false,\n    requiredApis: ['Google Places API'],\n  },\n  {\n    id: 'street-view',\n    name: 'Street View',\n    nameHe: '×ª×¦×•×’×ª ×¨×—×•×‘',\n    description: 'Google Street View integration',\n    descriptionHe: '××™× ×˜×’×¨×¦×™×” ×¢× Google Street View',\n    category: 'location',\n    icon: 'ğŸ‘ï¸',\n    enabled: false,\n    requiredApis: ['Google Maps API'],\n  },\n\n  // Loyalty\n  {\n    id: 'loyalty-program',\n    name: 'Loyalty Program',\n    nameHe: '×ª×•×›× ×™×ª × ××× ×•×ª',\n    description: 'Points and rewards for bookings',\n    descriptionHe: '× ×§×•×“×•×ª ×•×ª×’××•×œ×™× ×¢×œ ×”×–×× ×•×ª',\n    category: 'loyalty',\n    icon: 'ğŸ',\n    enabled: false,\n  },\n  {\n    id: 'cashback',\n    name: 'Cashback',\n    nameHe: '×”×—×–×¨ ×›×¡×¤×™',\n    description: 'Cashback on bookings',\n    descriptionHe: '×”×—×–×¨ ×›×¡×¤×™ ×¢×œ ×”×–×× ×•×ª',\n    category: 'loyalty',\n    icon: 'ğŸ’µ',\n    enabled: false,\n    premium: true,\n  },\n  {\n    id: 'referral-program',\n    name: 'Referral Program',\n    nameHe: '×ª×•×›× ×™×ª ×”××œ×¦×•×ª',\n    description: 'Earn rewards for referring friends',\n    descriptionHe: '×”×¨×•×•×™×— ×ª×’××•×œ×™× ×¢×œ ×”××œ×¦×ª ×—×‘×¨×™×',\n    category: 'loyalty',\n    icon: 'ğŸ¤',\n    enabled: false,\n  },\n\n  // Booking\n  {\n    id: 'group-bookings',\n    name: 'Group Bookings',\n    nameHe: '×”×–×× ×•×ª ×§×‘×•×¦×ª×™×•×ª',\n    description: 'Book multiple rooms at once',\n    descriptionHe: '×”×–×× ×ª ××¡×¤×¨ ×—×“×¨×™× ×‘×‘×ª ××—×ª',\n    category: 'booking',\n    icon: 'ğŸ‘¥',\n    enabled: false,\n  },\n  {\n    id: 'split-payment',\n    name: 'Split Payment',\n    nameHe: '×ª×©×œ×•× ××¤×•×¦×œ',\n    description: 'Split payment between multiple people',\n    descriptionHe: '×¤×™×¦×•×œ ×ª×©×œ×•× ×‘×™×Ÿ ××¡×¤×¨ ×× ×©×™×',\n    category: 'booking',\n    icon: 'ğŸ’³',\n    enabled: false,\n    premium: true,\n  },\n  {\n    id: 'booking-modification',\n    name: 'Booking Modification',\n    nameHe: '×¢×¨×™×›×ª ×”×–×× ×”',\n    description: 'Edit dates and room after booking',\n    descriptionHe: '×¢×¨×™×›×ª ×ª××¨×™×›×™× ×•×—×“×¨ ××—×¨×™ ×”×–×× ×”',\n    category: 'booking',\n    icon: 'âœï¸',\n    enabled: false,\n  },\n  {\n    id: 'room-upgrade',\n    name: 'Room Upgrade',\n    nameHe: '×©×“×¨×•×’ ×—×“×¨',\n    description: 'Upgrade to better room',\n    descriptionHe: '×©×“×¨×•×’ ×œ×—×“×¨ ×˜×•×‘ ×™×•×ª×¨',\n    category: 'booking',\n    icon: 'â¬†ï¸',\n    enabled: false,\n  },\n  {\n    id: 'multi-room-booking',\n    name: 'Multi-Room Booking',\n    nameHe: '×”×–×× ×ª ××¡×¤×¨ ×—×“×¨×™×',\n    description: 'Book different rooms in one transaction',\n    descriptionHe: '×”×–×× ×ª ×—×“×¨×™× ×©×•× ×™× ×‘×¢×¡×§×” ××—×ª',\n    category: 'booking',\n    icon: 'ğŸ¨',\n    enabled: false,\n  },\n\n  // Analytics\n  {\n    id: 'advanced-analytics',\n    name: 'Advanced Analytics',\n    nameHe: '×× ×œ×™×˜×™×§×¡ ××ª×§×“×',\n    description: 'Detailed booking analytics',\n    descriptionHe: '×× ×œ×™×˜×™×§×” ××¤×•×¨×˜×ª ×©×œ ×”×–×× ×•×ª',\n    category: 'analytics',\n    icon: 'ğŸ“Š',\n    enabled: false,\n    premium: true,\n  },\n  {\n    id: 'export-pdf',\n    name: 'Export to PDF',\n    nameHe: '×™×™×¦×•× ×œ-PDF',\n    description: 'Export bookings and reports to PDF',\n    descriptionHe: '×™×™×¦×•× ×”×–×× ×•×ª ×•×“×•×—×•×ª ×œ-PDF',\n    category: 'analytics',\n    icon: 'ğŸ“„',\n    enabled: false,\n  },\n  {\n    id: 'qr-checkin',\n    name: 'QR Check-in',\n    nameHe: '×¦\\'×§-××™×Ÿ QR',\n    description: 'QR code for contactless check-in',\n    descriptionHe: '×§×•×“ QR ×œ×¦\\'×§-××™×Ÿ ×œ×œ× ××’×¢',\n    category: 'booking',\n    icon: 'ğŸ“±',\n    enabled: false,\n  },\n\n  // Support & Communication\n  {\n    id: 'real-time-updates',\n    name: 'Real-time Updates',\n    nameHe: '×¢×“×›×•× ×™× ×‘×–××Ÿ ×××ª',\n    description: 'Live booking status updates',\n    descriptionHe: '×¢×“×›×•× ×™ ×¡×˜×˜×•×¡ ×”×–×× ×” ×‘×–××Ÿ ×××ª',\n    category: 'support',\n    icon: 'ğŸ”„',\n    enabled: false,\n    requiredApis: ['WebSocket', 'Pusher'],\n  },\n  {\n    id: 'chat-support',\n    name: 'Live Chat Support',\n    nameHe: '×ª××™×›×ª ×¦\\'××˜',\n    description: '24/7 live chat support',\n    descriptionHe: '×ª××™×›×ª ×¦\\'××˜ 24/7',\n    category: 'support',\n    icon: 'ğŸ’¬',\n    enabled: false,\n    requiredApis: ['Intercom', 'Zendesk'],\n  },\n\n  // Localization\n  {\n    id: 'multilingual-support',\n    name: 'Multilingual Support',\n    nameHe: '×ª××™×›×” ×¨×‘-×œ×©×•× ×™×ª',\n    description: 'Support for multiple languages',\n    descriptionHe: '×ª××™×›×” ×‘××¡×¤×¨ ×©×¤×•×ª',\n    category: 'localization',\n    icon: 'ğŸŒ',\n    enabled: false,\n  },\n  {\n    id: 'currency-converter',\n    name: 'Currency Converter',\n    nameHe: '×××™×¨ ××˜×‘×¢×•×ª',\n    description: 'Real-time currency conversion',\n    descriptionHe: '×”××¨×ª ××˜×‘×¢×•×ª ×‘×–××Ÿ ×××ª',\n    category: 'localization',\n    icon: 'ğŸ’±',\n    enabled: false,\n    requiredApis: ['Exchange Rates API'],\n  },\n\n  // Travel Info\n  {\n    id: 'weather-info',\n    name: 'Weather Information',\n    nameHe: '××™×“×¢ ××–×’ ××•×•×™×¨',\n    description: 'Weather forecast for travel dates',\n    descriptionHe: '×ª×—×–×™×ª ××–×’ ××•×•×™×¨ ×œ×ª××¨×™×›×™ ×”× ×¡×™×¢×”',\n    category: 'travel-info',\n    icon: 'ğŸŒ¤ï¸',\n    enabled: false,\n    requiredApis: ['OpenWeather API'],\n  },\n  {\n    id: 'local-events',\n    name: 'Local Events',\n    nameHe: '××™×¨×•×¢×™× ××§×•××™×™×',\n    description: 'Show local events during stay',\n    descriptionHe: '×”×¦×’×ª ××™×¨×•×¢×™× ××§×•××™×™× ×‘××”×œ×š ×”×©×”×™×™×”',\n    category: 'travel-info',\n    icon: 'ğŸ‰',\n    enabled: false,\n    requiredApis: ['Eventbrite API'],\n  },\n  {\n    id: 'transportation-info',\n    name: 'Transportation Info',\n    nameHe: '××™×“×¢ ×ª×—×‘×•×¨×”',\n    description: 'Public transport and taxi info',\n    descriptionHe: '××™×“×¢ ×ª×—×‘×•×¨×” ×¦×™×‘×•×¨×™×ª ×•××•× ×™×•×ª',\n    category: 'travel-info',\n    icon: 'ğŸš‡',\n    enabled: false,\n    requiredApis: ['Google Maps API'],\n  },\n];\n\n// ×§×•× ×¤×™×’×•×¨×¦×™×” ×“×™×¤×•×œ×˜×™×ª\nexport const DEFAULT_FEATURE_CONFIG: FeatureConfig = {\n  templates: [\n    {\n      templateId: 'nara',\n      templateName: 'NARA Template',\n      enabledFeatures: ['email-notifications', 'booking-reminders'],\n    },\n    {\n      templateId: 'modern-dark',\n      templateName: 'Modern Dark Template',\n      enabledFeatures: ['email-notifications', 'google-maps'],\n    },\n    {\n      templateId: 'luxury',\n      templateName: 'Luxury Template',\n      enabledFeatures: ['email-notifications', 'reviews-system', 'google-maps', 'loyalty-program'],\n    },\n    {\n      templateId: 'family',\n      templateName: 'Family Template',\n      enabledFeatures: ['email-notifications', 'google-maps', 'nearby-attractions', 'weather-info'],\n    },\n  ],\n  aiAgent: {\n    agentId: 'ai-booking-assistant',\n    agentName: 'AI Booking Assistant',\n    enabledFeatures: [\n      'email-notifications',\n      'price-alerts',\n      'reviews-system',\n      'google-maps',\n      'weather-info',\n    ],\n    personality: {\n      tone: 'friendly',\n      language: 'both',\n    },\n    capabilities: {\n      canSuggestPriceAlerts: true,\n      canShowMap: true,\n      canAccessReviews: true,\n      canOfferLoyaltyPoints: false,\n    },\n  },\n  globalSettings: {\n    defaultCurrency: 'USD',\n    defaultLanguage: 'en',\n    maintenanceMode: false,\n    betaFeatures: false,\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/v0-bookinengine/lib/features-context.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport {\n  FeatureConfig,\n  FeatureId,\n  DEFAULT_FEATURE_CONFIG,\n  AVAILABLE_FEATURES,\n  TemplateFeatureConfig,\n  AIAgentConfig,\n} from '@/types/features';\n\ninterface FeaturesContextType {\n  config: FeatureConfig;\n  updateTemplateFeatures: (\n    templateId: string,\n    features: FeatureId[]\n  ) => Promise<void>;\n  updateAIAgentFeatures: (features: FeatureId[]) => Promise<void>;\n  isFeatureEnabled: (featureId: FeatureId, context?: 'template' | 'ai', templateId?: string) => boolean;\n  getEnabledFeatures: (context: 'template' | 'ai', templateId?: string) => FeatureId[];\n  saveConfig: () => Promise<void>;\n  loadConfig: () => Promise<void>;\n}\n\nconst FeaturesContext = createContext<FeaturesContextType | undefined>(\n  undefined\n);\n\nexport function FeaturesProvider({ children }: { children: React.ReactNode }) {\n  const [config, setConfig] = useState<FeatureConfig>(DEFAULT_FEATURE_CONFIG);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  // ×˜×¢×™× ×ª ×§×•× ×¤×™×’×•×¨×¦×™×” ×-localStorage ××• API\n  const loadConfig = async () => {\n    try {\n      // × ×¡×” ×œ×˜×¢×•×Ÿ ×-localStorage\n      const savedConfig = localStorage.getItem('features-config');\n      if (savedConfig) {\n        setConfig(JSON.parse(savedConfig));\n      } else {\n        // ×× ××™×Ÿ, × ×¡×” ×œ×˜×¢×•×Ÿ ××”×©×¨×ª\n        const response = await fetch('/api/admin/features');\n        if (response.ok) {\n          const data = await response.json();\n          setConfig(data);\n        }\n      }\n    } catch (error) {\n      console.error('Failed to load features config:', error);\n      // ×× ×™×© ×©×’×™××”, ×”×©×ª××© ×‘×“×™×¤×•×œ×˜\n      setConfig(DEFAULT_FEATURE_CONFIG);\n    } finally {\n      setIsLoaded(true);\n    }\n  };\n\n  // ×©××™×¨×ª ×§×•× ×¤×™×’×•×¨×¦×™×”\n  const saveConfig = async () => {\n    try {\n      // ×©××•×¨ ×‘-localStorage\n      localStorage.setItem('features-config', JSON.stringify(config));\n      \n      // ×©××•×¨ ×’× ×‘×©×¨×ª\n      await fetch('/api/admin/features', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(config),\n      });\n    } catch (error) {\n      console.error('Failed to save features config:', error);\n    }\n  };\n\n  // ×¢×“×›×•×Ÿ features ×œ×˜××¤×œ×˜\n  const updateTemplateFeatures = async (\n    templateId: string,\n    features: FeatureId[]\n  ) => {\n    setConfig((prev) => {\n      const newTemplates = prev.templates.map((t) =>\n        t.templateId === templateId\n          ? { ...t, enabledFeatures: features }\n          : t\n      );\n      return { ...prev, templates: newTemplates };\n    });\n    await saveConfig();\n  };\n\n  // ×¢×“×›×•×Ÿ features ×œ-AI Agent\n  const updateAIAgentFeatures = async (features: FeatureId[]) => {\n    setConfig((prev) => ({\n      ...prev,\n      aiAgent: {\n        ...prev.aiAgent,\n        enabledFeatures: features,\n      },\n    }));\n    await saveConfig();\n  };\n\n  // ×‘×“×™×§×” ×”×× feature ××•×¤×¢×œ\n  const isFeatureEnabled = (\n    featureId: FeatureId,\n    context?: 'template' | 'ai',\n    templateId?: string\n  ): boolean => {\n    if (context === 'template' && templateId) {\n      const template = config.templates.find((t) => t.templateId === templateId);\n      return template?.enabledFeatures.includes(featureId) ?? false;\n    }\n    \n    if (context === 'ai') {\n      return config.aiAgent.enabledFeatures.includes(featureId);\n    }\n    \n    // ×× ×œ× ×¦×•×™×Ÿ context, ×‘×“×•×§ ×‘×›×œ ×”××§×•××•×ª\n    const inTemplates = config.templates.some((t) =>\n      t.enabledFeatures.includes(featureId)\n    );\n    const inAI = config.aiAgent.enabledFeatures.includes(featureId);\n    return inTemplates || inAI;\n  };\n\n  // ×§×‘×œ×ª ×¨×©×™××ª features ××•×¤×¢×œ×™×\n  const getEnabledFeatures = (\n    context: 'template' | 'ai',\n    templateId?: string\n  ): FeatureId[] => {\n    if (context === 'template' && templateId) {\n      const template = config.templates.find((t) => t.templateId === templateId);\n      return template?.enabledFeatures ?? [];\n    }\n    \n    if (context === 'ai') {\n      return config.aiAgent.enabledFeatures;\n    }\n    \n    return [];\n  };\n\n  // ×˜×¢×Ÿ ××ª ×”×§×•× ×¤×™×’×•×¨×¦×™×” ×‘×¢×œ×™×™×ª ×”×§×•××¤×•× × ×˜×”\n  useEffect(() => {\n    loadConfig();\n  }, []);\n\n  // ×©××•×¨ ××•×˜×•××˜×™×ª ×›×©×™×© ×©×™× ×•×™×™×\n  useEffect(() => {\n    if (isLoaded) {\n      saveConfig();\n    }\n  }, [config, isLoaded]);\n\n  return (\n    <FeaturesContext.Provider\n      value={{\n        config,\n        updateTemplateFeatures,\n        updateAIAgentFeatures,\n        isFeatureEnabled,\n        getEnabledFeatures,\n        saveConfig,\n        loadConfig,\n      }}\n    >\n      {children}\n    </FeaturesContext.Provider>\n  );\n}\n\nexport function useFeatures() {\n  const context = useContext(FeaturesContext);\n  if (!context) {\n    throw new Error('useFeatures must be used within FeaturesProvider');\n  }\n  return context;\n}\n\n// Hook ×œ×‘×“×™×§×” ××”×™×¨×” ×× feature ××•×¤×¢×œ\nexport function useFeature(\n  featureId: FeatureId,\n  context?: 'template' | 'ai',\n  templateId?: string\n): boolean {\n  const { isFeatureEnabled } = useFeatures();\n  return isFeatureEnabled(featureId, context, templateId);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/v0-bookinengine/lib/saas-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport type { HotelConfig, Tenant } from \"@/types/saas\"\n\ninterface SaaSContextType {\n  tenant: Tenant | null\n  currentHotel: HotelConfig | null\n  setCurrentHotel: (hotel: HotelConfig) => void\n  hotels: HotelConfig[]\n  isLoading: boolean\n  updateHotelConfig: (hotelId: string, config: Partial<HotelConfig>) => void\n}\n\nconst SaaSContext = createContext<SaaSContextType | undefined>(undefined)\n\n// Mock tenant data - in production this would come from API/DB\nconst mockTenant: Tenant = {\n  id: \"tenant-1\",\n  name: \"××œ×•× ×•×ª ×™×©×¨××œ ×‘×¢×´×\",\n  email: \"admin@hotels-israel.com\",\n  plan: \"professional\",\n  billingStatus: \"active\",\n  createdAt: new Date(),\n  hotels: [\n    {\n      id: \"hotel-1\",\n      name: \"××œ×•×Ÿ ×“×Ÿ ×ª×œ ××‘×™×‘\",\n      hotelId: \"medici-12345\",\n      hotelName: \"Dan Tel Aviv\",\n      city: \"Tel Aviv\",\n      stars: 5,\n      currency: \"ILS\",\n      primaryColor: \"#1e3a5f\",\n      secondaryColor: \"#d4af37\",\n      enableWidget: true,\n      enableAiChat: true,\n      plan: \"professional\",\n      apiSettings: {\n        mediciHotelId: \"12345\",\n        mediciHotelName: \"Dan Tel Aviv\",\n      },\n      widgetSettings: {\n        language: \"both\",\n        showPrices: true,\n        showAvailability: true,\n        primaryColor: \"#1e3a5f\",\n      },\n      aiChatSettings: {\n        welcomeMessage: \"Hello! I'm your personal booking assistant for Dan Tel Aviv Hotel. How can I help you today?\",\n        welcomeMessageHe: \"×©×œ×•×! ×× ×™ ×”×¢×•×–×¨ ×”××™×©×™ ×©×œ×š ×œ×”×–×× ×•×ª ×‘××œ×•×Ÿ ×“×Ÿ ×ª×œ ××‘×™×‘. ××™×š ××•×›×œ ×œ×¢×–×•×¨ ×œ×š ×”×™×•×?\",\n        personality: \"luxury\",\n        language: \"both\",\n      },\n    },\n    {\n      id: \"hotel-2\",\n      name: \"××œ×•×Ÿ ×”×¨×•×“×¡ ××™×œ×ª\",\n      hotelId: \"medici-67890\",\n      hotelName: \"Herods Eilat\",\n      city: \"Eilat\",\n      stars: 5,\n      currency: \"ILS\",\n      primaryColor: \"#0066cc\",\n      secondaryColor: \"#ff6600\",\n      enableWidget: true,\n      enableAiChat: false,\n      plan: \"basic\",\n      apiSettings: {\n        mediciHotelId: \"67890\",\n        mediciHotelName: \"Herods Eilat\",\n      },\n      widgetSettings: {\n        language: \"he\",\n        showPrices: true,\n        showAvailability: true,\n        primaryColor: \"#0066cc\",\n      },\n      aiChatSettings: {\n        welcomeMessage: \"Welcome to Herods Eilat!\",\n        welcomeMessageHe: \"×‘×¨×•×›×™× ×”×‘××™× ×œ××œ×•×Ÿ ×”×¨×•×“×¡ ××™×œ×ª!\",\n        personality: \"friendly\",\n        language: \"he\",\n      },\n    },\n    {\n      id: \"hotel-scarlet\",\n      name: \"××œ×•×Ÿ ×¡×§×¨×œ×˜ ×ª×œ ××‘×™×‘\",\n      hotelId: \"scarlet-tlv\",\n      hotelName: \"Scarlet Hotel Tel Aviv\",\n      city: \"Tel Aviv\",\n      stars: 5,\n      currency: \"ILS\",\n      primaryColor: \"#DC143C\",\n      secondaryColor: \"#2C3E50\",\n      enableWidget: true,\n      enableAiChat: true,\n      plan: \"enterprise\",\n      apiSettings: {\n        mediciHotelId: \"scarlet-001\",\n        mediciHotelName: \"Scarlet Hotel Tel Aviv\",\n      },\n      widgetSettings: {\n        language: \"both\",\n        showPrices: true,\n        showAvailability: true,\n        primaryColor: \"#DC143C\",\n        secondaryColor: \"#E74C3C\",\n      },\n      aiChatSettings: {\n        welcomeMessage: \"Welcome to Scarlet Hotel Tel Aviv! Where urban meets romance. How can I create an unforgettable experience for you today?\",\n        welcomeMessageHe: \"×‘×¨×•×›×™× ×”×‘××™× ×œ××œ×•×Ÿ ×¡×§×¨×œ×˜ ×ª×œ ××‘×™×‘! ×”×™×›×Ÿ ×©×”××•×¨×‘× ×™ ×¤×•×’×© ××ª ×”×¨×•×× ×˜×™. ××™×š ××•×›×œ ×œ×™×¦×•×¨ ×œ×›× ×—×•×•×™×” ×‘×œ×ª×™ × ×©×›×—×ª ×”×™×•×?\",\n        personality: \"romantic\",\n        language: \"both\",\n        primaryColor: \"#DC143C\",\n      },\n    },\n  ],\n}\n\nexport function SaaSProvider({ children }: { children: ReactNode }) {\n  const [tenant, setTenant] = useState<Tenant | null>(null)\n  const [currentHotel, setCurrentHotel] = useState<HotelConfig | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    // Simulate loading tenant data\n    setTimeout(() => {\n      setTenant(mockTenant)\n      setCurrentHotel(mockTenant.hotels[0])\n      setIsLoading(false)\n    }, 500)\n  }, [])\n\n  const updateHotelConfig = (hotelId: string, config: Partial<HotelConfig>) => {\n    if (!tenant) return\n\n    const updatedHotels = tenant.hotels.map((hotel) => (hotel.id === hotelId ? { ...hotel, ...config } : hotel))\n\n    setTenant({ ...tenant, hotels: updatedHotels })\n\n    if (currentHotel?.id === hotelId) {\n      setCurrentHotel({ ...currentHotel, ...config })\n    }\n  }\n\n  return (\n    <SaaSContext.Provider\n      value={{\n        tenant,\n        currentHotel,\n        setCurrentHotel,\n        hotels: tenant?.hotels || [],\n        isLoading,\n        updateHotelConfig,\n      }}\n    >\n      {children}\n    </SaaSContext.Provider>\n  )\n}\n\nexport function useSaaS() {\n  const context = useContext(SaaSContext)\n  if (!context) {\n    throw new Error(\"useSaaS must be used within SaaSProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAcA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAE/D,+DAA+D;AAC/D,MAAM,aAAqB;IACzB,IAAI;IACJ,MAAM;IACN,OAAO;IACP,MAAM;IACN,eAAe;IACf,WAAW,IAAI;IACf,QAAQ;QACN;YACE,IAAI;YACJ,MAAM;YACN,SAAS;YACT,WAAW;YACX,MAAM;YACN,OAAO;YACP,UAAU;YACV,cAAc;YACd,gBAAgB;YAChB,cAAc;YACd,cAAc;YACd,MAAM;YACN,aAAa;gBACX,eAAe;gBACf,iBAAiB;YACnB;YACA,gBAAgB;gBACd,UAAU;gBACV,YAAY;gBACZ,kBAAkB;gBAClB,cAAc;YAChB;YACA,gBAAgB;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,aAAa;gBACb,UAAU;YACZ;QACF;QACA;YACE,IAAI;YACJ,MAAM;YACN,SAAS;YACT,WAAW;YACX,MAAM;YACN,OAAO;YACP,UAAU;YACV,cAAc;YACd,gBAAgB;YAChB,cAAc;YACd,cAAc;YACd,MAAM;YACN,aAAa;gBACX,eAAe;gBACf,iBAAiB;YACnB;YACA,gBAAgB;gBACd,UAAU;gBACV,YAAY;gBACZ,kBAAkB;gBAClB,cAAc;YAChB;YACA,gBAAgB;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,aAAa;gBACb,UAAU;YACZ;QACF;QACA;YACE,IAAI;YACJ,MAAM;YACN,SAAS;YACT,WAAW;YACX,MAAM;YACN,OAAO;YACP,UAAU;YACV,cAAc;YACd,gBAAgB;YAChB,cAAc;YACd,cAAc;YACd,MAAM;YACN,aAAa;gBACX,eAAe;gBACf,iBAAiB;YACnB;YACA,gBAAgB;gBACd,UAAU;gBACV,YAAY;gBACZ,kBAAkB;gBAClB,cAAc;gBACd,gBAAgB;YAClB;YACA,gBAAgB;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,aAAa;gBACb,UAAU;gBACV,cAAc;YAChB;QACF;KACD;AACH;AAEO,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IACpD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAqB;IACrE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,+BAA+B;QAC/B,WAAW;YACT,UAAU;YACV,gBAAgB,WAAW,MAAM,CAAC,EAAE;YACpC,aAAa;QACf,GAAG;IACL,GAAG,EAAE;IAEL,MAAM,oBAAoB,CAAC,SAAiB;QAC1C,IAAI,CAAC,QAAQ;QAEb,MAAM,gBAAgB,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,QAAW,MAAM,EAAE,KAAK,UAAU;gBAAE,GAAG,KAAK;gBAAE,GAAG,MAAM;YAAC,IAAI;QAErG,UAAU;YAAE,GAAG,MAAM;YAAE,QAAQ;QAAc;QAE7C,IAAI,cAAc,OAAO,SAAS;YAChC,gBAAgB;gBAAE,GAAG,YAAY;gBAAE,GAAG,MAAM;YAAC;QAC/C;IACF;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA,QAAQ,QAAQ,UAAU,EAAE;YAC5B;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/v0-bookinengine/components/analytics/GoogleAnalytics.tsx"],"sourcesContent":["\"use client\";\n\nimport Script from \"next/script\";\nimport { useEffect, Suspense } from \"react\";\nimport { usePathname, useSearchParams } from \"next/navigation\";\n\ninterface GoogleAnalyticsProps {\n  measurementId: string;\n}\n\nfunction GoogleAnalyticsInner({ measurementId }: GoogleAnalyticsProps) {\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n\n  useEffect(() => {\n    if (!measurementId || typeof window === \"undefined\") return;\n\n    const url = pathname + searchParams.toString();\n    \n    // Track page view\n    window.gtag(\"config\", measurementId, {\n      page_path: url,\n    });\n  }, [pathname, searchParams, measurementId]);\n\n  return null;\n}\n\nexport function GoogleAnalytics({ measurementId }: GoogleAnalyticsProps) {\n  if (!measurementId) return null;\n\n  return (\n    <>\n      <Script\n        strategy=\"afterInteractive\"\n        src={`https://www.googletagmanager.com/gtag/js?id=${measurementId}`}\n      />\n      <Script\n        id=\"google-analytics\"\n        strategy=\"afterInteractive\"\n        dangerouslySetInnerHTML={{\n          __html: `\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', '${measurementId}', {\n              page_path: window.location.pathname,\n              send_page_view: true,\n              cookie_flags: 'SameSite=None;Secure'\n            });\n          `,\n        }}\n      />\n      <Suspense fallback={null}>\n        <GoogleAnalyticsInner measurementId={measurementId} />\n      </Suspense>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUA,SAAS,qBAAqB,EAAE,aAAa,EAAwB;IACnE,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,eAAe,IAAA,qJAAe;IAEpC,IAAA,kNAAS,EAAC;QACR,wCAAqD;;;QAErD,MAAM;IAMR,GAAG;QAAC;QAAU;QAAc;KAAc;IAE1C,OAAO;AACT;AAEO,SAAS,gBAAgB,EAAE,aAAa,EAAwB;IACrE,IAAI,CAAC,eAAe,OAAO;IAE3B,qBACE;;0BACE,8OAAC,yIAAM;gBACL,UAAS;gBACT,KAAK,CAAC,4CAA4C,EAAE,eAAe;;;;;;0BAErE,8OAAC,yIAAM;gBACL,IAAG;gBACH,UAAS;gBACT,yBAAyB;oBACvB,QAAQ,CAAC;;;;4BAIS,EAAE,cAAc;;;;;UAKlC,CAAC;gBACH;;;;;;0BAEF,8OAAC,iNAAQ;gBAAC,UAAU;0BAClB,cAAA,8OAAC;oBAAqB,eAAe;;;;;;;;;;;;;AAI7C"}},
    {"offset": {"line": 905, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/v0-bookinengine/components/analytics/AffiliateTracker.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, Suspense } from \"react\"\nimport { useSearchParams } from \"next/navigation\"\n\nfunction AffiliateTrackerInner() {\n  const searchParams = useSearchParams()\n\n  useEffect(() => {\n    const trackAffiliate = async () => {\n      // Get UTM parameters\n      const utmSource = searchParams?.get(\"utm_source\")\n      const utmMedium = searchParams?.get(\"utm_medium\")\n      const utmCampaign = searchParams?.get(\"utm_campaign\")\n      const utmTerm = searchParams?.get(\"utm_term\")\n      const utmContent = searchParams?.get(\"utm_content\")\n      const affiliateCode = searchParams?.get(\"ref\") || searchParams?.get(\"affiliate\")\n\n      // Skip if no tracking parameters\n      if (!utmSource && !utmMedium && !utmCampaign && !affiliateCode) {\n        return\n      }\n\n      // Only run in browser\n      if (typeof window === 'undefined') return\n\n      // Generate session ID (or get from localStorage)\n      let sessionId = localStorage.getItem(\"affiliate_session_id\")\n      if (!sessionId) {\n        sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n        localStorage.setItem(\"affiliate_session_id\", sessionId)\n      }\n\n      // Store tracking data in localStorage for later use\n      const trackingData = {\n        sessionId,\n        utmSource,\n        utmMedium,\n        utmCampaign,\n        utmTerm,\n        utmContent,\n        affiliateCode,\n        referrerUrl: document.referrer,\n        landingPage: window.location.href,\n        timestamp: new Date().toISOString(),\n      }\n\n      localStorage.setItem(\"affiliate_tracking\", JSON.stringify(trackingData))\n\n      // Send to API\n      try {\n        await fetch(\"/api/affiliate/track\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(trackingData),\n        })\n      } catch (error) {\n        console.error(\"Affiliate tracking failed:\", error)\n      }\n    }\n\n    trackAffiliate()\n  }, [searchParams])\n\n  return null\n}\n\nexport function AffiliateTracker() {\n  return (\n    <Suspense fallback={null}>\n      <AffiliateTrackerInner />\n    </Suspense>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,SAAS;IACP,MAAM,eAAe,IAAA,qJAAe;IAEpC,IAAA,kNAAS,EAAC;QACR,MAAM,iBAAiB;YACrB,qBAAqB;YACrB,MAAM,YAAY,cAAc,IAAI;YACpC,MAAM,YAAY,cAAc,IAAI;YACpC,MAAM,cAAc,cAAc,IAAI;YACtC,MAAM,UAAU,cAAc,IAAI;YAClC,MAAM,aAAa,cAAc,IAAI;YACrC,MAAM,gBAAgB,cAAc,IAAI,UAAU,cAAc,IAAI;YAEpE,iCAAiC;YACjC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,eAAe,CAAC,eAAe;gBAC9D;YACF;YAEA,sBAAsB;YACtB,wCAAmC;;;YAEnC,iDAAiD;YACjD,IAAI;YAMJ,oDAAoD;YACpD,MAAM;QAyBR;QAEA;IACF,GAAG;QAAC;KAAa;IAEjB,OAAO;AACT;AAEO,SAAS;IACd,qBACE,8OAAC,iNAAQ;QAAC,UAAU;kBAClB,cAAA,8OAAC;;;;;;;;;;AAGP"}}]
}