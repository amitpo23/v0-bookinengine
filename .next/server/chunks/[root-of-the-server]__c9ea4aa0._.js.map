{"version":3,"sources":["../../../node_modules/.pnpm/next%4016.0.10_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../node_modules/.pnpm/next%4016.0.10_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/rsc/react.ts","../../../node_modules/.pnpm/node-domexception%401.0.0/node_modules/node-domexception/index.js","../../../lib/ai-engines/handlers/voice.ts","../../../lib/ai-engines/handlers/monitoring.ts","../../../lib/ai-engines/handlers/booking.ts"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-rsc']!.React\n","/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */\n\nif (!globalThis.DOMException) {\n  try {\n    const { MessageChannel } = require('worker_threads'),\n    port = new MessageChannel().port1,\n    ab = new ArrayBuffer()\n    port.postMessage(ab, [ab, ab])\n  } catch (err) {\n    err.constructor.name === 'DOMException' && (\n      globalThis.DOMException = err.constructor\n    )\n  }\n}\n\nmodule.exports = globalThis.DOMException\n","/**\n * Voice Handlers\n * Tool handlers for voice interaction, call management, and TTS/STT\n * Based on: call-center-ai Azure Communication Services integration\n */\n\nimport type { ConversationContext } from '../types';\n\n// Azure Communication Services config (from environment)\nconst ACS_CONNECTION_STRING = process.env.ACS_CONNECTION_STRING || '';\nconst ACS_PHONE_NUMBER = process.env.ACS_PHONE_NUMBER || '';\nconst AZURE_SPEECH_KEY = process.env.AZURE_SPEECH_KEY || '';\nconst AZURE_SPEECH_REGION = process.env.AZURE_SPEECH_REGION || 'westeurope';\n\n// ========================================\n// INITIATE CALL\n// ========================================\n\ninterface InitiateCallParams {\n  phoneNumber: string;\n  purpose: string;\n  language?: string;\n}\n\ninterface CallResult {\n  success: boolean;\n  callId: string;\n  status: 'initiated' | 'ringing' | 'connected' | 'failed';\n  fromNumber: string;\n  toNumber: string;\n  startedAt: Date;\n  estimatedDuration?: number;\n}\n\nexport async function initiateCall(\n  params: InitiateCallParams,\n  context: ConversationContext\n): Promise<CallResult> {\n  console.log(`[VoiceHandler] Initiating call to ${params.phoneNumber}`);\n\n  try {\n    // Validate phone number format (E.164)\n    const phoneRegex = /^\\+[1-9]\\d{1,14}$/;\n    if (!phoneRegex.test(params.phoneNumber)) {\n      throw new Error('Invalid phone number format. Use E.164 format (e.g., +972501234567)');\n    }\n\n    // In production, use Azure Communication Services\n    // const client = new CallAutomationClient(ACS_CONNECTION_STRING);\n    // const callConnection = await client.createCall(\n    //   { phoneNumber: params.phoneNumber },\n    //   { phoneNumber: ACS_PHONE_NUMBER },\n    //   'https://your-callback-url/events'\n    // );\n\n    const callId = `call-${Date.now()}-${Math.random().toString(36).substr(2, 8)}`;\n\n    // Store call context\n    if (context) {\n      context.metadata = {\n        ...context.metadata,\n        activeCall: {\n          callId,\n          phoneNumber: params.phoneNumber,\n          purpose: params.purpose,\n          language: params.language || 'he-IL',\n          startedAt: new Date()\n        }\n      };\n    }\n\n    return {\n      success: true,\n      callId,\n      status: 'initiated',\n      fromNumber: ACS_PHONE_NUMBER || '+972-XX-XXXXXXX',\n      toNumber: params.phoneNumber,\n      startedAt: new Date()\n    };\n  } catch (error: any) {\n    console.error(`[VoiceHandler] Call initiation error:`, error);\n    throw new Error(`Failed to initiate call: ${error.message}`);\n  }\n}\n\n// ========================================\n// TRANSFER TO HUMAN\n// ========================================\n\ninterface TransferParams {\n  reason: string;\n  agentQueue?: string;\n}\n\ninterface TransferResult {\n  success: boolean;\n  transferId: string;\n  targetQueue: string;\n  estimatedWaitTime: number;\n  message: string;\n}\n\nexport async function transferToHuman(\n  params: TransferParams,\n  context: ConversationContext\n): Promise<TransferResult> {\n  console.log(`[VoiceHandler] Transferring to human agent:`, params);\n\n  try {\n    // Determine target queue based on reason or specified queue\n    const queue = params.agentQueue || determineQueueFromReason(params.reason);\n\n    // Get estimated wait time (mock)\n    const estimatedWait = Math.floor(Math.random() * 5) + 1; // 1-5 minutes\n\n    const transferId = `xfer-${Date.now()}-${Math.random().toString(36).substr(2, 6)}`;\n\n    // Update context\n    if (context) {\n      context.metadata = {\n        ...context.metadata,\n        transferredToHuman: {\n          transferId,\n          reason: params.reason,\n          queue,\n          transferredAt: new Date()\n        }\n      };\n    }\n\n    return {\n      success: true,\n      transferId,\n      targetQueue: queue,\n      estimatedWaitTime: estimatedWait,\n      message: `Transferring you to our ${queue} team. Estimated wait time: ${estimatedWait} minutes.`\n    };\n  } catch (error: any) {\n    console.error(`[VoiceHandler] Transfer error:`, error);\n    throw new Error(`Transfer failed: ${error.message}`);\n  }\n}\n\nfunction determineQueueFromReason(reason: string): string {\n  const reasonLower = reason.toLowerCase();\n  \n  if (reasonLower.includes('billing') || reasonLower.includes('payment') || reasonLower.includes('refund')) {\n    return 'billing-support';\n  }\n  if (reasonLower.includes('cancel') || reasonLower.includes('modify') || reasonLower.includes('change')) {\n    return 'booking-modifications';\n  }\n  if (reasonLower.includes('complaint') || reasonLower.includes('problem') || reasonLower.includes('issue')) {\n    return 'customer-care';\n  }\n  if (reasonLower.includes('group') || reasonLower.includes('corporate') || reasonLower.includes('business')) {\n    return 'corporate-sales';\n  }\n  \n  return 'general-support';\n}\n\n// ========================================\n// SEND CALL SUMMARY SMS\n// ========================================\n\ninterface SendCallSummarySmsParams {\n  phoneNumber: string;\n  summary: string;\n}\n\ninterface SmsResult {\n  success: boolean;\n  messageId: string;\n  to: string;\n  status: 'sent' | 'delivered' | 'failed';\n  sentAt: Date;\n}\n\nexport async function sendCallSummarySms(\n  params: SendCallSummarySmsParams,\n  context: ConversationContext\n): Promise<SmsResult> {\n  console.log(`[VoiceHandler] Sending call summary SMS to ${params.phoneNumber}`);\n\n  try {\n    // Validate phone number\n    const phoneRegex = /^\\+[1-9]\\d{1,14}$/;\n    if (!phoneRegex.test(params.phoneNumber)) {\n      throw new Error('Invalid phone number format');\n    }\n\n    // Truncate summary if too long for SMS\n    const maxLength = 160 * 3; // Allow up to 3 SMS segments\n    const truncatedSummary = params.summary.length > maxLength\n      ? params.summary.substring(0, maxLength - 3) + '...'\n      : params.summary;\n\n    // In production, use Azure Communication Services SMS\n    // const client = new SmsClient(ACS_CONNECTION_STRING);\n    // const response = await client.send({\n    //   from: ACS_PHONE_NUMBER,\n    //   to: [params.phoneNumber],\n    //   message: truncatedSummary\n    // });\n\n    const messageId = `sms-${Date.now()}-${Math.random().toString(36).substr(2, 8)}`;\n\n    return {\n      success: true,\n      messageId,\n      to: params.phoneNumber,\n      status: 'sent',\n      sentAt: new Date()\n    };\n  } catch (error: any) {\n    console.error(`[VoiceHandler] SMS error:`, error);\n    throw new Error(`Failed to send SMS: ${error.message}`);\n  }\n}\n\n// ========================================\n// TEXT TO SPEECH\n// ========================================\n\ninterface TextToSpeechParams {\n  text: string;\n  voice?: string;\n  language?: string;\n  speed?: number;\n  pitch?: number;\n}\n\ninterface TtsResult {\n  success: boolean;\n  audioUrl?: string;\n  audioBase64?: string;\n  duration: number;\n  format: string;\n}\n\nexport async function textToSpeech(\n  params: TextToSpeechParams,\n  context: ConversationContext\n): Promise<TtsResult> {\n  console.log(`[VoiceHandler] Converting text to speech:`, params.text.substring(0, 50));\n\n  try {\n    const voice = params.voice || 'he-IL-HilaNeural';\n    const speed = params.speed || 1.0;\n\n    // In production, use Azure Cognitive Services Speech SDK\n    // const speechConfig = sdk.SpeechConfig.fromSubscription(AZURE_SPEECH_KEY, AZURE_SPEECH_REGION);\n    // speechConfig.speechSynthesisVoiceName = voice;\n    // const synthesizer = new sdk.SpeechSynthesizer(speechConfig);\n    // const result = await synthesizer.speakTextAsync(params.text);\n\n    // Mock response\n    const estimatedDuration = params.text.split(' ').length * 0.4; // ~0.4 seconds per word\n\n    return {\n      success: true,\n      audioUrl: `/api/tts/audio-${Date.now()}.mp3`,\n      duration: estimatedDuration,\n      format: 'audio/mpeg'\n    };\n  } catch (error: any) {\n    console.error(`[VoiceHandler] TTS error:`, error);\n    throw new Error(`Text-to-speech failed: ${error.message}`);\n  }\n}\n\n// ========================================\n// SPEECH TO TEXT\n// ========================================\n\ninterface SpeechToTextParams {\n  audioUrl?: string;\n  audioBase64?: string;\n  language?: string;\n}\n\ninterface SttResult {\n  success: boolean;\n  text: string;\n  confidence: number;\n  language: string;\n  duration: number;\n  alternatives?: Array<{ text: string; confidence: number }>;\n}\n\nexport async function speechToText(\n  params: SpeechToTextParams,\n  context: ConversationContext\n): Promise<SttResult> {\n  console.log(`[VoiceHandler] Converting speech to text`);\n\n  try {\n    const language = params.language || 'he-IL';\n\n    // In production, use Azure Cognitive Services Speech SDK\n    // const speechConfig = sdk.SpeechConfig.fromSubscription(AZURE_SPEECH_KEY, AZURE_SPEECH_REGION);\n    // speechConfig.speechRecognitionLanguage = language;\n    // const recognizer = new sdk.SpeechRecognizer(speechConfig, audioConfig);\n    // const result = await recognizer.recognizeOnceAsync();\n\n    // Mock response\n    return {\n      success: true,\n      text: 'אני רוצה להזמין חדר במלון בדובאי לשלושה לילות',\n      confidence: 0.95,\n      language,\n      duration: 3.2,\n      alternatives: [\n        { text: 'אני רוצה להזמין חדר במלון בדובאי לשלושה לילות', confidence: 0.95 },\n        { text: 'אני רוצה להזמין חדר במלון ב-דובאי ל-3 לילות', confidence: 0.88 }\n      ]\n    };\n  } catch (error: any) {\n    console.error(`[VoiceHandler] STT error:`, error);\n    throw new Error(`Speech-to-text failed: ${error.message}`);\n  }\n}\n\n// ========================================\n// VOICE ACTIVITY DETECTION\n// ========================================\n\ninterface VadParams {\n  audioChunk: string; // base64\n  sensitivity?: number;\n}\n\ninterface VadResult {\n  isSpeaking: boolean;\n  speechStart?: number;\n  speechEnd?: number;\n  confidence: number;\n}\n\nexport async function detectVoiceActivity(\n  params: VadParams,\n  context: ConversationContext\n): Promise<VadResult> {\n  // In production, use WebRTC VAD or Azure\n  const sensitivity = params.sensitivity || 0.5;\n\n  // Mock response\n  return {\n    isSpeaking: Math.random() > sensitivity,\n    confidence: 0.85 + Math.random() * 0.15\n  };\n}\n\n// ========================================\n// REAL-TIME AUDIO STREAMING\n// ========================================\n\nexport interface RealtimeStreamConfig {\n  callId: string;\n  sttLanguage: string;\n  ttsVoice: string;\n  interimResults: boolean;\n  vadSensitivity: number;\n  silenceTimeout: number;\n}\n\nexport interface RealtimeCallbacks {\n  onSpeechRecognized: (text: string, isFinal: boolean) => void;\n  onAudioGenerated: (audio: ArrayBuffer) => void;\n  onError: (error: Error) => void;\n  onCallEnded: (reason: string) => void;\n}\n\nexport function createRealtimeAudioStream(\n  config: RealtimeStreamConfig,\n  callbacks: RealtimeCallbacks\n): {\n  start: () => Promise<void>;\n  stop: () => Promise<void>;\n  sendAudio: (chunk: ArrayBuffer) => void;\n  sendResponse: (text: string) => Promise<void>;\n} {\n  let isRunning = false;\n\n  return {\n    async start() {\n      console.log(`[VoiceHandler] Starting realtime audio stream for call ${config.callId}`);\n      isRunning = true;\n      \n      // In production:\n      // 1. Open WebSocket connection to Azure Communication Services\n      // 2. Configure Speech SDK for continuous recognition\n      // 3. Set up audio streaming pipeline\n    },\n\n    async stop() {\n      console.log(`[VoiceHandler] Stopping realtime audio stream`);\n      isRunning = false;\n      callbacks.onCallEnded('stream_stopped');\n    },\n\n    sendAudio(chunk: ArrayBuffer) {\n      if (!isRunning) return;\n      // Send audio chunk to Speech SDK for recognition\n    },\n\n    async sendResponse(text: string) {\n      if (!isRunning) return;\n      \n      // Convert text to speech and play to caller\n      const ttsResult = await textToSpeech(\n        { text, voice: config.ttsVoice },\n        {} as ConversationContext\n      );\n      \n      // In production, stream audio to call\n      console.log(`[VoiceHandler] Playing TTS response: ${text.substring(0, 50)}...`);\n    }\n  };\n}\n\n// Export all handlers\nexport const voiceHandlers = {\n  initiateCall,\n  transferToHuman,\n  sendCallSummarySms,\n  textToSpeech,\n  speechToText,\n  detectVoiceActivity,\n  createRealtimeAudioStream\n};\n","/**\n * Monitoring Handlers\n * Tool handlers for price monitoring and tracking\n * Based on: hotel-price-monitor scraping capabilities\n */\n\nimport type { ConversationContext } from '../types';\n\n// ========================================\n// TRACK HOTEL PRICE\n// ========================================\n\ninterface TrackHotelPriceParams {\n  hotelUrl: string;\n  checkIn: string;\n  checkOut: string;\n  targetPrice?: number;\n  notifyEmail?: string;\n}\n\ninterface TrackingResult {\n  success: boolean;\n  trackingId: string;\n  hotelName: string;\n  currentPrice: number;\n  currency: string;\n  targetPrice?: number;\n  checkInterval: string;\n  notificationSettings: {\n    email?: string;\n    priceDropThreshold: number;\n  };\n  nextCheck: Date;\n}\n\nexport async function trackHotelPrice(\n  params: TrackHotelPriceParams,\n  context: ConversationContext\n): Promise<TrackingResult> {\n  console.log(`[MonitoringHandler] Starting price tracking for:`, params.hotelUrl);\n\n  try {\n    // Validate URL (Booking.com format)\n    if (!params.hotelUrl.includes('booking.com')) {\n      throw new Error('Currently only Booking.com URLs are supported');\n    }\n\n    // Extract hotel info from URL (in production, use scraper)\n    const hotelName = extractHotelNameFromUrl(params.hotelUrl);\n\n    const trackingId = `track-${Date.now()}-${Math.random().toString(36).substr(2, 8)}`;\n\n    // In production, would initialize scraping job:\n    // const scraper = new BookingComScraper();\n    // await scraper.initializeTracking({\n    //   url: params.hotelUrl,\n    //   checkIn: params.checkIn,\n    //   checkOut: params.checkOut,\n    //   trackingId\n    // });\n\n    // Mock current price\n    const currentPrice = Math.floor(Math.random() * 300) + 100;\n\n    const result: TrackingResult = {\n      success: true,\n      trackingId,\n      hotelName,\n      currentPrice,\n      currency: 'USD',\n      targetPrice: params.targetPrice,\n      checkInterval: 'Every 6 hours',\n      notificationSettings: {\n        email: params.notifyEmail,\n        priceDropThreshold: params.targetPrice ? 0 : 10 // Alert on any drop below target, or 10% otherwise\n      },\n      nextCheck: new Date(Date.now() + 6 * 60 * 60 * 1000)\n    };\n\n    // Store tracking in context\n    if (context) {\n      context.metadata = {\n        ...context.metadata,\n        priceTracking: [\n          ...(context.metadata?.priceTracking || []),\n          {\n            trackingId,\n            hotelUrl: params.hotelUrl,\n            hotelName,\n            startedAt: new Date()\n          }\n        ]\n      };\n    }\n\n    return result;\n  } catch (error: any) {\n    console.error(`[MonitoringHandler] Track price error:`, error);\n    throw new Error(`Failed to start price tracking: ${error.message}`);\n  }\n}\n\nfunction extractHotelNameFromUrl(url: string): string {\n  try {\n    const match = url.match(/hotel\\/([^/]+)/);\n    if (match) {\n      return match[1]\n        .replace(/-/g, ' ')\n        .replace(/\\b\\w/g, l => l.toUpperCase());\n    }\n  } catch {}\n  return 'Unknown Hotel';\n}\n\n// ========================================\n// GET PRICE HISTORY\n// ========================================\n\ninterface GetPriceHistoryParams {\n  hotelId: string;\n  dateFrom: string;\n  dateTo: string;\n}\n\ninterface PriceHistoryEntry {\n  date: string;\n  price: number;\n  currency: string;\n  availability: 'available' | 'limited' | 'sold_out';\n  source: string;\n}\n\ninterface PriceHistoryResult {\n  hotelId: string;\n  hotelName: string;\n  dateRange: {\n    from: string;\n    to: string;\n  };\n  history: PriceHistoryEntry[];\n  statistics: {\n    minPrice: number;\n    maxPrice: number;\n    avgPrice: number;\n    currentPrice: number;\n    priceChange: number;\n    priceChangePercent: number;\n  };\n}\n\nexport async function getPriceHistory(\n  params: GetPriceHistoryParams,\n  context: ConversationContext\n): Promise<PriceHistoryResult> {\n  console.log(`[MonitoringHandler] Getting price history for hotel:`, params.hotelId);\n\n  try {\n    // Generate mock historical data\n    const startDate = new Date(params.dateFrom);\n    const endDate = new Date(params.dateTo);\n    const days = Math.ceil((endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));\n\n    const history: PriceHistoryEntry[] = [];\n    let basePrice = 250;\n\n    for (let i = 0; i <= days; i++) {\n      const date = new Date(startDate);\n      date.setDate(date.getDate() + i);\n\n      // Simulate price fluctuations\n      const fluctuation = (Math.random() - 0.5) * 40;\n      const weekendMultiplier = (date.getDay() === 5 || date.getDay() === 6) ? 1.2 : 1;\n      const price = Math.round((basePrice + fluctuation) * weekendMultiplier);\n\n      history.push({\n        date: date.toISOString().split('T')[0],\n        price,\n        currency: 'USD',\n        availability: price < 300 ? 'available' : price < 350 ? 'limited' : 'sold_out',\n        source: 'booking.com'\n      });\n    }\n\n    const prices = history.map(h => h.price);\n    const minPrice = Math.min(...prices);\n    const maxPrice = Math.max(...prices);\n    const avgPrice = Math.round(prices.reduce((a, b) => a + b, 0) / prices.length);\n    const currentPrice = prices[prices.length - 1];\n    const firstPrice = prices[0];\n\n    return {\n      hotelId: params.hotelId,\n      hotelName: 'Sample Hotel Dubai',\n      dateRange: {\n        from: params.dateFrom,\n        to: params.dateTo\n      },\n      history,\n      statistics: {\n        minPrice,\n        maxPrice,\n        avgPrice,\n        currentPrice,\n        priceChange: currentPrice - firstPrice,\n        priceChangePercent: Math.round(((currentPrice - firstPrice) / firstPrice) * 100)\n      }\n    };\n  } catch (error: any) {\n    console.error(`[MonitoringHandler] Price history error:`, error);\n    throw new Error(`Failed to get price history: ${error.message}`);\n  }\n}\n\n// ========================================\n// ANALYZE PRICE TRENDS\n// ========================================\n\ninterface AnalyzePriceTrendsParams {\n  hotelId: string;\n  travelDates: {\n    from: string;\n    to: string;\n  };\n}\n\ninterface TrendAnalysisResult {\n  hotelId: string;\n  hotelName: string;\n  travelDates: {\n    from: string;\n    to: string;\n  };\n  currentTrend: 'rising' | 'falling' | 'stable';\n  trendStrength: number; // 0-100\n  prediction: {\n    direction: 'up' | 'down' | 'stable';\n    confidence: number;\n    expectedChange: number;\n    optimalBookingWindow: {\n      from: string;\n      to: string;\n    };\n  };\n  insights: string[];\n  recommendations: string[];\n  competitorComparison?: {\n    hotelName: string;\n    priceDifference: number;\n    rating: number;\n  }[];\n}\n\nexport async function analyzePriceTrends(\n  params: AnalyzePriceTrendsParams,\n  context: ConversationContext\n): Promise<TrendAnalysisResult> {\n  console.log(`[MonitoringHandler] Analyzing price trends for:`, params.hotelId);\n\n  try {\n    // Calculate days until travel\n    const travelDate = new Date(params.travelDates.from);\n    const daysUntilTravel = Math.ceil((travelDate.getTime() - Date.now()) / (1000 * 60 * 60 * 24));\n\n    // Determine trend based on various factors (mocked)\n    const trends = ['rising', 'falling', 'stable'] as const;\n    const currentTrend = trends[Math.floor(Math.random() * 3)];\n    const trendStrength = Math.floor(Math.random() * 60) + 20;\n\n    // Generate insights based on analysis\n    const insights: string[] = [];\n    const recommendations: string[] = [];\n\n    if (currentTrend === 'falling') {\n      insights.push('Prices have dropped 12% over the past 2 weeks');\n      insights.push('Historically, prices for these dates bottom out 3 weeks before check-in');\n      recommendations.push('Wait 1-2 more weeks before booking to catch the lowest price');\n    } else if (currentTrend === 'rising') {\n      insights.push('Prices have increased 8% in the last week');\n      insights.push('There\\'s an event in the area driving up demand');\n      recommendations.push('Book soon to lock in current prices');\n      recommendations.push('Consider flexible dates 1 week earlier for better rates');\n    } else {\n      insights.push('Prices have remained stable for the past month');\n      insights.push('Current price is close to the 90-day average');\n      recommendations.push('This is a good time to book - prices are fair');\n    }\n\n    // Add weekend insight\n    const dayOfWeek = travelDate.getDay();\n    if (dayOfWeek === 5 || dayOfWeek === 6) {\n      insights.push('Weekend check-in typically costs 15-20% more');\n      recommendations.push('Consider Thursday or Sunday check-in for savings');\n    }\n\n    // Add seasonality insight\n    const month = travelDate.getMonth();\n    if (month >= 10 || month <= 2) {\n      insights.push('This is high season in Dubai - expect premium pricing');\n    }\n\n    return {\n      hotelId: params.hotelId,\n      hotelName: 'Sample Hotel Dubai',\n      travelDates: params.travelDates,\n      currentTrend,\n      trendStrength,\n      prediction: {\n        direction: currentTrend === 'rising' ? 'up' : currentTrend === 'falling' ? 'down' : 'stable',\n        confidence: trendStrength + 20,\n        expectedChange: currentTrend === 'rising' ? 8 : currentTrend === 'falling' ? -10 : 0,\n        optimalBookingWindow: {\n          from: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n          to: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n        }\n      },\n      insights,\n      recommendations,\n      competitorComparison: [\n        { hotelName: 'Similar Hotel A', priceDifference: -25, rating: 8.7 },\n        { hotelName: 'Similar Hotel B', priceDifference: +40, rating: 9.1 },\n        { hotelName: 'Similar Hotel C', priceDifference: -10, rating: 8.5 }\n      ]\n    };\n  } catch (error: any) {\n    console.error(`[MonitoringHandler] Trend analysis error:`, error);\n    throw new Error(`Failed to analyze price trends: ${error.message}`);\n  }\n}\n\n// ========================================\n// SCRAPER UTILITIES (Based on hotel-price-monitor)\n// ========================================\n\nexport interface ScraperConfig {\n  headless?: boolean;\n  proxy?: string;\n  userAgent?: string;\n  timeout?: number;\n}\n\nexport interface ScrapedPrice {\n  hotelName: string;\n  roomType: string;\n  price: number;\n  currency: string;\n  originalPrice?: number;\n  discount?: number;\n  cancellationPolicy: string;\n  boardType: string;\n  scrapedAt: Date;\n}\n\n/**\n * Placeholder for Booking.com scraper\n * In production, this would use Playwright to scrape prices\n */\nexport async function scrapeBookingComPrices(\n  url: string,\n  checkIn: string,\n  checkOut: string,\n  config?: ScraperConfig\n): Promise<ScrapedPrice[]> {\n  console.log(`[MonitoringHandler] Scraping prices from: ${url}`);\n\n  // In production:\n  // const browser = await chromium.launch({ headless: config?.headless ?? true });\n  // const page = await browser.newPage();\n  // await page.goto(url);\n  // ... scraping logic\n\n  // Mock response\n  return [\n    {\n      hotelName: extractHotelNameFromUrl(url),\n      roomType: 'Deluxe Room',\n      price: 289,\n      currency: 'USD',\n      originalPrice: 340,\n      discount: 15,\n      cancellationPolicy: 'Free cancellation',\n      boardType: 'Breakfast included',\n      scrapedAt: new Date()\n    },\n    {\n      hotelName: extractHotelNameFromUrl(url),\n      roomType: 'Suite',\n      price: 489,\n      currency: 'USD',\n      cancellationPolicy: 'Non-refundable',\n      boardType: 'Room only',\n      scrapedAt: new Date()\n    }\n  ];\n}\n\n// Export all handlers\nexport const monitoringHandlers = {\n  trackHotelPrice,\n  getPriceHistory,\n  analyzePriceTrends,\n  scrapeBookingComPrices\n};\n","/**\n * Booking Handlers\n * Tool handlers for hotel search, prebook, and booking operations\n * Based on: ai-travel-agent-platform Medici API integration\n */\n\nimport type { ConversationContext } from '../types';\n\nconst MEDICI_API_URL = process.env.MEDICI_API_URL || 'https://api.medicihotels.com';\nconst MEDICI_API_KEY = process.env.MEDICI_API_KEY || '';\n\n// ========================================\n// HOTEL SEARCH\n// ========================================\n\ninterface SearchHotelsParams {\n  destination: string;\n  checkIn: string;\n  checkOut: string;\n  adults: number;\n  children?: number[];\n  stars?: number[];\n  maxPrice?: number;\n  amenities?: string[];\n}\n\ninterface HotelSearchResult {\n  hotelId: string;\n  name: string;\n  stars: number;\n  address: string;\n  imageUrl: string;\n  rating: number;\n  reviewCount: number;\n  rooms: RoomOption[];\n  amenities: string[];\n  distance?: string;\n}\n\ninterface RoomOption {\n  roomCode: string;\n  roomName: string;\n  boardType: string;\n  price: number;\n  originalPrice?: number;\n  currency: string;\n  cancellationPolicy: string;\n  maxOccupancy: number;\n  available: number;\n}\n\nexport async function searchHotels(\n  params: SearchHotelsParams,\n  context: ConversationContext\n): Promise<{ hotels: HotelSearchResult[]; searchId: string; totalResults: number }> {\n  console.log(`[BookingHandler] Searching hotels:`, params);\n\n  try {\n    // Build search request for Medici API\n    const searchRequest = {\n      destination: params.destination,\n      checkIn: params.checkIn,\n      checkOut: params.checkOut,\n      occupancies: [{\n        adults: params.adults,\n        children: params.children?.map(age => ({ age })) || []\n      }],\n      filters: {\n        stars: params.stars,\n        maxPrice: params.maxPrice,\n        amenities: params.amenities\n      }\n    };\n\n    // In production, call actual Medici API\n    // const response = await fetch(`${MEDICI_API_URL}/search`, {\n    //   method: 'POST',\n    //   headers: {\n    //     'Content-Type': 'application/json',\n    //     'Authorization': `Bearer ${MEDICI_API_KEY}`\n    //   },\n    //   body: JSON.stringify(searchRequest)\n    // });\n\n    // For now, return mock data\n    const mockResults: HotelSearchResult[] = [\n      {\n        hotelId: 'htl-dubai-001',\n        name: 'Burj Al Arab Jumeirah',\n        stars: 5,\n        address: 'Jumeirah Beach Road, Dubai, UAE',\n        imageUrl: '/hotels/burj-al-arab.jpg',\n        rating: 9.4,\n        reviewCount: 12543,\n        amenities: ['Spa', 'Pool', 'WiFi', 'Beach Access', 'Restaurant', 'Butler Service'],\n        rooms: [\n          {\n            roomCode: 'room-001',\n            roomName: 'Deluxe Suite',\n            boardType: 'Breakfast Included',\n            price: 2500,\n            originalPrice: 2800,\n            currency: 'USD',\n            cancellationPolicy: 'Free cancellation until 24h before',\n            maxOccupancy: 2,\n            available: 3\n          },\n          {\n            roomCode: 'room-002',\n            roomName: 'Panoramic Suite',\n            boardType: 'Half Board',\n            price: 3800,\n            currency: 'USD',\n            cancellationPolicy: 'Non-refundable',\n            maxOccupancy: 3,\n            available: 1\n          }\n        ]\n      },\n      {\n        hotelId: 'htl-dubai-002',\n        name: 'Atlantis The Palm',\n        stars: 5,\n        address: 'Crescent Road, The Palm, Dubai, UAE',\n        imageUrl: '/hotels/atlantis.jpg',\n        rating: 8.9,\n        reviewCount: 28912,\n        amenities: ['Waterpark', 'Pool', 'WiFi', 'Beach', 'Aquarium', 'Kids Club'],\n        rooms: [\n          {\n            roomCode: 'room-003',\n            roomName: 'Palm Beach Room',\n            boardType: 'Room Only',\n            price: 450,\n            originalPrice: 520,\n            currency: 'USD',\n            cancellationPolicy: 'Free cancellation until 48h before',\n            maxOccupancy: 2,\n            available: 8\n          }\n        ]\n      },\n      {\n        hotelId: 'htl-dubai-003',\n        name: 'Four Seasons Resort Dubai',\n        stars: 5,\n        address: 'Jumeirah Beach, Dubai, UAE',\n        imageUrl: '/hotels/four-seasons.jpg',\n        rating: 9.2,\n        reviewCount: 8234,\n        amenities: ['Spa', 'Pool', 'WiFi', 'Beach', 'Golf', 'Tennis'],\n        rooms: [\n          {\n            roomCode: 'room-004',\n            roomName: 'Premier Room',\n            boardType: 'Breakfast Included',\n            price: 680,\n            currency: 'USD',\n            cancellationPolicy: 'Free cancellation until 72h before',\n            maxOccupancy: 2,\n            available: 5\n          }\n        ]\n      }\n    ];\n\n    // Store search context\n    if (context) {\n      context.bookingData = {\n        ...context.bookingData,\n        lastSearch: {\n          params,\n          timestamp: new Date(),\n          results: mockResults.map(h => ({ hotelId: h.hotelId, name: h.name }))\n        }\n      };\n    }\n\n    return {\n      hotels: mockResults,\n      searchId: `search-${Date.now()}`,\n      totalResults: mockResults.length\n    };\n  } catch (error: any) {\n    console.error(`[BookingHandler] Search error:`, error);\n    throw new Error(`Hotel search failed: ${error.message}`);\n  }\n}\n\n// ========================================\n// PREBOOK ROOM\n// ========================================\n\ninterface PrebookParams {\n  roomCode: string;\n  hotelId: string;\n  checkIn: string;\n  checkOut: string;\n  guests: {\n    adults: number;\n    children?: { age: number }[];\n  };\n}\n\ninterface PrebookResult {\n  success: boolean;\n  token: string;\n  expiresAt: Date;\n  pricing: {\n    roomRate: number;\n    taxes: number;\n    fees: number;\n    total: number;\n    currency: string;\n  };\n  cancellationPolicy: {\n    freeCancellationUntil?: Date;\n    penalties: { from: Date; amount: number }[];\n  };\n  hotelDetails: {\n    hotelId: string;\n    name: string;\n    roomName: string;\n    checkIn: string;\n    checkOut: string;\n    nights: number;\n  };\n}\n\nexport async function prebookRoom(\n  params: PrebookParams,\n  context: ConversationContext\n): Promise<PrebookResult> {\n  console.log(`[BookingHandler] Pre-booking room:`, params);\n\n  try {\n    // Calculate nights\n    const checkIn = new Date(params.checkIn);\n    const checkOut = new Date(params.checkOut);\n    const nights = Math.ceil((checkOut.getTime() - checkIn.getTime()) / (1000 * 60 * 60 * 24));\n\n    // Mock prebook response\n    const result: PrebookResult = {\n      success: true,\n      token: `prebook-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      expiresAt: new Date(Date.now() + 30 * 60 * 1000), // 30 minutes\n      pricing: {\n        roomRate: 680 * nights,\n        taxes: 68 * nights,\n        fees: 25,\n        total: (680 + 68) * nights + 25,\n        currency: 'USD'\n      },\n      cancellationPolicy: {\n        freeCancellationUntil: new Date(checkIn.getTime() - 72 * 60 * 60 * 1000),\n        penalties: [\n          { from: new Date(checkIn.getTime() - 72 * 60 * 60 * 1000), amount: 680 },\n          { from: new Date(checkIn.getTime() - 24 * 60 * 60 * 1000), amount: 680 * nights }\n        ]\n      },\n      hotelDetails: {\n        hotelId: params.hotelId,\n        name: 'Four Seasons Resort Dubai',\n        roomName: 'Premier Room',\n        checkIn: params.checkIn,\n        checkOut: params.checkOut,\n        nights\n      }\n    };\n\n    // Store prebook context\n    if (context) {\n      context.bookingData = {\n        ...context.bookingData,\n        prebook: {\n          token: result.token,\n          expiresAt: result.expiresAt,\n          hotelId: params.hotelId,\n          roomCode: params.roomCode,\n          pricing: result.pricing\n        }\n      };\n    }\n\n    return result;\n  } catch (error: any) {\n    console.error(`[BookingHandler] Prebook error:`, error);\n    throw new Error(`Pre-booking failed: ${error.message}`);\n  }\n}\n\n// ========================================\n// BOOK ROOM\n// ========================================\n\ninterface BookRoomParams {\n  token: string;\n  roomCode: string;\n  customer: {\n    firstName: string;\n    lastName: string;\n    email: string;\n    phone: string;\n    address?: {\n      street: string;\n      city: string;\n      country: string;\n      postalCode: string;\n    };\n  };\n  guests: Array<{\n    firstName: string;\n    lastName: string;\n    isLeadGuest?: boolean;\n  }>;\n  specialRequests?: string;\n  paymentMethod?: string;\n}\n\ninterface BookingResult {\n  success: boolean;\n  bookingId: string;\n  confirmationNumber: string;\n  status: 'confirmed' | 'pending' | 'failed';\n  hotelConfirmation?: string;\n  totalPaid: number;\n  currency: string;\n  bookingDetails: {\n    hotelName: string;\n    roomName: string;\n    checkIn: string;\n    checkOut: string;\n    guests: string[];\n    specialRequests?: string;\n  };\n  paymentDetails: {\n    method: string;\n    last4?: string;\n    transactionId: string;\n  };\n  cancellationPolicy: string;\n}\n\nexport async function bookRoom(\n  params: BookRoomParams,\n  context: ConversationContext\n): Promise<BookingResult> {\n  console.log(`[BookingHandler] Completing booking:`, params);\n\n  try {\n    // Validate prebook token\n    if (!context?.bookingData?.prebook?.token || context.bookingData.prebook.token !== params.token) {\n      throw new Error('Invalid or expired prebook token');\n    }\n\n    // Check token expiration\n    if (new Date() > new Date(context.bookingData.prebook.expiresAt)) {\n      throw new Error('Prebook token has expired. Please search again.');\n    }\n\n    // Generate booking confirmation\n    const bookingId = `BK-${Date.now()}-${Math.random().toString(36).substr(2, 6).toUpperCase()}`;\n    const confirmationNumber = `CNF-${Math.random().toString(36).substr(2, 8).toUpperCase()}`;\n\n    const result: BookingResult = {\n      success: true,\n      bookingId,\n      confirmationNumber,\n      status: 'confirmed',\n      hotelConfirmation: `HC-${Math.random().toString(36).substr(2, 6).toUpperCase()}`,\n      totalPaid: context.bookingData.prebook.pricing.total,\n      currency: context.bookingData.prebook.pricing.currency,\n      bookingDetails: {\n        hotelName: 'Four Seasons Resort Dubai',\n        roomName: 'Premier Room',\n        checkIn: context.bookingData.prebook.checkIn || '2024-03-15',\n        checkOut: context.bookingData.prebook.checkOut || '2024-03-18',\n        guests: params.guests.map(g => `${g.firstName} ${g.lastName}`),\n        specialRequests: params.specialRequests\n      },\n      paymentDetails: {\n        method: params.paymentMethod || 'card',\n        last4: '4242',\n        transactionId: `txn-${Date.now()}`\n      },\n      cancellationPolicy: 'Free cancellation until 72 hours before check-in'\n    };\n\n    // Update context with booking result\n    if (context) {\n      context.bookingData = {\n        ...context.bookingData,\n        confirmedBooking: {\n          bookingId,\n          confirmationNumber,\n          status: 'confirmed',\n          bookedAt: new Date()\n        }\n      };\n    }\n\n    return result;\n  } catch (error: any) {\n    console.error(`[BookingHandler] Booking error:`, error);\n    throw new Error(`Booking failed: ${error.message}`);\n  }\n}\n\n// ========================================\n// CANCEL BOOKING\n// ========================================\n\ninterface CancelBookingParams {\n  bookingId: string;\n  reason?: string;\n  force?: boolean;\n}\n\ninterface CancellationResult {\n  success: boolean;\n  cancellationId: string;\n  refundAmount: number;\n  refundCurrency: string;\n  penaltyApplied: number;\n  refundMethod: string;\n  refundEta: string;\n  message: string;\n}\n\nexport async function cancelBooking(\n  params: CancelBookingParams,\n  context: ConversationContext\n): Promise<CancellationResult> {\n  console.log(`[BookingHandler] Cancelling booking:`, params);\n\n  try {\n    // Mock cancellation - check if within free cancellation period\n    const isWithinFreePeriod = Math.random() > 0.3; // 70% chance it's within free period\n\n    const originalAmount = 2244; // Example amount\n    const penaltyAmount = isWithinFreePeriod ? 0 : 680;\n    const refundAmount = originalAmount - penaltyAmount;\n\n    const result: CancellationResult = {\n      success: true,\n      cancellationId: `CAN-${Date.now()}-${Math.random().toString(36).substr(2, 6).toUpperCase()}`,\n      refundAmount,\n      refundCurrency: 'USD',\n      penaltyApplied: penaltyAmount,\n      refundMethod: 'Original payment method',\n      refundEta: '5-7 business days',\n      message: isWithinFreePeriod \n        ? 'Your booking has been cancelled with a full refund.'\n        : `Your booking has been cancelled. A cancellation fee of $${penaltyAmount} was applied.`\n    };\n\n    return result;\n  } catch (error: any) {\n    console.error(`[BookingHandler] Cancellation error:`, error);\n    throw new Error(`Cancellation failed: ${error.message}`);\n  }\n}\n\n// ========================================\n// GET CANCELLATION POLICY\n// ========================================\n\ninterface GetCancellationPolicyParams {\n  bookingId: string;\n}\n\ninterface CancellationPolicyResult {\n  bookingId: string;\n  hotelName: string;\n  checkIn: string;\n  currentStatus: string;\n  policy: {\n    freeCancellationUntil?: string;\n    isWithinFreePeriod: boolean;\n    penalties: Array<{\n      fromDate: string;\n      amount: number;\n      currency: string;\n      description: string;\n    }>;\n  };\n  recommendation: string;\n}\n\nexport async function getCancellationPolicy(\n  params: GetCancellationPolicyParams,\n  context: ConversationContext\n): Promise<CancellationPolicyResult> {\n  console.log(`[BookingHandler] Getting cancellation policy:`, params);\n\n  const checkIn = new Date('2024-03-15');\n  const freeCancellationDate = new Date(checkIn.getTime() - 72 * 60 * 60 * 1000);\n  const now = new Date();\n  const isWithinFreePeriod = now < freeCancellationDate;\n\n  return {\n    bookingId: params.bookingId,\n    hotelName: 'Four Seasons Resort Dubai',\n    checkIn: '2024-03-15',\n    currentStatus: 'confirmed',\n    policy: {\n      freeCancellationUntil: freeCancellationDate.toISOString(),\n      isWithinFreePeriod,\n      penalties: [\n        {\n          fromDate: freeCancellationDate.toISOString(),\n          amount: 680,\n          currency: 'USD',\n          description: 'First night penalty (72-24 hours before check-in)'\n        },\n        {\n          fromDate: new Date(checkIn.getTime() - 24 * 60 * 60 * 1000).toISOString(),\n          amount: 2244,\n          currency: 'USD',\n          description: 'Full booking amount (less than 24 hours)'\n        }\n      ]\n    },\n    recommendation: isWithinFreePeriod\n      ? 'You can cancel now for a full refund!'\n      : 'Cancellation will incur a penalty. Consider rescheduling instead.'\n  };\n}\n\n// Export all handlers\nexport const bookingHandlers = {\n  searchHotels,\n  prebookRoom,\n  bookRoom,\n  cancelBooking,\n  getCancellationPolicy\n};\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","React"],"mappings":"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","ignoreList":[0,1,2]}