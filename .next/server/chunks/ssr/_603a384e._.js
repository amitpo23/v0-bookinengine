module.exports=[81213,a=>{"use strict";function b(a,c="he"){return a.toLocaleDateString("he"===c?"he-IL":"en-US",{day:"numeric",month:"short",year:"numeric"})}function c(a,b="he"){return a.toLocaleDateString("he"===b?"he-IL":"en-US",{day:"2-digit",month:"2-digit",year:"2-digit"})}function d(a,b){let c=new Date(a);return c.setDate(c.getDate()+b),c}function e(a,b){let c=new Date(a);return c.setDate(c.getDate()-b),c}function f(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${b}-${c}-${d}`}a.s(["addDays",()=>d,"formatDate",()=>b,"formatDateForApi",()=>f,"formatDateShort",()=>c,"subDays",()=>e])},58213,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d={id:"demo-hotel",name:"מלון הדגמה",hotelId:"demo-1",hotelName:"Demo Hotel",city:"Tel Aviv",stars:5,currency:"₪",enableWidget:!0,enableAiChat:!0,plan:"enterprise",apiSettings:{mediciHotelId:"",mediciHotelName:""},widgetSettings:{language:"he",showPrices:!0,showAvailability:!0,primaryColor:"#1a56db",secondaryColor:"#7c3aed"},aiChatSettings:{welcomeMessage:"Hello! I'm your AI booking assistant. How can I help you today?",welcomeMessageHe:"שלום! אני העוזר החכם שלך להזמנות. איך אוכל לעזור לך היום?",personality:"professional",language:"he",primaryColor:"#10b981"}},e=(0,c.createContext)(void 0);function f({children:a}){let[f,g]=(0,c.useState)([d]),[h,i]=(0,c.useState)(d);return(0,c.useEffect)(()=>{let a=localStorage.getItem("hotelConfigs");if(a){let b=JSON.parse(a);g(b),i(b[0]||d)}},[]),(0,c.useEffect)(()=>{localStorage.setItem("hotelConfigs",JSON.stringify(f))},[f]),(0,b.jsx)(e.Provider,{value:{currentHotel:h,setCurrentHotel:a=>{i(a)},hotels:f,addHotel:a=>{g(b=>[...b,a])},updateHotel:a=>{g(b=>b.map(b=>b.id===a.id?a:b)),h?.id===a.id&&i(a)},deleteHotel:a=>{g(b=>b.filter(b=>b.id!==a)),h?.id===a&&i(f[0]||null)},isWidgetEnabled:h?.enableWidget??!1,isAiChatEnabled:h?.enableAiChat??!1},children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useHotelConfig must be used within HotelConfigProvider");return a}a.s(["HotelConfigProvider",()=>f,"useHotelConfig",()=>g])},24808,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(76058),e=a.i(29457),f=a.i(58213),g=a.i(72131),h=a.i(81213),i=a.i(40695),j=a.i(30342),k=a.i(97895),l=a.i(4272);let m=()=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,b.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,b.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,b.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),n=()=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"M5 12h14"})}),o=()=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M5 12h14"}),(0,b.jsx)("path",{d:"M12 5v14"})]}),p=()=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",children:(0,b.jsx)("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})});function q({hotelConfig:a,onSearch:c}){let{search:f,setSearch:q,setCurrentStep:r,setSearchResults:s,setIsSearching:t,setSearchError:u,isSearching:v,searchError:w}=(0,d.useBooking)(),{t:x,locale:y,dir:z}=(0,e.useI18n)(),[A,B]=(0,g.useState)(!1),C=async()=>{if(!f.checkIn||!f.checkOut)return void u("he"===y?"יש לבחור תאריכי צ'ק-אין וצ'ק-אאוט":"Please select check-in and check-out dates");let b=a.apiSettings.mediciHotelName;if(!b)return void u("he"===y?"המלון לא מוגדר במערכת":"Hotel not configured");t(!0),u(null);try{let a=(0,h.formatDateForApi)(f.checkIn),d=(0,h.formatDateForApi)(f.checkOut),e={hotelName:b,dateFrom:a,dateTo:d,adults:f.adults,children:f.childrenAges||[],limit:20},g=await fetch("/api/hotels/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await g.json();if(!g.ok)throw Error(i.error||"Search failed");let j=i.data||i.results||[];s(j),0===j.length?u("he"===y?"לא נמצאו חדרים זמינים בתאריכים אלו":"No rooms available for these dates"):(r(2),c?.())}catch(a){u(a.message||"Failed to search")}finally{t(!1)}};return(0,b.jsxs)("div",{className:"bg-card rounded-xl border border-border p-6 shadow-lg",dir:z,children:[(0,b.jsxs)("div",{className:"mb-6 text-center",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-foreground",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.city})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsx)(l.DatePickerInput,{value:f.checkIn,onChange:a=>q({...f,checkIn:a}),minDate:new Date,label:x("checkIn"),placeholder:x("selectDate"),dir:z}),(0,b.jsx)(l.DatePickerInput,{value:f.checkOut,onChange:a=>q({...f,checkOut:a}),minDate:f.checkIn?new Date(f.checkIn.getTime()+864e5):new Date,label:x("checkOut"),placeholder:x("selectDate"),dir:z}),(0,b.jsxs)(j.Popover,{open:A,onOpenChange:B,children:[(0,b.jsx)(j.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(i.Button,{variant:"outline",className:(0,k.cn)("w-full justify-start h-14 px-4 bg-transparent","rtl"===z?"text-right":"text-left"),children:[(0,b.jsxs)("div",{className:(0,k.cn)("flex flex-col gap-0.5 flex-1","items-start"),children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:x("guests")}),(0,b.jsxs)("span",{className:"font-medium",children:[f.adults," ",x("adults"),f.children>0?`, ${f.children} ${x("children")}`:""]})]}),(0,b.jsx)(m,{})]})}),(0,b.jsx)(j.PopoverContent,{className:"w-72",align:"start",children:(0,b.jsxs)("div",{className:"space-y-4",dir:z,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:x("adults")}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:x("adultsAge")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(i.Button,{variant:"outline",size:"icon",className:"h-8 w-8 bg-transparent",onClick:()=>q({...f,adults:Math.max(1,f.adults-1)}),disabled:f.adults<=1,children:(0,b.jsx)(n,{})}),(0,b.jsx)("span",{className:"w-8 text-center font-medium",children:f.adults}),(0,b.jsx)(i.Button,{variant:"outline",size:"icon",className:"h-8 w-8 bg-transparent",onClick:()=>q({...f,adults:Math.min(10,f.adults+1)}),disabled:f.adults>=10,children:(0,b.jsx)(o,{})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:x("children")}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:x("childrenAges")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(i.Button,{variant:"outline",size:"icon",className:"h-8 w-8 bg-transparent",onClick:()=>q({...f,children:Math.max(0,f.children-1)}),disabled:f.children<=0,children:(0,b.jsx)(n,{})}),(0,b.jsx)("span",{className:"w-8 text-center font-medium",children:f.children}),(0,b.jsx)(i.Button,{variant:"outline",size:"icon",className:"h-8 w-8 bg-transparent",onClick:()=>q({...f,children:Math.min(6,f.children+1)}),disabled:f.children>=6,children:(0,b.jsx)(o,{})})]})]}),(0,b.jsx)(i.Button,{className:"w-full",onClick:()=>B(!1),children:x("confirm")})]})})]})]}),(0,b.jsx)(i.Button,{className:"w-full h-14 text-base font-semibold mt-4",onClick:C,disabled:v,style:{backgroundColor:a.widgetSettings.primaryColor},children:v?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p,{}),(0,b.jsx)("span",{className:"ml-2",children:"he"===y?"מחפש...":"Searching..."})]}):x("searchAvailability")}),w&&(0,b.jsx)("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-destructive text-sm",children:w})]})}let r={id:"demo",name:"מלון הדגמה",hotelId:"demo-1",hotelName:"Demo Hotel",city:"Tel Aviv",stars:5,currency:"₪",enableWidget:!0,enableAiChat:!1,plan:"enterprise",apiSettings:{mediciHotelId:"",mediciHotelName:"Grand Hotel"},widgetSettings:{language:"he",showPrices:!0,showAvailability:!0,primaryColor:"#1a56db",secondaryColor:"#7c3aed"},aiChatSettings:{welcomeMessage:"Hello!",welcomeMessageHe:"שלום!",personality:"professional",language:"he",primaryColor:"#10b981"}};function s(){let a=(0,c.useParams)().hotelId,{hotels:g}=(0,f.useHotelConfig)(),h=g.find(b=>b.id===a)||r;return h.enableWidget?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950 p-4",children:(0,b.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,b.jsx)(d.BookingProvider,{children:(0,b.jsx)(e.I18nProvider,{children:(0,b.jsx)(q,{hotelConfig:h})})})})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"מנוע ההזמנות אינו פעיל עבור מלון זה"})})})}function t(){return(0,b.jsx)(f.HotelConfigProvider,{children:(0,b.jsx)(s,{})})}a.s(["default",()=>t],24808)}];

//# sourceMappingURL=_603a384e._.js.map