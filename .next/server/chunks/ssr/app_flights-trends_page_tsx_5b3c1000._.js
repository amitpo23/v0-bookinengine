module.exports=[481818,a=>{"use strict";var b=a.i(187924),c=a.i(129457),d=a.i(572131),e=a.i(703130),f=a.i(205522),g=a.i(340695),h=a.i(254161),i=a.i(917171),j=a.i(887682),k=a.i(50180),l=a.i(941675),m=a.i(660246),n=a.i(596221),o=a.i(641710),p=a.i(421243);function q(){let[a,c]=(0,d.useState)("TLV"),[q,r]=(0,d.useState)(""),[s,t]=(0,d.useState)(""),[u,v]=(0,d.useState)(""),[w,x]=(0,d.useState)("1"),[y,z]=(0,d.useState)("ECONOMY"),[A,B]=(0,d.useState)([]),[C,D]=(0,d.useState)(!1),E=new Date().toISOString().split("T")[0];async function F(b){if(b.preventDefault(),!q||!s)return void p.showToast.error("Missing fields","Please fill origin, destination and departure date");D(!0);try{let b=await fetch("/api/flights",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"search",origin:a.toUpperCase(),destination:q.toUpperCase(),departureDate:s,returnDate:u||void 0,adults:parseInt(w),travelClass:y,maxResults:10})}),c=await b.json();c.success?(B(c.data),p.showToast.success("Success",`Found ${c.data.length} flights`)):p.showToast.error("Error",c.error||"Failed to search flights")}catch(a){p.showToast.error("Error","Failed to connect to flight service"),console.error("Flight search error:",a)}finally{D(!1)}}function G(a){return new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Plane,{className:"w-5 h-5"}),"Flight Search"]}),(0,b.jsx)(e.CardDescription,{children:"Search for flights worldwide"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"origin",children:"From (IATA Code)"}),(0,b.jsx)(f.Input,{id:"origin",placeholder:"TLV",value:a,onChange:a=>c(a.target.value),maxLength:3,required:!0,className:"uppercase"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"e.g., TLV, JFK, LHR, CDG"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"destination",children:"To (IATA Code)"}),(0,b.jsx)(f.Input,{id:"destination",placeholder:"JFK",value:q,onChange:a=>r(a.target.value),maxLength:3,required:!0,className:"uppercase"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"departure",className:"flex items-center gap-2",children:[(0,b.jsx)(l.Calendar,{className:"w-4 h-4"}),"Departure Date"]}),(0,b.jsx)(f.Input,{id:"departure",type:"date",value:s,onChange:a=>t(a.target.value),min:E,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"return",children:"Return Date (Optional)"}),(0,b.jsx)(f.Input,{id:"return",type:"date",value:u,onChange:a=>v(a.target.value),min:s||E})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"adults",className:"flex items-center gap-2",children:[(0,b.jsx)(m.Users,{className:"w-4 h-4"}),"Adults"]}),(0,b.jsx)(f.Input,{id:"adults",type:"number",value:w,onChange:a=>x(a.target.value),min:"1",max:"9",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"class",children:"Travel Class"}),(0,b.jsxs)(j.Select,{value:y,onValueChange:z,children:[(0,b.jsx)(j.SelectTrigger,{id:"class",children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"ECONOMY",children:"Economy"}),(0,b.jsx)(j.SelectItem,{value:"PREMIUM_ECONOMY",children:"Premium Economy"}),(0,b.jsx)(j.SelectItem,{value:"BUSINESS",children:"Business"}),(0,b.jsx)(j.SelectItem,{value:"FIRST",children:"First Class"})]})]})]})]}),(0,b.jsx)(g.Button,{type:"submit",disabled:C,className:"w-full",size:"lg",children:C?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching Flights..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Plane,{className:"w-4 h-4 mr-2"}),"Search Flights"]})})]})})]}),A.length>0&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold",children:["Found ",A.length," flights"]}),A.map(a=>(0,b.jsx)(e.Card,{className:"hover:shadow-md transition-shadow",children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Badge,{variant:"secondary",className:"text-xs",children:a.validatingAirlineCodes[0]}),a.itineraries[0].segments[0].carrierName&&(0,b.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:a.itineraries[0].segments[0].carrierName})]}),(0,b.jsx)(h.Badge,{variant:1===a.itineraries[0].segments.length?"default":"outline",children:1===a.itineraries[0].segments.length?"Direct":`${a.itineraries[0].segments.length-1} stop${a.itineraries[0].segments.length>2?"s":""}`})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-lg",children:a.itineraries[0].segments[0].departure.iataCode}),(0,b.jsx)("div",{className:"text-muted-foreground",children:G(a.itineraries[0].segments[0].departure.at)})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,b.jsx)(o.Clock,{className:"w-4 h-4 text-muted-foreground mb-1"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.itineraries[0].duration.replace("PT","").replace("H","h ").replace("M","m")}),(0,b.jsx)("div",{className:"w-full h-px bg-border mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-lg",children:a.itineraries[0].segments[a.itineraries[0].segments.length-1].arrival.iataCode}),(0,b.jsx)("div",{className:"text-muted-foreground",children:G(a.itineraries[0].segments[a.itineraries[0].segments.length-1].arrival.at)})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-end justify-center border-l pl-6",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-primary",children:["$",a.price.total]}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"per person"}),(0,b.jsx)(g.Button,{className:"mt-3",size:"sm",children:"Select Flight"})]})]})})},a.id))]}),!C&&0===A.length&&s&&(0,b.jsx)(e.Card,{children:(0,b.jsxs)(e.CardContent,{className:"pt-6 text-center text-muted-foreground",children:[(0,b.jsx)(k.Plane,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"No flights found. Try different dates or destinations."})]})})]})}var r=a.i(724669);let s=(0,a.i(170106).default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var t=a.i(124987),u=a.i(950463);function v(){let[a,c]=(0,d.useState)([]),[f,g]=(0,d.useState)(!0),[i,j]=(0,d.useState)(null);return((0,d.useEffect)(()=>{!async function(){try{let a=await fetch("/api/trends?action=top&limit=10"),b=await a.json();b.success?c(b.data):j(b.error||"Failed to fetch trends")}catch(a){j("Failed to connect to trends service"),console.error("Trends error:",a)}finally{g(!1)}}()},[]),f)?(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.TrendingUp,{className:"w-5 h-5"}),"Trending Destinations"]}),(0,b.jsx)(e.CardDescription,{children:"Loading popular travel destinations..."})]}),(0,b.jsx)(e.CardContent,{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Skeleton,{className:"h-4 w-32"}),(0,b.jsx)(u.Skeleton,{className:"h-3 w-full"})]},c))})]}):i?(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.TrendingUp,{className:"w-5 h-5"}),"Trending Destinations"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:i})})]}):(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.TrendingUp,{className:"w-5 h-5"}),"Trending Destinations"]}),(0,b.jsx)(e.CardDescription,{children:"Popular travel destinations right now"})]}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:a.map((a,c)=>(0,b.jsx)(e.Card,{className:"border-l-4 border-l-primary hover:shadow-md transition-shadow",children:(0,b.jsx)(e.CardContent,{className:"pt-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-2xl font-bold text-muted-foreground",children:["#",c+1]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-bold text-lg flex items-center gap-2",children:[a.destination,a.trending&&(0,b.jsx)(s,{className:"w-4 h-4 text-orange-500 animate-pulse"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,b.jsx)(t.MapPin,{className:"w-3 h-3"}),a.country]})]})]})}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.trending&&(0,b.jsx)(h.Badge,{className:"bg-orange-500 hover:bg-orange-600",children:"ðŸ”¥ Trending"}),(0,b.jsxs)(h.Badge,{variant:"outline",className:function(a){switch(a){case"high":return"bg-red-100 text-red-700 border-red-300";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"low":return"bg-green-100 text-green-700 border-green-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}}(a.seasonality),children:[a.seasonality," season"]})]}),a.topReasons.length>0&&(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-1",children:"Popular for:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.topReasons.slice(0,3).map((a,c)=>(0,b.jsx)(h.Badge,{variant:"secondary",className:"text-xs",children:a},c))})]}),a.bestMonths.length>0&&(0,b.jsx)("div",{className:"text-sm",children:(0,b.jsxs)("p",{className:"text-muted-foreground flex items-center gap-1",children:[(0,b.jsx)(l.Calendar,{className:"w-3 h-3"}),"Best time: ",a.bestMonths.slice(0,3).join(", ")]})})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center min-w-[80px]",children:[(0,b.jsxs)("div",{className:"relative w-16 h-16",children:[(0,b.jsxs)("svg",{className:"transform -rotate-90 w-16 h-16",children:[(0,b.jsx)("circle",{cx:"32",cy:"32",r:"28",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-gray-200"}),(0,b.jsx)("circle",{cx:"32",cy:"32",r:"28",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:`${2*Math.PI*28}`,strokeDashoffset:`${2*Math.PI*28*(1-a.popularityScore/100)}`,className:"text-primary transition-all duration-1000"})]}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-lg font-bold",children:a.popularityScore})})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"popularity"})]})]})})},a.destination))})]})}var w=a.i(621958),x=a.i(797063);function y(){return(0,b.jsx)(c.I18nProvider,{children:(0,b.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[(0,b.jsxs)("div",{className:"mb-8 space-y-2",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[(0,b.jsx)(k.Plane,{className:"w-8 h-8 text-primary"}),"Flights & Travel Trends"]}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg",children:"Search flights and discover trending destinations worldwide"})]}),(0,b.jsx)(e.Card,{className:"mb-6 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(x.Info,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"API Integration Status"}),(0,b.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:process.env.SERPAPI_KEY||process.env.AMADEUS_CLIENT_ID?"âœ… Live data from external APIs":"âš ï¸ Using simulated data - Add SERPAPI_KEY or AMADEUS credentials to .env.local for live data"})]})]})})}),(0,b.jsxs)(w.Tabs,{defaultValue:"search",className:"space-y-6",children:[(0,b.jsxs)(w.TabsList,{className:"grid w-full grid-cols-2 max-w-md",children:[(0,b.jsxs)(w.TabsTrigger,{value:"search",className:"flex items-center gap-2",children:[(0,b.jsx)(k.Plane,{className:"w-4 h-4"}),"Flight Search"]}),(0,b.jsxs)(w.TabsTrigger,{value:"trends",className:"flex items-center gap-2",children:[(0,b.jsx)(r.TrendingUp,{className:"w-4 h-4"}),"Trends"]})]}),(0,b.jsx)(w.TabsContent,{value:"search",className:"space-y-6",children:(0,b.jsx)(q,{})}),(0,b.jsx)(w.TabsContent,{value:"trends",className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,b.jsx)(v,{}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"About Travel Trends"}),(0,b.jsx)(e.CardDescription,{children:"Data-driven insights for your next trip"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Popularity Score"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Based on global search interest, social media mentions, and booking patterns. Higher scores indicate more popular destinations."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Seasonality"}),(0,b.jsxs)("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"font-medium text-red-600",children:"High:"})," Peak season - expect higher prices"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"font-medium text-yellow-600",children:"Medium:"})," Shoulder season - good balance"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"font-medium text-green-600",children:"Low:"})," Off-season - best deals"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"ðŸ”¥ Trending Status"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Destinations marked as trending are experiencing rapid growth in interest and bookings. Book early for the best prices!"})]})]})]})]})})]}),(0,b.jsxs)(e.Card,{className:"mt-8",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Common Airport Codes (IATA)"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Israel"}),(0,b.jsxs)("ul",{className:"space-y-1 text-muted-foreground",children:[(0,b.jsx)("li",{children:"TLV - Tel Aviv"}),(0,b.jsx)("li",{children:"ETM - Eilat (Ramon)"}),(0,b.jsx)("li",{children:"HFA - Haifa"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"USA"}),(0,b.jsxs)("ul",{className:"space-y-1 text-muted-foreground",children:[(0,b.jsx)("li",{children:"JFK - New York"}),(0,b.jsx)("li",{children:"LAX - Los Angeles"}),(0,b.jsx)("li",{children:"MIA - Miami"}),(0,b.jsx)("li",{children:"SFO - San Francisco"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Europe"}),(0,b.jsxs)("ul",{className:"space-y-1 text-muted-foreground",children:[(0,b.jsx)("li",{children:"LHR - London"}),(0,b.jsx)("li",{children:"CDG - Paris"}),(0,b.jsx)("li",{children:"BCN - Barcelona"}),(0,b.jsx)("li",{children:"FCO - Rome"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Middle East"}),(0,b.jsxs)("ul",{className:"space-y-1 text-muted-foreground",children:[(0,b.jsx)("li",{children:"DXB - Dubai"}),(0,b.jsx)("li",{children:"DOH - Doha"}),(0,b.jsx)("li",{children:"IST - Istanbul"})]})]})]})})]})]})})}a.s(["default",()=>y],481818)}];

//# sourceMappingURL=app_flights-trends_page_tsx_5b3c1000._.js.map