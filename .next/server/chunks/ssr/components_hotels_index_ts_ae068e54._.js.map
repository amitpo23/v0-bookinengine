{"version":3,"sources":["../../../../components/hotels/hotel-details-enhanced.tsx","../../../../components/hotels/hotel-card.tsx","../../../../components/magicui/animated-circular-progress-bar.tsx","../../../../components/hotels/hotel-results.tsx","../../../../components/hotels/hotel-rating.tsx","../../../../components/hotels/hotel-info.tsx","../../../../components/hotels/hotel-amenities.tsx","../../../../components/hotels/hotel-image-gallery-modal.tsx","../../../../components/hotels/hotel-image-gallery.tsx","../../../../node_modules/lucide-react/src/icons/building.ts","../../../../node_modules/lucide-react/src/icons/external-link.ts","../../../../lib/utils/cancellation-policy.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Loader2, ExternalLink, Star, MapPin, Building } from 'lucide-react';\r\nimport type { HotelData, TavilyHotelEnhancement } from '@/types/hotel-types';\r\n\r\ntype HotelDetailsEnhancedProps = {\r\n  hotel: HotelData;\r\n  city?: string;\r\n};\r\n\r\nexport function HotelDetailsEnhanced({ hotel, city = 'Tel Aviv' }: HotelDetailsEnhancedProps) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showEnhanced, setShowEnhanced] = useState(false);\r\n  \r\n  // Mock enhanced data for demo purposes\r\n  const mockEnhancedData: TavilyHotelEnhancement = {\r\n    description: `${hotel.hotelName} הוא מלון מעולה ממוקם ב${city}. המלון מציע שירות מעולה וחדרים מרווחים.`,\r\n    starRating: hotel.stars || 4,\r\n    amenities: hotel.facilities || ['Wifi', 'Pool', 'Gym', 'Restaurant', 'Spa'],\r\n    locationInfo: `המלון ממוקם במיקום מרכזי ב${city}, קרוב לאטרקציות תיירותיות מרכזיות.`,\r\n    reviewsSummary: [\r\n      {\r\n        source: 'TripAdvisor',\r\n        excerpt: 'מלון נהדר עם שירות מעולה ומיקום מושלם',\r\n        score: 0.92,\r\n        url: '#'\r\n      },\r\n      {\r\n        source: 'Booking.com',\r\n        excerpt: 'חוויה מצוינת, הצוות אדיב והחדרים נקיים',\r\n        score: 0.88,\r\n        url: '#'\r\n      }\r\n    ],\r\n    sources: {\r\n      reviews: ['tripadvisor.com', 'booking.com'],\r\n      amenities: ['hotels.com'],\r\n      location: ['google.com']\r\n    }\r\n  };\r\n\r\n  const handleFetchEnhanced = () => {\r\n    setIsLoading(true);\r\n    // Simulate API call\r\n    setTimeout(() => {\r\n      setShowEnhanced(true);\r\n      setIsLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Basic Hotel Info */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-start gap-4\">\r\n          {hotel.imageUrl && (\r\n            <div className=\"w-32 h-32 rounded-lg overflow-hidden flex-shrink-0\">\r\n              <img \r\n                src={hotel.imageUrl} \r\n                alt={hotel.hotelName}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n          )}\r\n          <div className=\"flex-1\">\r\n            <h2 className=\"text-2xl font-bold mb-2\">{hotel.hotelName}</h2>\r\n            <div className=\"flex items-center gap-2 text-muted-foreground mb-2\">\r\n              <MapPin className=\"h-4 w-4\" />\r\n              <span>{hotel.address || city}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"flex items-center gap-1\">\r\n                {Array.from({ length: hotel.stars || 4 }).map((_, i) => (\r\n                  <Star key={i} className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                ))}\r\n              </div>\r\n              <Badge variant=\"secondary\">{hotel.stars || 4} כוכבים</Badge>\r\n            </div>\r\n            {hotel.description && (\r\n              <p className=\"text-sm text-muted-foreground mt-3\">{hotel.description}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Image Gallery */}\r\n      {hotel.images && hotel.images.length > 0 && (\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">גלריית תמונות</h3>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n            {hotel.images.slice(0, 8).map((image, index) => (\r\n              <div key={index} className=\"aspect-video rounded-lg overflow-hidden\">\r\n                <img \r\n                  src={image} \r\n                  alt={`${hotel.hotelName} - ${index + 1}`}\r\n                  className=\"w-full h-full object-cover hover:scale-105 transition-transform\"\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Facilities */}\r\n      {hotel.facilities && hotel.facilities.length > 0 && (\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">מתקנים ושירותים</h3>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {hotel.facilities.map((facility, index) => (\r\n              <Badge key={index} variant=\"outline\" className=\"text-sm\">\r\n                {facility}\r\n              </Badge>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Enhanced Data Toggle */}\r\n      <div className=\"flex items-center justify-center\">\r\n        <Button\r\n          onClick={handleFetchEnhanced}\r\n          disabled={isLoading}\r\n          variant={showEnhanced ? \"outline\" : \"default\"}\r\n          className=\"gap-2\"\r\n        >\r\n          {isLoading ? (\r\n            <>\r\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n              טוען מידע מורחב...\r\n            </>\r\n          ) : showEnhanced ? (\r\n            <>\r\n              <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n              מידע מורחב מופעל\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Star className=\"h-4 w-4\" />\r\n              הצג מידע מורחב מהאינטרנט\r\n            </>\r\n          )}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Enhanced Data Display */}\r\n      {showEnhanced && (\r\n        <div className=\"space-y-6\">\r\n          {/* Star Rating */}\r\n          <Card className=\"p-6 bg-gradient-to-br from-yellow-50 to-amber-50 border-yellow-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold mb-1\">דירוג כוכבים</h3>\r\n                <p className=\"text-sm text-muted-foreground\">מבוסס על ביקורות באינטרנט</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-1\">\r\n                <span className=\"text-3xl font-bold\">{mockEnhancedData.starRating}</span>\r\n                <Star className=\"h-8 w-8 fill-yellow-400 text-yellow-400\" />\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Description */}\r\n          {mockEnhancedData.description && (\r\n            <Card className=\"p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\r\n                <Building className=\"h-5 w-5 text-blue-600\" />\r\n                תיאור המלון\r\n              </h3>\r\n              <p className=\"text-sm text-muted-foreground leading-relaxed\">\r\n                {mockEnhancedData.description}\r\n              </p>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Location Info */}\r\n          {mockEnhancedData.locationInfo && (\r\n            <Card className=\"p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\r\n                <MapPin className=\"h-5 w-5 text-green-600\" />\r\n                מיקום ואטרקציות\r\n              </h3>\r\n              <p className=\"text-sm text-muted-foreground leading-relaxed\">\r\n                {mockEnhancedData.locationInfo}\r\n              </p>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Reviews Summary */}\r\n          {mockEnhancedData.reviewsSummary && mockEnhancedData.reviewsSummary.length > 0 && (\r\n            <Card className=\"p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">ביקורות מהאינטרנט</h3>\r\n              <div className=\"space-y-4\">\r\n                {mockEnhancedData.reviewsSummary.map((review, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"p-4 rounded-lg bg-muted/50 border border-border\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between mb-2\">\r\n                      <h4 className=\"font-medium text-sm\">{review.source}</h4>\r\n                      <Badge variant=\"secondary\" className=\"text-xs\">\r\n                        {(review.score * 100).toFixed(0)}% רלוונטי\r\n                      </Badge>\r\n                    </div>\r\n                    <p className=\"text-sm text-muted-foreground mb-2\">\r\n                      {review.excerpt}\r\n                    </p>\r\n                    <a\r\n                      href={review.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"inline-flex items-center gap-1 text-xs text-primary hover:underline\"\r\n                    >\r\n                      קרא עוד\r\n                      <ExternalLink className=\"h-3 w-3\" />\r\n                    </a>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Sources */}\r\n          <Card className=\"p-4 bg-blue-50 border-blue-200\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"rounded-full bg-blue-500/20 p-2\">\r\n                <ExternalLink className=\"h-4 w-4 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"font-medium text-sm text-foreground\">\r\n                  מידע מורחב מהאינטרנט\r\n                </div>\r\n                <div className=\"text-xs text-muted-foreground mt-1\">\r\n                  המידע המורחב נאסף מ-{' '}\r\n                  {mockEnhancedData.sources.reviews.length +\r\n                    mockEnhancedData.sources.amenities.length +\r\n                    mockEnhancedData.sources.location.length}{' '}\r\n                  מקורות אמינים באינטרנט\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HotelDetailsEnhanced;\r\n","'use client';\r\n\r\nimport { Heart, Users } from 'lucide-react';\r\nimport Image from 'next/image';\r\nimport type { HotelData } from '@/types/hotel-types';\r\nimport { getCurrentCancellationStatus } from '@/lib/utils/cancellation-policy';\r\n\r\n// Hotel rating constants\r\nconst DEFAULT_RATING = 7.4;\r\nconst LUXURY_RATING = 8.0;\r\nconst SUPERIOR_RATING = 7.8;\r\n\r\n// Review count calculation constants\r\nconst REVIEW_COUNT_MULTIPLIER = 2000;\r\nconst REVIEW_COUNT_BASE = 1000;\r\n\r\n// Room availability constants\r\nconst AVAILABILITY_THRESHOLD = 0.5;\r\nconst LOW_AVAILABILITY_COUNT = 2;\r\nconst MEDIUM_AVAILABILITY_COUNT = 3;\r\nconst SHOW_AVAILABILITY_THRESHOLD = 0.3;\r\n\r\n// Other constants\r\nconst AD_DISPLAY_PROBABILITY = 0.8;\r\nconst GOOD_RATING_THRESHOLD = 7;\r\nconst PRICE_MARKUP_FACTOR = 1.15;\r\n\r\ntype HotelCardProps = {\r\n  hotel: HotelData;\r\n  onSelect?: (hotel: HotelData) => void;\r\n  className?: string;\r\n  nights?: number;\r\n};\r\n\r\ntype HotelImageSectionProps = {\r\n  hotel: HotelData;\r\n};\r\n\r\nfunction HotelImageSection({ hotel }: HotelImageSectionProps) {\r\n  const mainImage = hotel.images?.[0];\r\n\r\n  return (\r\n    <div className=\"relative h-full w-[280px] flex-shrink-0\">\r\n      {mainImage ? (\r\n        <Image\r\n          alt={hotel.hotelName}\r\n          className=\"object-cover\"\r\n          fill\r\n          sizes=\"280px\"\r\n          src={`https://cdn-images.innstant-servers.com/400x300/${mainImage.url}`}\r\n        />\r\n      ) : (\r\n        <div className=\"flex h-full w-full items-center justify-center bg-gray-200\">\r\n          <span className=\"text-gray-400 text-xs\">No image</span>\r\n        </div>\r\n      )}\r\n\r\n      <button\r\n        className=\"group absolute top-2 right-2 rounded-full bg-white/80 p-1.5 backdrop-blur-sm transition-colors hover:bg-white\"\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n        }}\r\n        type=\"button\"\r\n      >\r\n        <Heart\r\n          className=\"h-3.5 w-3.5 text-red-500 transition-colors group-hover:fill-red-500\"\r\n          strokeWidth={1.5}\r\n        />\r\n      </button>\r\n\r\n      {hotel.specialOffers && hotel.specialOffers.length > 0 && (\r\n        <div className=\"absolute top-2 left-2\">\r\n          <div className=\"rounded bg-purple-600 px-2 py-0.5 font-medium text-[10px] text-white\">\r\n            VIP Access\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {Math.random() > AD_DISPLAY_PROBABILITY && (\r\n        <div className=\"absolute bottom-2 left-2\">\r\n          <div className=\"rounded bg-gray-800/70 px-1.5 py-0.5 text-[10px] text-white\">\r\n            Ad\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\ntype HotelInfoSectionProps = {\r\n  hotel: HotelData;\r\n  rating: number;\r\n  reviewCount: number;\r\n  onSelect?: (hotel: HotelData) => void;\r\n};\r\n\r\nfunction HotelInfoSection({\r\n  hotel,\r\n  rating,\r\n  reviewCount,\r\n  onSelect,\r\n}: HotelInfoSectionProps) {\r\n  return (\r\n    <div className=\"flex-1 p-3 pr-0\">\r\n      <div className=\"flex h-full\">\r\n        <div className=\"flex-1 pr-3\">\r\n          <button\r\n            className=\"mb-1 block cursor-pointer text-left font-semibold text-blue-600 text-sm leading-tight hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\r\n            onClick={() => onSelect?.(hotel)}\r\n            type=\"button\"\r\n          >\r\n            {hotel.hotelName}\r\n          </button>\r\n\r\n          <div className=\"mb-2 text-[11px] text-gray-600\">\r\n            <span className=\"font-medium\">\r\n              {hotel.category === 'luxury' ? 'Downtown' : 'City Center'}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"mb-2 flex items-center gap-1\">\r\n            <Users className=\"h-3 w-3 text-gray-400\" />\r\n            <span className=\"text-[11px] text-gray-600\">Pool</span>\r\n          </div>\r\n\r\n          <div className=\"mb-1 font-semibold text-gray-800 text-xs\">\r\n            {hotel.roomType || 'Standard Room'}\r\n          </div>\r\n\r\n          <div className=\"text-[11px] text-gray-600 leading-relaxed\">\r\n            <div>Fully renovated resort featuring The Backyard Social</div>\r\n            <div>Club: 2 pools, cabanas, live music, lawn games and 2</div>\r\n            <div>poolside dining options...</div>\r\n          </div>\r\n\r\n          <div className=\"mt-2 text-[11px] text-gray-500\">\r\n            Reserve now, pay later\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col items-end pr-3\">\r\n          <div className=\"mb-auto flex items-center gap-2\">\r\n            <div className=\"text-right\">\r\n              <div className=\"font-medium text-xs\">\r\n                {rating >= GOOD_RATING_THRESHOLD ? 'Good' : 'Fair'}\r\n              </div>\r\n              <div className=\"text-[10px] text-gray-500\">\r\n                {reviewCount.toLocaleString()} reviews\r\n              </div>\r\n            </div>\r\n            <div className=\"flex h-7 w-7 items-center justify-center rounded bg-blue-800 font-bold text-white text-xs\">\r\n              {rating.toFixed(1)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ntype PriceSectionProps = {\r\n  currentPrice: number;\r\n  totalPrice: number;\r\n  showLeftBadge: boolean;\r\n  leftCount: number;\r\n  onSelect?: (hotel: HotelData) => void;\r\n  hotel: HotelData;\r\n};\r\n\r\nfunction PriceSection({\r\n  currentPrice,\r\n  totalPrice,\r\n  showLeftBadge,\r\n  leftCount,\r\n  onSelect,\r\n  hotel,\r\n}: PriceSectionProps) {\r\n  return (\r\n    <div className=\"flex w-[140px] flex-col border-gray-200 border-l p-3\">\r\n      {showLeftBadge && (\r\n        <div className=\"mb-2 rounded bg-green-600 px-2 py-1 text-center font-medium text-[10px] text-white\">\r\n          We have {leftCount} left at\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex flex-1 flex-col justify-center\">\r\n        <div className=\"text-right\">\r\n          <div className=\"text-gray-500 text-xs line-through\">\r\n            ${Math.floor(totalPrice * PRICE_MARKUP_FACTOR)}\r\n          </div>\r\n          <div className=\"mb-0.5 font-medium text-gray-500 text-sm\">\r\n            ${currentPrice} nightly\r\n          </div>\r\n          <div className=\"font-bold text-gray-900 text-lg\">\r\n            ${totalPrice} total\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-2 text-center text-[10px] text-green-600\">\r\n        ✓ Total includes taxes and fees\r\n      </div>\r\n\r\n      <button\r\n        className=\"w-full rounded bg-blue-600 py-2 font-medium text-white text-xs transition-colors hover:bg-blue-700\"\r\n        onClick={() => onSelect?.(hotel)}\r\n        type=\"button\"\r\n      >\r\n        Select Room\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function HotelCard({\r\n  hotel,\r\n  onSelect,\r\n  className = '',\r\n  nights = 2,\r\n}: HotelCardProps) {\r\n  const currentPrice = hotel.price;\r\n  const totalPrice = currentPrice * nights;\r\n\r\n  // Mock rating and reviews\r\n  let rating = DEFAULT_RATING;\r\n  if (hotel.category === 'luxury') {\r\n    rating = LUXURY_RATING;\r\n  } else if (hotel.category === 'superior') {\r\n    rating = SUPERIOR_RATING;\r\n  }\r\n  const reviewCount = Math.floor(\r\n    Math.random() * REVIEW_COUNT_MULTIPLIER + REVIEW_COUNT_BASE\r\n  );\r\n\r\n  // Get current cancellation status\r\n  const _cancellationStatus = getCurrentCancellationStatus(hotel.cancellation);\r\n\r\n  // Random \"we have X left\"\r\n  const leftCount =\r\n    Math.random() > AVAILABILITY_THRESHOLD\r\n      ? LOW_AVAILABILITY_COUNT\r\n      : MEDIUM_AVAILABILITY_COUNT;\r\n  const showLeftBadge = Math.random() > SHOW_AVAILABILITY_THRESHOLD;\r\n\r\n  return (\r\n    <div\r\n      className={`rounded-lg border border-gray-200 bg-white shadow-sm transition-all hover:bg-blue-50/30 hover:shadow-md ${className} overflow-hidden`}\r\n    >\r\n      <div className=\"flex h-[220px]\">\r\n        <HotelImageSection hotel={hotel} />\r\n        <HotelInfoSection\r\n          hotel={hotel}\r\n          onSelect={onSelect}\r\n          rating={rating}\r\n          reviewCount={reviewCount}\r\n        />\r\n        <PriceSection\r\n          currentPrice={currentPrice}\r\n          hotel={hotel}\r\n          leftCount={leftCount}\r\n          onSelect={onSelect}\r\n          showLeftBadge={showLeftBadge}\r\n          totalPrice={totalPrice}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\n\r\ninterface AnimatedCircularProgressBarProps {\r\n  value: number;\r\n  max?: number;\r\n  size?: number;\r\n  strokeWidth?: number;\r\n  className?: string;\r\n}\r\n\r\nexport function AnimatedCircularProgressBar({\r\n  value,\r\n  max = 100,\r\n  size = 120,\r\n  strokeWidth = 8,\r\n  className = '',\r\n}: AnimatedCircularProgressBarProps) {\r\n  const [progress, setProgress] = useState(0);\r\n  \r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setProgress(value);\r\n    }, 100);\r\n    return () => clearTimeout(timer);\r\n  }, [value]);\r\n\r\n  const percentage = Math.min((progress / max) * 100, 100);\r\n  const radius = (size - strokeWidth) / 2;\r\n  const circumference = 2 * Math.PI * radius;\r\n  const offset = circumference - (percentage / 100) * circumference;\r\n\r\n  return (\r\n    <div className={`relative inline-flex items-center justify-center ${className}`}>\r\n      <svg width={size} height={size} className=\"transform -rotate-90\">\r\n        {/* Background circle */}\r\n        <circle\r\n          cx={size / 2}\r\n          cy={size / 2}\r\n          r={radius}\r\n          stroke=\"currentColor\"\r\n          strokeWidth={strokeWidth}\r\n          fill=\"none\"\r\n          className=\"text-gray-200 dark:text-gray-700\"\r\n        />\r\n        {/* Progress circle */}\r\n        <circle\r\n          cx={size / 2}\r\n          cy={size / 2}\r\n          r={radius}\r\n          stroke=\"currentColor\"\r\n          strokeWidth={strokeWidth}\r\n          fill=\"none\"\r\n          strokeDasharray={circumference}\r\n          strokeDashoffset={offset}\r\n          className=\"text-primary transition-all duration-1000 ease-out\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n      </svg>\r\n      <div className=\"absolute inset-0 flex items-center justify-center\">\r\n        <span className=\"text-2xl font-bold\">{Math.round(percentage)}%</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { AnimatedCircularProgressBar } from '@/components/magicui/animated-circular-progress-bar';\r\nimport type { HotelData } from '@/types/hotel-types';\r\nimport type { SearchQuery } from '@/types/ui-types';\r\nimport HotelCard from './hotel-card';\r\n\r\n// Progress constants\r\nconst PROGRESS_COMPLETE = 100;\r\nconst PROGRESS_RESET_DELAY = 500;\r\nconst PROGRESS_CAP = 85;\r\nconst PROGRESS_INCREMENT_BASE = 5;\r\nconst PROGRESS_INCREMENT_MULTIPLIER = 10;\r\nconst PROGRESS_INTERVAL = 800;\r\nconst MILLISECONDS_PER_SECOND = 1000;\r\nconst MILLISECONDS_PER_DAY = MILLISECONDS_PER_SECOND * 60 * 60 * 24;\r\n\r\n// Progress stage thresholds\r\nconst PROGRESS_CONNECTING = 20;\r\nconst PROGRESS_AUTHENTICATING = 40;\r\nconst PROGRESS_SEARCHING = 60;\r\nconst PROGRESS_PROCESSING = 80;\r\n\r\ntype HotelResultsProps = {\r\n  hotels: HotelData[];\r\n  searchQuery?: SearchQuery;\r\n  onSelectHotel: (hotel: HotelData) => void;\r\n  isLoading?: boolean;\r\n  viewMode?: 'grid' | 'list';\r\n};\r\n\r\nexport function HotelResults({\r\n  hotels,\r\n  searchQuery,\r\n  onSelectHotel,\r\n  isLoading = false,\r\n  viewMode = 'list',\r\n}: HotelResultsProps) {\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const handleSearchStart = () => {\r\n      setProgress(0);\r\n      // Simulate realistic API progress stages\r\n      const progressStages = [\r\n        { value: 15, delay: 200 }, // Connecting to server\r\n        { value: 35, delay: 800 }, // Authenticating\r\n        { value: 55, delay: 1200 }, // Searching hotels\r\n        { value: 75, delay: 1800 }, // Processing results\r\n        { value: 90, delay: 2200 }, // Finalizing\r\n      ];\r\n\r\n      for (const { value, delay } of progressStages) {\r\n        setTimeout(() => setProgress(value), delay);\r\n      }\r\n    };\r\n\r\n    const handleSearchResults = () => {\r\n      setProgress(PROGRESS_COMPLETE);\r\n      setTimeout(() => setProgress(0), PROGRESS_RESET_DELAY); // Reset after completion\r\n    };\r\n\r\n    // Listen to real-time hotel search events\r\n    window.addEventListener('hotelSearchStart', handleSearchStart);\r\n    window.addEventListener('hotelSearchResults', handleSearchResults);\r\n\r\n    return () => {\r\n      window.removeEventListener('hotelSearchStart', handleSearchStart);\r\n      window.removeEventListener('hotelSearchResults', handleSearchResults);\r\n    };\r\n  }, []);\r\n\r\n  // Fallback progress for generic loading states\r\n  useEffect(() => {\r\n    if (isLoading && progress === 0) {\r\n      setProgress(10);\r\n      const interval = setInterval(() => {\r\n        setProgress((prev) => {\r\n          if (prev >= PROGRESS_CAP) {\r\n            return prev; // Cap at 85% until real completion\r\n          }\r\n          return (\r\n            prev +\r\n            Math.random() * PROGRESS_INCREMENT_MULTIPLIER +\r\n            PROGRESS_INCREMENT_BASE\r\n          );\r\n        });\r\n      }, PROGRESS_INTERVAL);\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [isLoading, progress]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex min-h-[400px] w-full items-center justify-center\">\r\n        <div className=\"flex flex-col items-center gap-4 text-center\">\r\n          <AnimatedCircularProgressBar\r\n            className=\"relative size-20 font-semibold text-sm\"\r\n            gaugePrimaryColor=\"rgb(59 130 246)\" // blue-500\r\n            gaugeSecondaryColor=\"rgba(59, 130, 246, 0.1)\"\r\n            value={progress}\r\n          />\r\n          <div className=\"space-y-1\">\r\n            <p className=\"text-muted-foreground text-sm\">\r\n              Searching for hotels...\r\n            </p>\r\n            <p className=\"text-muted-foreground/70 text-xs\">\r\n              {progress < PROGRESS_CONNECTING && 'Connecting to server...'}\r\n              {progress >= PROGRESS_CONNECTING &&\r\n                progress < PROGRESS_AUTHENTICATING &&\r\n                'Authenticating...'}\r\n              {progress >= PROGRESS_AUTHENTICATING &&\r\n                progress < PROGRESS_SEARCHING &&\r\n                'Searching hotels...'}\r\n              {progress >= PROGRESS_SEARCHING &&\r\n                progress < PROGRESS_PROCESSING &&\r\n                'Processing results...'}\r\n              {progress >= PROGRESS_PROCESSING &&\r\n                progress < PROGRESS_COMPLETE &&\r\n                'Finalizing...'}\r\n              {progress >= PROGRESS_COMPLETE && 'Complete!'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!hotels || hotels.length === 0) {\r\n    return (\r\n      <div className=\"flex min-h-[calc(70vh-8rem)] items-center justify-center text-center text-muted-foreground\">\r\n        <div>\r\n          <svg\r\n            aria-label=\"No hotels found\"\r\n            className=\"mx-auto mb-4 h-12 w-12 opacity-50\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <title>No hotels found</title>\r\n            <path\r\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n            />\r\n          </svg>\r\n          <h3 className=\"mb-2 font-medium text-foreground text-lg\">\r\n            No hotel search yet\r\n          </h3>\r\n          <p className=\"text-muted-foreground\">\r\n            Search for hotels in your desired destination.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const nights = searchQuery\r\n    ? Math.ceil(\r\n        (new Date(searchQuery.dateTo).getTime() -\r\n          new Date(searchQuery.dateFrom).getTime()) /\r\n          MILLISECONDS_PER_DAY\r\n      )\r\n    : 2;\r\n\r\n  return (\r\n    <div className={`@container/hotels w-full ${viewMode === 'grid' ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6' : 'space-y-2 md:space-y-3'}`}>\r\n      {/* Hotels */}\r\n      {hotels.map((hotel, index) => (\r\n        <HotelCard\r\n          hotel={hotel}\r\n          key={`${hotel.hotelId}-${index}`}\r\n          nights={nights}\r\n          onSelect={onSelectHotel}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { Star } from 'lucide-react';\r\n\r\ntype HotelRatingProps = {\r\n  rating: number;\r\n  showNumber?: boolean;\r\n  size?: 'sm' | 'md' | 'lg';\r\n  className?: string;\r\n};\r\n\r\nconst SIZE_CLASSES = {\r\n  sm: 'h-3 w-3',\r\n  md: 'h-4 w-4',\r\n  lg: 'h-5 w-5',\r\n};\r\n\r\nexport function HotelRating({\r\n  rating,\r\n  showNumber = false,\r\n  size = 'md',\r\n  className = '',\r\n}: HotelRatingProps) {\r\n  const stars = Math.round(rating);\r\n  const sizeClass = SIZE_CLASSES[size];\r\n\r\n  return (\r\n    <div className={`flex items-center gap-1 ${className}`}>\r\n      <div className=\"flex text-yellow-400\">\r\n        {[...Array(stars)].map((_, i) => (\r\n          <Star key={i} className={`${sizeClass} fill-current`} />\r\n        ))}\r\n      </div>\r\n      {showNumber && (\r\n        <span className=\"ml-1 text-sm text-gray-600\">({rating})</span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { Star } from 'lucide-react';\r\nimport type {\r\n  HotelData,\r\n  TavilyHotelEnhancement,\r\n} from '@/types/hotel-types';\r\nimport type { SearchQuery } from '@/types/ui-types';\r\nimport { HotelRating } from './hotel-rating';\r\n\r\ntype HotelInfoProps = {\r\n  hotel: HotelData;\r\n  searchQuery?: SearchQuery | null;\r\n  enhancedData?: TavilyHotelEnhancement | null;\r\n};\r\n\r\nconst DEFAULT_STAR_RATING = 4;\r\n\r\nconst getStarRating = (category: string) => {\r\n  const categoryMap: Record<string, number> = {\r\n    luxury: 5,\r\n    superior: 4,\r\n    standard: 3,\r\n    economy: 2,\r\n  };\r\n  return categoryMap[category?.toLowerCase()] || DEFAULT_STAR_RATING;\r\n};\r\n\r\nconst formatBoard = (board: string) => {\r\n  const boardMap: Record<string, string> = {\r\n    RO: 'Room Only',\r\n    BB: 'Bed & Breakfast',\r\n    HB: 'Half Board',\r\n    FB: 'Full Board',\r\n    AI: 'All Inclusive',\r\n  };\r\n  return boardMap[board] || board;\r\n};\r\n\r\nexport function HotelInfo({\r\n  hotel,\r\n  searchQuery,\r\n  enhancedData,\r\n}: HotelInfoProps) {\r\n  const hotelCategory = hotel.category || 'standard';\r\n  const fallbackStarRating = getStarRating(hotelCategory);\r\n\r\n  // Use enhanced rating if available, otherwise fall back to category-based rating\r\n  const _actualStarRating = enhancedData?.starRating || fallbackStarRating;\r\n\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <h3 className=\"mb-1 font-semibold text-sm\">{hotel.hotelName}</h3>\r\n\r\n      <div className=\"text-gray-600 text-xs\">\r\n        {searchQuery?.destination || 'Destination'}\r\n      </div>\r\n\r\n      <div className=\"my-2\">\r\n        {enhancedData?.starRating ? (\r\n          <HotelRating\r\n            rating={enhancedData.starRating}\r\n            showNumber={true}\r\n            size=\"sm\"\r\n          />\r\n        ) : (\r\n          <div className=\"flex text-yellow-400\">\r\n            {[...Array(fallbackStarRating)].map((_, i) => (\r\n              <div key={`star-${hotel.hotelName}-${i}`}>\r\n                <Star className=\"h-3 w-3 fill-current\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"space-y-0.5 text-gray-600 text-xs\">\r\n        <div>\r\n          Guest name: <span className=\"text-gray-800\">Not specified</span>\r\n        </div>\r\n        <div>\r\n          Room type:{' '}\r\n          <span className=\"text-gray-800\">\r\n            {hotel.roomType || 'Standard Room'}\r\n          </span>\r\n        </div>\r\n        <div>\r\n          Guests:{' '}\r\n          <span className=\"text-gray-800\">\r\n            {searchQuery?.adults || 2} adults\r\n            {searchQuery?.children?.length\r\n              ? `, ${searchQuery.children.length} children`\r\n              : ''}\r\n          </span>\r\n        </div>\r\n        <div>\r\n          Board:{' '}\r\n          <span className=\"text-gray-800\">\r\n            {formatBoard(hotel.board || 'RO')}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport {\r\n  Car,\r\n  Coffee,\r\n  Dumbbell,\r\n  MapPin,\r\n  Shield,\r\n  UtensilsCrossed,\r\n  Waves,\r\n  Wifi,\r\n  Wind,\r\n} from 'lucide-react';\r\n\r\ntype HotelAmenitiesProps = {\r\n  amenities: string[];\r\n  className?: string;\r\n};\r\n\r\n// Constants\r\nconst MAX_DISPLAYED_AMENITIES = 8;\r\n\r\n// Amenity keyword mappings to icons\r\nconst AMENITY_ICON_MAP = [\r\n  { keywords: ['wifi', 'internet'], icon: Wifi },\r\n  { keywords: ['parking', 'garage'], icon: Car },\r\n  { keywords: ['breakfast', 'coffee'], icon: Coffee },\r\n  { keywords: ['gym', 'fitness'], icon: Dumbbell },\r\n  { keywords: ['restaurant', 'dining'], icon: UtensilsCrossed },\r\n  { keywords: ['concierge', 'service'], icon: Shield },\r\n  { keywords: ['air conditioning', 'ac'], icon: Wind },\r\n  { keywords: ['pool', 'spa'], icon: Waves },\r\n];\r\n\r\n// Map amenity names to icons using lookup table\r\nconst getAmenityIcon = (amenity: string) => {\r\n  const amenityLower = amenity.toLowerCase();\r\n  const match = AMENITY_ICON_MAP.find(({ keywords }) =>\r\n    keywords.some((keyword) => amenityLower.includes(keyword))\r\n  );\r\n  const IconComponent = match?.icon || MapPin;\r\n  return <IconComponent className=\"h-5 w-5 text-gray-600\" />;\r\n};\r\n\r\nexport function HotelAmenities({\r\n  amenities,\r\n  className = '',\r\n}: HotelAmenitiesProps) {\r\n  if (!amenities || amenities.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  // Show max amenities to avoid overcrowding\r\n  const displayAmenities = amenities.slice(0, MAX_DISPLAYED_AMENITIES);\r\n  const hasMore = amenities.length > MAX_DISPLAYED_AMENITIES;\r\n\r\n  return (\r\n    <div className={className}>\r\n      <h4 className=\"text-lg font-semibold text-gray-900 mb-3\">Amenities & Services</h4>\r\n      <div className=\"grid grid-cols-2 gap-3\">\r\n        {displayAmenities.map((amenity) => (\r\n          <div\r\n            key={amenity}\r\n            className=\"flex items-center gap-2 text-gray-700 text-sm\"\r\n          >\r\n            {getAmenityIcon(amenity)}\r\n            <span>{amenity}</span>\r\n          </div>\r\n        ))}\r\n        {hasMore && (\r\n          <div className=\"flex items-center gap-2 text-blue-600 text-sm font-medium\">\r\n            <span className=\"text-lg\">+</span>\r\n            <span>+{amenities.length - MAX_DISPLAYED_AMENITIES} more amenities</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport {\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Download,\r\n  ExternalLink,\r\n  X,\r\n} from 'lucide-react';\r\nimport { useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\n\r\ntype CombinedImage = {\r\n  id: string;\r\n  url: string;\r\n  title?: string;\r\n  description?: string;\r\n  source: 'original' | 'external';\r\n};\r\n\r\ntype HotelImageGalleryModalProps = {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  images: CombinedImage[];\r\n  initialIndex: number;\r\n  hotelName: string;\r\n};\r\n\r\nexport function HotelImageGalleryModal({\r\n  isOpen,\r\n  onClose,\r\n  images,\r\n  initialIndex,\r\n  hotelName,\r\n}: HotelImageGalleryModalProps) {\r\n  const [currentIndex, setCurrentIndex] = useState(initialIndex);\r\n\r\n  if (!images.length) {\r\n    return null;\r\n  }\r\n\r\n  const currentImage = images[currentIndex];\r\n\r\n  const goToPrevious = () => {\r\n    setCurrentIndex((prev) => (prev === 0 ? images.length - 1 : prev - 1));\r\n  };\r\n\r\n  const goToNext = () => {\r\n    setCurrentIndex((prev) => (prev === images.length - 1 ? 0 : prev + 1));\r\n  };\r\n\r\n  const getImageSrc = (image: CombinedImage) => {\r\n    if (image.source === 'original') {\r\n      // Use high quality version for modal\r\n      return `https://cdn-images.innstant-servers.com/800x600/${image.url}`;\r\n    }\r\n    return image.url;\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    try {\r\n      const link = document.createElement('a');\r\n      link.href = getImageSrc(currentImage);\r\n      link.download = `${hotelName}-image-${currentIndex + 1}.jpg`;\r\n      link.target = '_blank';\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    } catch {\r\n      // Silent fail for download errors\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-7xl max-h-[95vh] p-0 overflow-hidden\">\r\n        <DialogHeader className=\"p-6 pb-0\">\r\n          <DialogTitle>{hotelName} - Gallery</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"relative flex flex-col h-[85vh]\">\r\n          {/* Image Container */}\r\n          <div className=\"flex-1 relative bg-gray-50 overflow-hidden\">\r\n            <img\r\n              src={getImageSrc(currentImage)}\r\n              alt={currentImage.title || `Hotel Image ${currentIndex + 1}`}\r\n              className=\"w-full h-full object-contain\"\r\n            />\r\n\r\n            {/* Navigation Arrows */}\r\n            {images.length > 1 && (\r\n              <>\r\n                <button\r\n                  onClick={goToPrevious}\r\n                  className=\"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/90 shadow-lg hover:bg-white transition-colors\"\r\n                  aria-label=\"Previous image\"\r\n                  type=\"button\"\r\n                >\r\n                  <ChevronLeft className=\"h-6 w-6 text-gray-900\" />\r\n                </button>\r\n                <button\r\n                  onClick={goToNext}\r\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/90 shadow-lg hover:bg-white transition-colors\"\r\n                  aria-label=\"Next image\"\r\n                  type=\"button\"\r\n                >\r\n                  <ChevronRight className=\"h-6 w-6 text-gray-900\" />\r\n                </button>\r\n              </>\r\n            )}\r\n\r\n            {/* Image Counter */}\r\n            <div className=\"absolute top-4 left-4 px-3 py-1 rounded-full bg-black/50 text-white text-sm\">\r\n              {currentIndex + 1} of {images.length}\r\n            </div>\r\n\r\n            {/* Image Actions */}\r\n            <div className=\"absolute top-4 right-4 flex gap-2\">\r\n              {currentImage.source === 'external' && (\r\n                <button\r\n                  onClick={() => window.open(currentImage.url, '_blank')}\r\n                  className=\"p-2 rounded-full bg-white/90 shadow-lg hover:bg-white transition-colors\"\r\n                  title=\"View original\"\r\n                  type=\"button\"\r\n                >\r\n                  <ExternalLink className=\"h-5 w-5 text-gray-900\" />\r\n                </button>\r\n              )}\r\n              <button\r\n                onClick={handleDownload}\r\n                className=\"p-2 rounded-full bg-white/90 shadow-lg hover:bg-white transition-colors\"\r\n                title=\"Download image\"\r\n                type=\"button\"\r\n              >\r\n                <Download className=\"h-5 w-5 text-gray-900\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Image Info */}\r\n          <div className=\"p-6 pt-4 bg-white border-t\">\r\n            <h3 className=\"font-medium text-gray-900\">\r\n              {currentImage.title || `Hotel Image ${currentIndex + 1}`}\r\n            </h3>\r\n            {currentImage.description && (\r\n              <p className=\"mt-1 text-gray-600 text-sm\">{currentImage.description}</p>\r\n            )}\r\n            <div className=\"mt-2 flex items-center gap-4 text-gray-500 text-xs\">\r\n              <span>\r\n                Source:{' '}\r\n                {currentImage.source === 'original' ? 'Hotel Gallery' : 'Web Search'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Thumbnail Strip */}\r\n          {images.length > 1 && (\r\n            <div className=\"mt-4\">\r\n              <div className=\"flex gap-2 overflow-x-auto pb-2\">\r\n                {images.map((image, index) => (\r\n                  <button\r\n                    className={`h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 transition-colors ${\r\n                      index === currentIndex\r\n                        ? 'border-blue-500'\r\n                        : 'border-gray-200 hover:border-gray-300'\r\n                    }`}\r\n                    key={image.id}\r\n                    onClick={() => setCurrentIndex(index)}\r\n                    type=\"button\"\r\n                  >\r\n                    <div\r\n                      aria-label={`Thumbnail ${index + 1}`}\r\n                      className=\"h-full w-full bg-center bg-cover\"\r\n                      role=\"img\"\r\n                      style={{ backgroundImage: `url(${getImageSrc(image)})` }}\r\n                    />\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport Image from 'next/image';\r\nimport { useState } from 'react';\r\nimport type {\r\n  HotelData,\r\n  TavilyHotelEnhancement,\r\n} from '@/types/hotel-types';\r\nimport { HotelImageGalleryModal } from './hotel-image-gallery-modal';\r\n\r\n// Image gallery constants\r\nconst ADDITIONAL_IMAGES_START_INDEX = 1;\r\nconst MAX_ADDITIONAL_IMAGES = 7;\r\nconst TABLET_BREAKPOINT_INDEX = 4;\r\n\r\ntype HotelImageGalleryProps = {\r\n  hotel: HotelData;\r\n  enhancedData?: TavilyHotelEnhancement | null;\r\n};\r\n\r\ntype CombinedImage = {\r\n  id: string;\r\n  url: string;\r\n  title?: string;\r\n  description?: string;\r\n  source: 'original' | 'external';\r\n};\r\n\r\n// Helper function to combine original and external images\r\nfunction combineImages(\r\n  hotel: HotelData,\r\n  enhancedData?: TavilyHotelEnhancement | null\r\n): CombinedImage[] {\r\n  const combined: CombinedImage[] = [];\r\n\r\n  // Add original hotel images first\r\n  if (hotel.images && hotel.images.length > 0) {\r\n    hotel.images.forEach((image, index) => {\r\n      combined.push({\r\n        id: `original-${image.id || index}`,\r\n        url: image.url,\r\n        title: image.title,\r\n        source: 'original',\r\n      });\r\n    });\r\n  }\r\n\r\n  // Add enhanced images if available\r\n  if (\r\n    enhancedData?.additionalImages &&\r\n    enhancedData.additionalImages.length > 0\r\n  ) {\r\n    enhancedData.additionalImages.forEach((image, index) => {\r\n      // Only add if the URL is valid and not a duplicate\r\n      if (\r\n        image.url &&\r\n        !combined.some((existing) => existing.url === image.url)\r\n      ) {\r\n        combined.push({\r\n          id: `external-${index}`,\r\n          url: image.url,\r\n          description: image.description,\r\n          source: 'external',\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return combined;\r\n}\r\n\r\n// Component to handle both internal and external images with accessibility\r\nfunction FlexibleImage({\r\n  src,\r\n  alt,\r\n  className,\r\n  width,\r\n  height,\r\n  onClick,\r\n}: {\r\n  src: string;\r\n  alt: string;\r\n  className: string;\r\n  width: number;\r\n  height: number;\r\n  onClick?: () => void;\r\n}) {\r\n  const [imageFailed, setImageFailed] = useState(false);\r\n\r\n  // Check if it's an external image\r\n  const isExternal = !src.includes('cdn-images.innstant-servers.com');\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if ((e.key === 'Enter' || e.key === ' ') && onClick) {\r\n      e.preventDefault();\r\n      onClick();\r\n    }\r\n  };\r\n\r\n  if (imageFailed) {\r\n    return (\r\n      <div\r\n        className={`${className} flex items-center justify-center bg-gray-200`}\r\n        style={{ width, height }}\r\n      >\r\n        <span className=\"text-gray-400 text-xs\">Image unavailable</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (onClick) {\r\n    return (\r\n      <button\r\n        aria-label={alt}\r\n        className={`${className} border-0 p-0 focus:outline-none focus:ring-2 focus:ring-blue-500`}\r\n        onClick={onClick}\r\n        onKeyDown={handleKeyDown}\r\n        type=\"button\"\r\n      >\r\n        {isExternal ? (\r\n          <div\r\n            aria-label={alt}\r\n            className=\"h-full w-full bg-center bg-cover bg-no-repeat\"\r\n            role=\"img\"\r\n            style={{\r\n              backgroundImage: `url(${src})`,\r\n              width,\r\n              height,\r\n            }}\r\n          />\r\n        ) : (\r\n          <Image\r\n            alt={alt}\r\n            className=\"h-full w-full object-cover\"\r\n            height={height}\r\n            onError={() => setImageFailed(true)}\r\n            src={src}\r\n            width={width}\r\n          />\r\n        )}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  if (isExternal) {\r\n    return (\r\n      <div\r\n        aria-label={alt}\r\n        className={`${className} bg-center bg-cover bg-no-repeat`}\r\n        role=\"img\"\r\n        style={{\r\n          backgroundImage: `url(${src})`,\r\n          width,\r\n          height,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Image\r\n      alt={alt}\r\n      className={className}\r\n      height={height}\r\n      onError={() => setImageFailed(true)}\r\n      src={src}\r\n      width={width}\r\n    />\r\n  );\r\n}\r\n\r\ntype MainImageProps = {\r\n  images: CombinedImage[];\r\n  hotelName: string;\r\n  onClick: () => void;\r\n};\r\n\r\nfunction MainImage({ images, hotelName, onClick }: MainImageProps) {\r\n  const mainImage = images[0];\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {mainImage ? (\r\n        <FlexibleImage\r\n          alt={`${hotelName} main view`}\r\n          className=\"h-full w-full object-cover transition-opacity hover:opacity-90\"\r\n          height={128}\r\n          onClick={onClick}\r\n          src={\r\n            mainImage.source === 'original'\r\n              ? `https://cdn-images.innstant-servers.com/128x128/${mainImage.url}`\r\n              : mainImage.url\r\n          }\r\n          width={128}\r\n        />\r\n      ) : (\r\n        <div className=\"flex h-full w-full items-center justify-center bg-gray-300\">\r\n          <span className=\"text-gray-500 text-xs\">Main Photo</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\ntype AdditionalImagesProps = {\r\n  images: CombinedImage[];\r\n  hotelName: string;\r\n  onImageClick: (index: number) => void;\r\n};\r\n\r\nfunction AdditionalImages({\r\n  images,\r\n  hotelName,\r\n  onImageClick,\r\n}: AdditionalImagesProps) {\r\n  // Generate all possible additional image slots\r\n  const imageSlots = Array.from(\r\n    { length: MAX_ADDITIONAL_IMAGES },\r\n    (_, index) => {\r\n      const imageIndex = index + ADDITIONAL_IMAGES_START_INDEX;\r\n      const image = images[imageIndex];\r\n      const isLastSlot = index === MAX_ADDITIONAL_IMAGES - 1;\r\n      const hasMoreImages = images.length > MAX_ADDITIONAL_IMAGES + 1;\r\n\r\n      // Responsive classes for each slot\r\n      const getResponsiveClasses = () => {\r\n        if (index === 0) {\r\n          return ''; // Always show first additional image\r\n        }\r\n        if (index === 1) {\r\n          return ''; // Always show second additional image\r\n        }\r\n        if (index <= TABLET_BREAKPOINT_INDEX) {\r\n          return 'hidden md:block'; // Show on tablet and up\r\n        }\r\n        return 'hidden lg:block'; // Show on desktop only\r\n      };\r\n\r\n      return (\r\n        <div\r\n          className={`relative ${getResponsiveClasses()}`}\r\n          key={image?.id || `empty-${index}`}\r\n        >\r\n          {image ? (\r\n            <FlexibleImage\r\n              alt={`${hotelName} additional view`}\r\n              className=\"h-full w-full object-cover transition-opacity hover:opacity-90\"\r\n              height={128}\r\n              onClick={() => onImageClick(imageIndex)}\r\n              src={\r\n                image.source === 'original'\r\n                  ? `https://cdn-images.innstant-servers.com/128x128/${image.url}`\r\n                  : image.url\r\n              }\r\n              width={128}\r\n            />\r\n          ) : (\r\n            <div className=\"flex h-full w-full items-center justify-center bg-gray-200\">\r\n              <span className=\"text-gray-400 text-xs\">Photo {index + 2}</span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Show \"+X photos\" overlay on last visible image if there are more */}\r\n          {isLastSlot && hasMoreImages && image && (\r\n            <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center bg-black/50\">\r\n              <span className=\"font-medium text-white text-xs\">\r\n                +{images.length - (MAX_ADDITIONAL_IMAGES + 1)} photos\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  );\r\n\r\n  return <>{imageSlots}</>;\r\n}\r\n\r\nexport function HotelImageGallery({\r\n  hotel,\r\n  enhancedData,\r\n}: HotelImageGalleryProps) {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const combinedImages = combineImages(hotel, enhancedData);\r\n\r\n  const openModal = (index: number) => {\r\n    setSelectedIndex(index);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mb-3 grid h-24 grid-cols-3 gap-0.5 overflow-hidden rounded-lg md:h-28 md:grid-cols-6 lg:h-32 lg:grid-cols-8\">\r\n        <MainImage\r\n          hotelName={hotel.hotelName}\r\n          images={combinedImages}\r\n          onClick={() => openModal(0)}\r\n        />\r\n        <AdditionalImages\r\n          hotelName={hotel.hotelName}\r\n          images={combinedImages}\r\n          onImageClick={openModal}\r\n        />\r\n      </div>\r\n\r\n      <HotelImageGalleryModal\r\n        hotelName={hotel.hotelName}\r\n        images={combinedImages}\r\n        initialIndex={selectedIndex}\r\n        isOpen={isModalOpen}\r\n        onClose={closeModal}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Building\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMjAiIHg9IjQiIHk9IjIiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNOSAyMnYtNGg2djQiIC8+CiAgPHBhdGggZD0iTTggNmguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDZoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiA2aC4wMSIgLz4KICA8cGF0aCBkPSJNMTIgMTBoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiAxNGguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDEwaC4wMSIgLz4KICA8cGF0aCBkPSJNMTYgMTRoLjAxIiAvPgogIDxwYXRoIGQ9Ik04IDEwaC4wMSIgLz4KICA8cGF0aCBkPSJNOCAxNGguMDEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/building\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Building = createLucideIcon('Building', [\n  ['rect', { width: '16', height: '20', x: '4', y: '2', rx: '2', ry: '2', key: '76otgf' }],\n  ['path', { d: 'M9 22v-4h6v4', key: 'r93iot' }],\n  ['path', { d: 'M8 6h.01', key: '1dz90k' }],\n  ['path', { d: 'M16 6h.01', key: '1x0f13' }],\n  ['path', { d: 'M12 6h.01', key: '1vi96p' }],\n  ['path', { d: 'M12 10h.01', key: '1nrarc' }],\n  ['path', { d: 'M12 14h.01', key: '1etili' }],\n  ['path', { d: 'M16 10h.01', key: '1m94wz' }],\n  ['path', { d: 'M16 14h.01', key: '1gbofw' }],\n  ['path', { d: 'M8 10h.01', key: '19clt8' }],\n  ['path', { d: 'M8 14h.01', key: '6423bh' }],\n]);\n\nexport default Building;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('ExternalLink', [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n]);\n\nexport default ExternalLink;\n","/**\r\n * Cancellation Policy Utility\r\n */\r\n\r\nexport interface CancellationStatus {\r\n  isCancellable: boolean;\r\n  refundPercentage: number;\r\n  message: string;\r\n  penaltyAmount?: number;\r\n}\r\n\r\nexport function getCurrentCancellationStatus(\r\n  bookingDate?: string,\r\n  cancellationPolicy?: string\r\n): CancellationStatus {\r\n  if (!bookingDate) {\r\n    return {\r\n      isCancellable: false,\r\n      refundPercentage: 0,\r\n      message: 'No booking date provided',\r\n    };\r\n  }\r\n\r\n  const booking = new Date(bookingDate);\r\n  const now = new Date();\r\n  const hoursUntilBooking = (booking.getTime() - now.getTime()) / (1000 * 60 * 60);\r\n\r\n  // Default policy: Free cancellation 24 hours before\r\n  if (hoursUntilBooking > 24) {\r\n    return {\r\n      isCancellable: true,\r\n      refundPercentage: 100,\r\n      message: 'Free cancellation available',\r\n    };\r\n  } else if (hoursUntilBooking > 0) {\r\n    return {\r\n      isCancellable: true,\r\n      refundPercentage: 50,\r\n      message: 'Partial refund available',\r\n      penaltyAmount: 50,\r\n    };\r\n  } else {\r\n    return {\r\n      isCancellable: false,\r\n      refundPercentage: 0,\r\n      message: 'Non-refundable',\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[9,10]}