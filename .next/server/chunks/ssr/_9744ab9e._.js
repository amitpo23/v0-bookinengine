module.exports=[76058,904272,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(281213);let e=(0,c.createContext)(void 0);function f({children:a,initialHotel:f}){let[g,h]=(0,c.useState)(f||null),[i,j]=(0,c.useState)({hotelId:f?.id||"",checkIn:new Date,checkOut:(0,d.addDays)(new Date,1),adults:2,children:0,childrenAges:[],rooms:1,city:"",hotelName:""}),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(1),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),E=Math.ceil((new Date(i.checkOut).getTime()-new Date(i.checkIn).getTime())/864e5),F=w?.priceConfirmed||w?.price||k.reduce((a,b)=>a+b.ratePlan.price*b.quantity*E,0),G=(a,b)=>{l(c=>c.filter(c=>c.room.id!==a||c.ratePlan.id!==b))};return(0,b.jsx)(e.Provider,{value:{hotel:g,setHotel:h,search:i,setSearch:j,selectedRooms:k,addRoom:a=>{l(b=>b.find(b=>b.room.id===a.room.id&&b.ratePlan.id===a.ratePlan.id)?b.map(b=>b.room.id===a.room.id&&b.ratePlan.id===a.ratePlan.id?{...b,quantity:b.quantity+a.quantity}:b):[...b,a])},removeRoom:G,updateRoomQuantity:(a,b,c)=>{c<=0?G(a,b):l(d=>d.map(d=>d.room.id===a&&d.ratePlan.id===b?{...d,quantity:c}:d))},clearRooms:()=>l([]),guestDetails:m,setGuestDetails:n,currentStep:o,setCurrentStep:p,nights:E,totalPrice:F,searchResults:q,setSearchResults:r,isSearching:s,setIsSearching:t,searchError:u,setSearchError:v,apiBookingData:w,setApiBookingData:x,isPreBooking:y,setIsPreBooking:z,preBookError:A,setPreBookError:B,bookingConfirmation:C,setBookingConfirmation:D},children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useBooking must be used within a BookingProvider");return a}a.s(["BookingProvider",()=>f,"useBooking",()=>g],76058);var h=a.i(340695),i=a.i(630342),j=a.i(497895);let k=()=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M8 2v4"}),(0,b.jsx)("path",{d:"M16 2v4"}),(0,b.jsx)("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),(0,b.jsx)("path",{d:"M3 10h18"})]}),l=()=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"m15 18-6-6 6-6"})}),m=()=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"m9 18 6-6-6-6"})}),n=["א'","ב'","ג'","ד'","ה'","ו'","ש'"],o=["Su","Mo","Tu","We","Th","Fr","Sa"],p=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],q=["January","February","March","April","May","June","July","August","September","October","November","December"];function r({value:a,onChange:d,minDate:e,label:f,placeholder:g,dir:r="ltr"}){let s,t,u,[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(()=>a||new Date),z="rtl"===r,A=z?p:q;(0,c.useEffect)(()=>{a&&y(a)},[a]);let B=a=>{if(!e)return!1;let b=new Date(a);b.setHours(0,0,0,0);let c=new Date(e);return c.setHours(0,0,0,0),b<c},C=a=>{let b=new Date;return a.getDate()===b.getDate()&&a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()},D=b=>!!a&&b.getDate()===a.getDate()&&b.getMonth()===a.getMonth()&&b.getFullYear()===a.getFullYear(),E=a=>{let b=new Date(x.getFullYear(),x.getMonth(),a);B(b)||(d(b),w(!1))};return(0,b.jsxs)(i.Popover,{open:v,onOpenChange:w,children:[(0,b.jsx)(i.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(h.Button,{variant:"outline",className:(0,j.cn)("w-full justify-start h-14 px-4","rtl"===r?"text-right":"text-left",!a&&"text-muted-foreground"),children:[(0,b.jsxs)("div",{className:(0,j.cn)("flex flex-col gap-0.5 flex-1","items-start"),children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:f}),(0,b.jsx)("span",{className:"font-medium",children:a?(s=a.getDate(),t=A[a.getMonth()],u=a.getFullYear(),z?`${s} ${t}, ${u}`:`${t} ${s}, ${u}`):g})]}),(0,b.jsx)(k,{})]})}),(0,b.jsx)(i.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,b.jsxs)("div",{className:"p-3",dir:"ltr",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(h.Button,{variant:"outline",size:"icon",className:"h-7 w-7 bg-transparent",onClick:()=>{y(new Date(x.getFullYear(),x.getMonth()-1,1))},children:(0,b.jsx)(l,{})}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:[A[x.getMonth()]," ",x.getFullYear()]}),(0,b.jsx)(h.Button,{variant:"outline",size:"icon",className:"h-7 w-7 bg-transparent",onClick:()=>{y(new Date(x.getFullYear(),x.getMonth()+1,1))},children:(0,b.jsx)(m,{})})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:(z?n:o).map(a=>(0,b.jsx)("div",{className:"h-9 w-9 flex items-center justify-center text-xs text-muted-foreground font-normal",children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let a=new Date(x.getFullYear(),x.getMonth()+1,0).getDate(),c=new Date(x.getFullYear(),x.getMonth(),1).getDay(),d=[];for(let a=0;a<c;a++)d.push((0,b.jsx)("div",{className:"h-9 w-9"},`empty-${a}`));for(let c=1;c<=a;c++){let a=new Date(x.getFullYear(),x.getMonth(),c),e=B(a),f=D(a),g=C(a);d.push((0,b.jsx)("button",{type:"button",onClick:()=>E(c),disabled:e,className:(0,j.cn)("h-9 w-9 rounded-md text-sm font-normal transition-colors","hover:bg-accent hover:text-accent-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",e&&"text-muted-foreground opacity-50 cursor-not-allowed hover:bg-transparent",f&&"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground",g&&!f&&"bg-accent text-accent-foreground"),children:c},c))}return d})()})]})})]})}a.s(["DatePickerInput",()=>r],904272)},281213,a=>{"use strict";function b(a,c="he"){return a.toLocaleDateString("he"===c?"he-IL":"en-US",{day:"numeric",month:"short",year:"numeric"})}function c(a,b="he"){return a.toLocaleDateString("he"===b?"he-IL":"en-US",{day:"2-digit",month:"2-digit",year:"2-digit"})}function d(a,b){let c=new Date(a);return c.setDate(c.getDate()+b),c}function e(a,b){let c=new Date(a);return c.setDate(c.getDate()-b),c}function f(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${b}-${c}-${d}`}a.s(["addDays",()=>d,"formatDate",()=>b,"formatDateForApi",()=>f,"formatDateShort",()=>c,"subDays",()=>e])},630342,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(507554),e=a.i(470121),f=a.i(750104),g=a.i(596743),h=a.i(486228),i=a.i(422297),j=a.i(392843),k=a.i(704691),l=a.i(692616),m=a.i(777192),n=a.i(30553),o=a.i(811011),p=a.i(225152),q=a.i(241852),r=a.i(152081),s="Popover",[t,u]=(0,f.createContextScope)(s,[k.createPopperScope]),v=(0,k.createPopperScope)(),[w,x]=t(s),y=a=>{let{__scopePopover:d,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!1}=a,l=v(d),m=c.useRef(null),[n,o]=c.useState(!1),[q=!1,r]=(0,p.useControllableState)({prop:f,defaultProp:g,onChange:h});return(0,b.jsx)(k.Root,{...l,children:(0,b.jsx)(w,{scope:d,contentId:(0,j.useId)(),triggerRef:m,open:q,onOpenChange:r,onOpenToggle:c.useCallback(()=>r(a=>!a),[r]),hasCustomAnchor:n,onCustomAnchorAdd:c.useCallback(()=>o(!0),[]),onCustomAnchorRemove:c.useCallback(()=>o(!1),[]),modal:i,children:e})})};y.displayName=s;var z="PopoverAnchor";c.forwardRef((a,d)=>{let{__scopePopover:e,...f}=a,g=x(z,e),h=v(e),{onCustomAnchorAdd:i,onCustomAnchorRemove:j}=g;return c.useEffect(()=>(i(),()=>j()),[i,j]),(0,b.jsx)(k.Anchor,{...h,...f,ref:d})}).displayName=z;var A="PopoverTrigger",B=c.forwardRef((a,c)=>{let{__scopePopover:f,...g}=a,h=x(A,f),i=v(f),j=(0,e.useComposedRefs)(c,h.triggerRef),l=(0,b.jsx)(n.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":h.open,"aria-controls":h.contentId,"data-state":M(h.open),...g,ref:j,onClick:(0,d.composeEventHandlers)(a.onClick,h.onOpenToggle)});return h.hasCustomAnchor?l:(0,b.jsx)(k.Anchor,{asChild:!0,...i,children:l})});B.displayName=A;var C="PopoverPortal",[D,E]=t(C,{forceMount:void 0}),F=a=>{let{__scopePopover:c,forceMount:d,children:e,container:f}=a,g=x(C,c);return(0,b.jsx)(D,{scope:c,forceMount:d,children:(0,b.jsx)(m.Presence,{present:d||g.open,children:(0,b.jsx)(l.Portal,{asChild:!0,container:f,children:e})})})};F.displayName=C;var G="PopoverContent",H=c.forwardRef((a,c)=>{let d=E(G,a.__scopePopover),{forceMount:e=d.forceMount,...f}=a,g=x(G,a.__scopePopover);return(0,b.jsx)(m.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(I,{...f,ref:c}):(0,b.jsx)(J,{...f,ref:c})})});H.displayName=G;var I=c.forwardRef((a,f)=>{let g=x(G,a.__scopePopover),h=c.useRef(null),i=(0,e.useComposedRefs)(f,h),j=c.useRef(!1);return c.useEffect(()=>{let a=h.current;if(a)return(0,q.hideOthers)(a)},[]),(0,b.jsx)(r.RemoveScroll,{as:o.Slot,allowPinchZoom:!0,children:(0,b.jsx)(K,{...a,ref:i,trapFocus:g.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,d.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),j.current||g.triggerRef.current?.focus()}),onPointerDownOutside:(0,d.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;j.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:(0,d.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),J=c.forwardRef((a,d)=>{let e=x(G,a.__scopePopover),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(K,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),K=c.forwardRef((a,c)=>{let{__scopePopover:d,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:j,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:p,...q}=a,r=x(G,d),s=v(d);return(0,h.useFocusGuards)(),(0,b.jsx)(i.FocusScope,{asChild:!0,loop:!0,trapped:e,onMountAutoFocus:f,onUnmountAutoFocus:j,children:(0,b.jsx)(g.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:m,onPointerDownOutside:n,onFocusOutside:o,onDismiss:()=>r.onOpenChange(!1),children:(0,b.jsx)(k.Content,{"data-state":M(r.open),role:"dialog",id:r.contentId,...s,...q,ref:c,style:{...q.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L="PopoverClose";function M(a){return a?"open":"closed"}c.forwardRef((a,c)=>{let{__scopePopover:e,...f}=a,g=x(L,e);return(0,b.jsx)(n.Primitive.button,{type:"button",...f,ref:c,onClick:(0,d.composeEventHandlers)(a.onClick,()=>g.onOpenChange(!1))})}).displayName=L,c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=v(d);return(0,b.jsx)(k.Arrow,{...f,...e,ref:c})}).displayName="PopoverArrow";var N=a.i(497895);function O({...a}){return(0,b.jsx)(y,{"data-slot":"popover",...a})}function P({...a}){return(0,b.jsx)(B,{"data-slot":"popover-trigger",...a})}function Q({className:a,align:c="center",sideOffset:d=4,...e}){return(0,b.jsx)(F,{children:(0,b.jsx)(H,{"data-slot":"popover-content",align:c,sideOffset:d,className:(0,N.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",a),...e})})}a.s(["Popover",()=>O,"PopoverContent",()=>Q,"PopoverTrigger",()=>P],630342)}];

//# sourceMappingURL=_9744ab9e._.js.map